(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e){e.exports={__schema:{types:[{kind:"INTERFACE",name:"Node",possibleTypes:[{name:"UtenteNode"},{name:"UserThreadType"},{name:"UserMessageType"},{name:"RisorsaNode"},{name:"PianoNode"},{name:"ProceduraVASNode"},{name:"EnteNode"},{name:"ProceduraAvvioNode"},{name:"RisorseAvvioType"},{name:"ProceduraAdozioneNode"},{name:"RisorseAdozioneType"},{name:"ProceduraAdozioneVASNode"},{name:"RisorseAdozioneVASType"},{name:"ProceduraApprovazioneNode"},{name:"RisorseApprovazioneType"},{name:"ProceduraPubblicazioneNode"},{name:"RisorsePubblicazioneType"},{name:"RisorseVASType"},{name:"ConsultazioneVASNode"},{name:"SoggettoOperanteNode"},{name:"AzioneNode"},{name:"FasePianoStoricoType"},{name:"RisorsePianoType"},{name:"ConferenzaCopianificazioneNode"},{name:"RisorseCopianificazioneType"},{name:"PianoControdedottoNode"},{name:"RisorsePianoControdedottoType"},{name:"PianoRevPostCPNode"},{name:"RisorsePianoRevPostCPType"}]}]}}},188:function(e,a,t){e.exports=t(430)},193:function(e,a,t){},223:function(e,a){},225:function(e,a){},266:function(e,a){},267:function(e,a){},269:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=269},430:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(24),r=t.n(o),c=(t(193),t(6)),l=t(4),s=t(444),d=t(445),u=t(441),m=t(67),p=t(111),v=t(183),f=t(35),E=t(134),g=t.n(E),b=t(177),N=t(49),z=t(52),A=t(447),h=t(93),O=t.n(h),I=t(135),C=t(178),S=t.n(C);function P(){return(P=Object(b.a)(g.a.mark(function e(a,t){var n,i,o,r,l,s,d=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:{},"content-type"in(i=S()(n.headers,function(e,a){return a.toLowerCase()}))?n.body instanceof FormData&&(i["content-type"]="multipart/form-data"):i["content-type"]="text/plain;charset=UTF-8",o={url:t,method:n.method||"GET",data:n.body instanceof FormData?n.body:String(n.body),headers:i,validateStatus:function(){return!0},onUploadProgress:n.uploadProgres,cancelToken:n.cancelToken},e.next=6,a.request(o);case 6:return r=e.sent,l="object"===typeof r.data?JSON.stringify(r.data):r.data,s=new I.Headers,Object.entries(r.headers).forEach(function(e){var a=Object(c.a)(e,2),t=a[0],n=a[1];s.append(t,n)}),e.abrupt("return",new I.Response(l,{status:r.status,statusText:r.statusText,headers:s}));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var y,R,x=t(399),L=t(181),j=new p.b({introspectionQueryResultData:L}),T=O.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"}),k=new p.a({fragmentMatcher:j,dataIdFromObject:function(e){switch(e.__typename){case"UserNode":return e.fiscalCode;case"RisorsaNode":return e.uuid;case"PianoNode":return e.codice;case"ProceduraVASNode":return e.uuid;case"EnteNode":return e.ipa;case"UfficioNode":case"ConsultazioneVASNode":case"ProceduraAvvioNode":case"ConferenzaCopianificazioneNode":case"ProceduraAdozioneNode":case"PianoControdedottoNode":case"PianoRevPostCPNode":case"ProceduraAdozioneVASNode":case"ProceduraApprovazioneNode":case"ProceduraPubblicazioneNode":return e.uuid;default:return Object(p.c)(e)}}}),w=new m.a({link:f.a.from([Object(v.a)(function(e){var a=e.graphQLErrors,t=e.networkError;a&&a.map(function(e){var a=e.message,t=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(a,", Location: ").concat(t,", Path: ").concat(n))}),t&&console.log("[Network error]: ".concat(t))}),Object(x.a)({defaults:{},resolvers:{},typeDefs:"\n                type Authority {\n                    value: Int!\n                    label: String!\n                }\n                type Query {\n                    visibilityFilter: String\n                    authorities: [Authority]\n                }",cache:k}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.uri,t=void 0===a?"/graphql":a,n=e.fetch,i=void 0===n?fetch:n,o=e.fetchOptions,r=e.credentials,c=e.headers,l=e.includeExtensions,s=(e.a,{http:{includeExtensions:l},options:o,credentials:r,headers:c});return new f.a(function(e){var a=Object(z.e)(e,t),n=e.getContext(),o={http:n.http,options:n.fetchOptions,credentials:n.credentials,headers:n.headers},r=Object(z.d)(e,z.b,s,o),c=r.options,l=r.body,d=Object(A.a)(l),u=d.clone,m=d.files,p=Object(z.f)(u,"Payload");if(m.size){delete c.headers["content-type"];var v=new FormData;v.append("operations",p);var f={},E=0;m.forEach(function(e){f[++E]=e}),v.append("map",JSON.stringify(f)),E=0,m.forEach(function(e,a){v.append(++E,a,a.name)}),c.body=v}else c.body=p;return new N.a(function(t){var o=Object(z.a)(),r=o.controller,l=o.signal;r&&(c.signal=l);var s=O.a.CancelToken.source();c.cancelToken=s.token;var d=function(){s.cancel("Operation canceled"),n.uploadProgress=null};return m.size>0&&c.body instanceof FormData&&n.uploadProgress&&(c.uploadProgres=function(e){var a=e.loaded,t=e.isTrusted,i=e.total;t&&n.uploadProgress&&n.uploadProgress({loaded:a,total:i},d)}),i(a,c).then(function(a){return e.setContext({response:a}),a}).then(Object(z.c)(e)).then(function(e){t.next(e),t.complete()}).catch(function(e){n.uploadProgress=null,"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))}),function(){n.uploadProgress=null,s.cancel("Operation canceled"),r&&r.abort()}})})}({uri:"/serapide/graphql",credentials:"same-origin",fetch:(y=T,function(e,a){return P.apply(this,arguments)}.bind(void 0,y))})]),cache:k}),D=t(17),U=t(19),_=t(10),V=t(184),$=t.n(V),M=t(30),q=t(386),F=t(440),B=t(432),Z=(t(377),t(378)),G=t(64),W=t(18),H=t(442),Q=t(34),J={realzaione_generale:{order:0,label:"RELAZIONE GENERALE",tooltip:"art. 4 comma 2 Regolamento 4/R/2017 e art. 95 comma 5 l.r. 65/2014"},disciplina_piano:{order:1,label:"DISCIPLINA DEL PIANO",tooltip:"art. 95 della l.r. 65/2014"},indagini_geologiche_idrauliche_sismiche:{order:4,label:"RELAZIONE INDAGINI GEOLOGICHE IDRAULICHE SISMICHE",tooltip:"art.104 comma 9 l.r. 65/2014"},relazione_responsabile:{order:5,label:"RELAZIONE TECNICA RESPONSABILE DEL PROCEDIMENTO",tooltip:"art. 95 comma 7 l.r. 65/2014"},relazione_garante_informazione_partecipazione:{order:6,label:"RELAZIONE DEL GARANTE DELL\u2019INFORMAZIONE E DELLA PARTECIPAZIONE",tooltip:"art. 38 comma 2 l.r. 65/2014"},valutazioni:{order:7,label:"VALUTAZIONI",tooltip:"art. 14 l.r. 65/2014; l.r. 10/2010"}},X={piani_attuativi_beni_paseaggistici:{order:2,label:"SCHEDE NORMA PIANI ATTUATIVI BENI PAESAGGISTICI",tooltip:"art. 4 comma 5 Accordo MIBACT-Regione Toscana del 16.12.2016"},elaborati_adeguamento_conformazione:{order:8,label:"ELABORATI DI ADEGUAMENTO CONFORMAZIONE",tooltip:"art. 3 comma 4 Accordo MIBACT-Regione Toscana del 16.12.2016"}},Y={elaborati_conformazione:{order:8,label:"ELABORATI DI CONFORMAZIONE",tooltip:"art. 3 comma 4 Accordo MIBACT-Regione Toscana del 16.12.2016"}},K={supporto_previsioni_piano_carto:{order:0,label:"ELABORATI CARTOGRAFICI DI SUPPORTO ALLE PREVISIONI DEL PIANO",tooltip:"ai sensi art. 95 comma 5 della l.r. 65/2014"},disciplina_insediamenti_esistenti_carto:{order:1,label:"ELABORATI CARTOGRAFICI INERENTI LA DISCIPLINA PER LA GESTIONE DEGLI INSEDIAMENTI ESISTENTI",tooltip:"ai sensi art. 95 comma 2 della l.r. 65/2014"},assetti_insiedativi_infrastrutturali_edilizi_carto:{order:2,label:"ELABORATI CARTOGRAFICI INERENTI LE TRASFORMAZIONI DEGLI ASSETTI INSEDIATIVI, INFRASTRUTTURALI ED EDILIZI",tooltip:"ai sensi art. 95 comma 3 della l.r. 65/2014"}},ee={operativo:{testuali:Object(Q.a)({},J,X),cartografici:K},strutturale:{testuali:Object(Q.a)({},J,Y),cartografici:K},variante_operativo:{testuali:Object(Q.a)({},J,X),cartografici:K},variante_strutturale:{testuali:Object(Q.a)({},J,Y),cartografici:K}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.nome,t=void 0===a?"":a,n=e.ipa,i=e.tipo;return"".concat(void 0===i?"":i).concat(n&&" di ").concat(t)},te=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ipa;return"".concat(e&&"ID ").concat(e)},ne=function(e){return Object(W.isDate)(e)?e:Object(F.a)(e)},ie=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy";return e?Object(B.a)(ne(e),a,{locale:H.a}):null},oe=function(e,a){return Object(Z.a)(ne(e),a)},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.firstName,t=e.lastName,n=e.fiscalCode;return a||t?"".concat(a||""," ").concat(t||""):n},ce=["anagrafica","avvio","adozione","approvazione","pubblicazione"],le=function(e){var a=e.graphQLErrors,t=e.message,n=e.networkError,i=(n=void 0===n?{}:n).result,o=(i=void 0===i?{}:i).errors,r=void 0===o?[]:o,c=Object(q.a)(a).concat(Object(q.a)(r));t&&U.toast.error(t,{autoClose:!0}),c.map(function(e){var a=e.message;return U.toast.error(a,{autoClose:!0})})},se=function(e){return function(a,t){return function(n){var i;return{variables:{input:(i={},Object(M.a)(i,e,Object(M.a)({},t,Object(W.isDate)(n)?n.toISOString():n)),Object(M.a)(i,"uuid",a),i)}}}}},de=function(e){return Object(W.get)(e,"piano.codice")},ue=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,a){var t=a.node;return e[t.user.fiscalCode]?e[t.user.fiscalCode].push(t):e[t.user.fiscalCode]=[t],e},{})}(e.filter(function(e){return e.node.tipo===a}))},me=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).uffici;return(void 0===e?[]:e).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.qualificaLabel,n=e.ufficio,i=(n=void 0===n?{}:n).uuid,o=(n.descrizione,n.nome),r=n.ente,c=(r=void 0===r?{}:r).nome;return{label:"Ente ".concat(c," ufficio ").concat(o),value:i,tipologia:a,tipologiaLabel:t}})},pe=function(e){return"AVVIO"===e||"ADOZIONE"===e||"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},ve=function(e){return"ADOZIONE"===e||"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},fe=function(e){return"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},Ee=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return"ADMIN_ENTE"===e.profilo}).map(function(e){return e.ente})},ge=function(e,a){return e.filter(function(e){var t=e.node;return(t=void 0===t?{}:t).tipo===a}).map(function(e){return e.node})},be=function(e,a){return ge(e,a).shift()},Ne=["GC","PIAN"],ze=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio,a=(e=void 0===e?{}:e).qualifica;return Ne.includes(a)})},Ae="VERIFICA",he="VERIFICA_SEMPLIFICATA",Oe="PROCEDIMENTO_SEMPLIFICATO",Ie="PROCEDURA_ORDINARIA",Ce="NON_NECESSARIA",Se="delibera",Pe="documento_genio_civile",ye="delibera_opts",Re="obiettivi_piano",xe="quadro_conoscitivo",Le="programma_attivita",je="individuazione_garante_informazione",Te="contributi_tecnici",ke="elaborati_conferenza",we="integrazioni",De="altri_allegati_avvio",Ue="relazione_motivata",_e="documento_preliminare_verifica_vas",Ve="parere_verifica_vas",$e="parere_sca",Me="parere_ac",qe="provvedimento_verifica_vas",Fe="documento_preliminare_vas",Be="rapporto_ambientale",Ze="sintesi_non_tecnica",Ge=(R={},Object(M.a)(R,Ae,_e),Object(M.a)(R,he,Ue),Object(M.a)(R,Oe,Fe),Object(M.a)(R,Ie,Fe),R),We=t(3),He=t.n(We),Qe=t(32),Je=t(60),Xe=t.n(Je),Ye=function(e,a,t){return Object(Qe.a)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t[a]&&!t[e]},Object(Qe.g)(e,a,t))},Ke=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Qe.a)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t[a]&&!t[e]},Object(Qe.b)(Object(Qe.h)(function(a){return Object(M.a)({},e,a.initValue||t)},Object(M.a)({},a,function(a){return function(){return Object(M.a)({},e,!a[e])}}))))},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(e.onUpdate,e.log),t=void 0!==a&&a,n=e.comp,i=void 0===n?"":n,o=t?function(e){console.log(i+" "+e+" ")}:function(){};return Object(Qe.b)(Qe.d,Object(Qe.c)({componentDidUpdate:function(){Xe.a.rebuild(),o("Update")},componentDidMount:function(){Xe.a.rebuild(),o("Mount")}}))},aa=function(e){return Object(Qe.c)({componentDidMount:function(){this.props.stopPolling&&this.props.stopPolling()},componentDidUpdate:function(){this.props.stopPolling&&this.props.stopPolling()},componentWillUnmount:function(){this.props.startPolling&&this.props.startPolling(e)}})},ta=ea({onUpdate:!0,log:!1,comp:"Stato Progres"})(function(e){var a=e.stato,t=void 0===a?"":a,n=e.className,o=void 0===n?"stato-progress":n,r=e.legend,c=void 0!==r&&r,l="_".concat($.a.generate()),s=ce.indexOf(t.toLocaleLowerCase())+1,d=ce[s];return i.a.createElement("span",{className:o},i.a.createElement("i",{id:l,"data-tip":"".concat(Object(W.capitalize)(d)),className:"material-icons text-serapide ".concat(d)},"room"),i.a.createElement("ul",{className:"_icons _".concat(d)},ce.map(function(e,a){return i.a.createElement("li",{key:"_".concat(e),"data-tip":"".concat(Object(W.capitalize)(e)),id:"_".concat(e),className:He()({"bg-serapide":s>=a})})})),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"_".concat(d," _labels")},ce.map(function(e,a){return i.a.createElement("li",{key:"label_".concat(e),id:"label_".concat(e),className:He()("label_".concat(e),e)},e)}))))}),na=function(e){var a=e.id,t=e.confirm,n=e.closeToast,o=e.label,r=void 0===o?"Elimina risorsa?":o;return i.a.createElement("div",{className:"px-1 text-dark d-flex  justify-content-around align-items-center"},i.a.createElement("span",{className:"pr-1"},r)," ",i.a.createElement(_.b,{style:{fontSize:"0.7rem"},color:"danger",onClick:function(){t(a),n()}},"Conferma"))},ia=i.a.Fragment,oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";return"draft"===e.toLowerCase()||"unknown"===e},ra=function(e,a){var t=e.node.lastUpdate,n=a.node.lastUpdate;return t===n?0:t>n?-1:1},ca=function(e){var a=e.title,t=e.piani,n=void 0===t?[]:t,o=e.onDeletePiano,r=void 0===o?function(){return console.warn("Aggiungere query per eliminazione piano")}:o,c=function(e){return r({variables:{codice:e}})};return i.a.createElement(ia,null,i.a.createElement("h6",{className:"pb-3 text-uppercase"},a),i.a.createElement(_.s,{className:"pb-4",size:"sm",striped:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Notifiche"),i.a.createElement("th",null,"Nome Piano"),i.a.createElement("th",null,"Comune"),i.a.createElement("th",null,"Tipo"),i.a.createElement("th",null,"Ultima Modifica"),i.a.createElement("th",null,"Codice Unico"),i.a.createElement("th",null,"Anagrafica"),i.a.createElement("th",null,"Stato"),i.a.createElement("th",null,"RUP"),i.a.createElement("th",null,"Riprendi procedimento"))),i.a.createElement("tbody",null,n.sort(ra).map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node,a=e.alertsCount,t=void 0===a?0:a,n=e.ente,o=(n=void 0===n?{}:n).nome,r=void 0===o?"":o,l=e.descrizione,s=e.tipo,d=e.lastUpdate,u=e.codice,m=e.fase,p=e.responsabile,v=void 0===p?{}:p;return i.a.createElement("tr",{key:u},i.a.createElement("td",{className:"text-center"},t>0&&i.a.createElement("i",{className:"material-icons text-danger"},"notification_important")),i.a.createElement("td",{style:{maxWidth:350}},l),i.a.createElement("td",{style:{maxWidth:350}},r),i.a.createElement("td",{className:"text-center text-capitalize"},s),i.a.createElement("td",{className:"text-center"},ie(d)),i.a.createElement("td",{className:"text-center"},u),i.a.createElement("td",{className:"text-center",style:{cursor:"pointer"},onClick:function(){return function(e,a){window.location.href="DRAFT"===a?"#/crea_anagrafica/".concat(e):"#/piano/".concat(e,"/anagrafica")}(u,m)}},i.a.createElement("i",{className:"material-icons text-serapide"},"assignment")),i.a.createElement("td",null,i.a.createElement(ta,{stato:m})),i.a.createElement("td",{className:"text-justify text-center"},v&&"".concat(v.firstName||""," ").concat(v.lastName||"")),i.a.createElement("td",{className:"text-center",style:{cursor:"pointer"},onClick:function(){return oa(m)?function(e){U.toast.isActive(e)||U.toast.warn(i.a.createElement(na,{label:"Eliminare definitavmente il piano?",confirm:c,id:e}),{autoClose:!0,draggable:!0,id:e,onClose:function(){}})}(u):function(e){window.location.href="#/piano/".concat(e,"/home")}(u)}},i.a.createElement("i",{className:"material-icons text-serapide"},oa(m)?"delete":"play_circle_filled")))}))))},la=function(e){e.title;var a=e.messaggi,t=void 0===a?[]:a;return i.a.createElement(_.s,{className:"pb-4",size:"sm",hover:!0},i.a.createElement("tbody",null,t.map(function(e){var a=e.sentAt,t=(e.content,e.thread),n=(t=void 0===t?{}:t).id,o=t.absoluteUrl,r=t.subject,c=e.sender,l=(c=void 0===c?{}:c).email,s=c.firstName,d=c.lastName;return i.a.createElement("tr",{key:n,onClick:function(){return window.location.href=o},className:"pointer"},i.a.createElement("td",{className:"text-center"},i.a.createElement("i",{className:"material-icons text-serapide"},"fiber_manual_record")),i.a.createElement("td",{className:"text-center"},ie(a)),i.a.createElement("td",{className:"text-center"},i.a.createElement("span",{className:"d-inline-flex flex-column"},i.a.createElement("span",{className:"text-nowrap"},"".concat(s," ").concat(d)),i.a.createElement("span",{className:"text-nowrap text-uppercase"},l))),i.a.createElement("td",null,r))}),0===t.length&&i.a.createElement("tr",null,i.a.createElement("td",null,"Nessun messaggio da leggere"))))},sa=function(e){var a=e.label,t=void 0===a?"":a,n=e.iconSize,o=e.icon,r=void 0===o?"":o,c=e.fontSize,l=void 0===c?"size-12":c,s=e.classNameLabel,d=void 0===s?"py-2":s,u=e.spinnerClass,m=void 0===u?"spinner-border spinner-border-sm ml-2":u,p=e.isLoading,v=void 0!==p&&p,f=Object(D.a)(e,["label","iconSize","icon","fontSize","classNameLabel","spinnerClass","isLoading"]);return i.a.createElement(_.b,f,i.a.createElement("span",{className:"".concat(d," ").concat(l," d-flex align-items-center justify-content-around")},i.a.createElement("i",{className:"material-icons ".concat(n&&n)},r),i.a.createElement("span",{className:"pl-1"},t),v&&i.a.createElement("div",{className:m,role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))))},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.length>1?function(e,a,t,n,o){return i.a.createElement("span",{className:a},e.slice(0,-1).join(" ")," ",i.a.createElement("span",{className:"text-nowrap"},e.slice(-1),i.a.createElement("i",{"data-tip":t,"data-tip-disable":n,className:"material-icons text-".concat(o," align-top icon-12")},"info")))}(e,a,t,n,o):function(e,a,t,n,o){return i.a.createElement("span",{className:"text-nowrap ".concat(a)},e[0],i.a.createElement("i",{"data-tip":t,"data-tip-disable":n,className:"material-icons text-".concat(o," align-top icon-12")},"info"))}(e,a,t,n,o)},ua=function(e){var a=e.dataTip,t=e.dataTipDisable,n=e.text,o=void 0===n?"":n,r=e.className,c=e.color,l=void 0===c?"serapide":c,s=o.replace(/ +(?= )/g,"").trim().split(" ");return o?da(s,r,a,t,l):i.a.createElement("i",{"data-tip":a,"data-tip-disable":t,className:"material-icons text-".concat(l," align-top icon-12")},"info")},ma=t(7),pa=t(8),va=t.n(pa);function fa(){var e=Object(ma.a)(["\nfragment CONFERENZA on ConferenzaCopianificazioneNode {\n        uuid\n        idPratica\n        dataRichiestaConferenza\n        dataScadenzaRisposta\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return fa=function(){return e},e}function Ea(){var e=Object(ma.a)(["\nfragment PUBBLICAZIONE on ProceduraPubblicazioneNode {\n        uuid\n        pubblicazioneUrl\n        pubblicazioneUrlData\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return Ea=function(){return e},e}function ga(){var e=Object(ma.a)(["\nfragment APPROVAZIONE on ProceduraApprovazioneNode {\n        uuid\n        dataCreazione\n        dataDeliberaApprovazione\n        richiestaConferenzaPaesaggistica\n        urlPianoPubblicato\n        pubblicazioneUrl\n        pubblicazioneUrlData\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return ga=function(){return e},e}function ba(){var e=Object(ma.a)(["\nfragment ADOZIONE on ProceduraAdozioneNode {\n        uuid\n        dataCreazione\n        dataDeliberaAdozione\n        scadenzaPareriAdozioneSca\n        pubblicazioneBurtUrl\n        pubblicazioneBurtData\n        pubblicazioneSitoUrl\n        pubblicazioneBurtBollettino\n        osservazioniConcluse\n        conclusa\n        richiestaConferenzaPaesaggistica\n        urlPianoControdedotto\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return ba=function(){return e},e}function Na(){var e=Object(ma.a)(["\nfragment AVVIO on ProceduraAvvioNode {\n        uuid\n        conferenzaCopianificazione\n        dataCreazione\n        dataScadenzaRisposta\n        garanteNominativo\n        garantePec\n        richiestaIntegrazioni\n        messaggioIntegrazione\n        notificaGenioCivile\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return Na=function(){return e},e}function za(){var e=Object(ma.a)(["\nfragment  ConsultazioneVAS on ConsultazioneVASNode {\n          uuid\n          avvioConsultazioniSca\n          dataCreazione\n          dataScadenza\n          dataAvvioConsultazioniSca\n          dataRicezionePareri\n          proceduraVas{\n            uuid\n            tipologia\n            dataAssoggettamento\n            risorse(archiviata: false) {\n            ...Risorse\n            }\n          }\n}\n  ","\n"]);return za=function(){return e},e}function Aa(){var e=Object(ma.a)(["\nfragment Piano on PianoNode {\n    codice\n    tipo: tipologia\n    descrizione\n    lastUpdate\n    dataDelibera\n    numeroDelibera\n    dataCreazione\n    dataAccettazione\n    dataAvvio\n    dataApprovazione\n    alertsCount\n    dataProtocolloGenioCivile\n    redazioneNormeTecnicheAttuazioneUrl\n    compilazioneRapportoAmbientaleUrl\n    conformazionePitPprUrl\n    monitoraggioUrbanisticoUrl \n    azioni {\n        ...Azioni\n    }\n    ente {\n      ipa\n      nome\n      tipo\n    }\n    fase\n    responsabile{\n        ...User\n    }\n    risorse(archiviata: false){\n        ...Risorse\n      }\n    soggettoProponente {\n        qualifica\n        qualificaLabel\n        ufficio {\n          uuid\n          nome\n          ente{\n              ipa\n               nome\n          }\n        }\n    }\n    soggettiOperanti {\n      qualificaUfficio{\n\t\t\t\t\tqualifica\n          qualificaLabel\n          ufficio{\n            uuid\n            nome\n            ente {\n              ipa\n               nome\n            }\n          }\n        }\n  }\n  proceduraVas {uuid}\n  proceduraAvvio {uuid}\n  \n}\n","\n","\n","\n"]);return Aa=function(){return e},e}function ha(){var e=Object(ma.a)(["\nfragment VAS on ProceduraVASNode {\n        uuid\n        tipologia\n        dataVerifica\n        dataCreazione\n        dataProcedimento\n        dataApprovazione\n        dataAssoggettamento\n        verificaEffettuata\n        procedimentoEffettuato\n        assoggettamento\n        nonNecessaria\n        conclusa\n        pubblicazioneProvvedimentoVerificaAc\n        pubblicazioneProvvedimentoVerificaAp\n        piano {\n          codice\n            soggettoProponente {\n              qualifica\n              qualificaLabel\n              ufficio {\n                  uuid\n                  nome\n                  ente {\n                    ipa\n                    nome\n                  }\n                }\n              }\n          soggettiOperanti {\n            qualificaUfficio {\n              qualifica\n              qualificaLabel\n                ufficio {\n                uuid\n                nome\n                ente {\n                    ipa\n                    nome\n                  }\n              }\n            }\n          }\n        }\n        risorse(archiviata: false){\n            ...Risorse\n        }\n}\n","\n"]);return ha=function(){return e},e}function Oa(){var e=Object(ma.a)(["\nfragment AzioniPiano on PianoNode {\n  codice\n  fase \n  azioni {\n      ...Azioni\n  }\n\n}\n","\n"]);return Oa=function(){return e},e}function Ia(){var e=Object(ma.a)(["\nfragment Risorse on RisorsaNodeConnection{\n  edges {\n    node {\n      ...Risorsa\n    }\n  }\n}\n",""]);return Ia=function(){return e},e}function Ca(){var e=Object(ma.a)(["\nfragment Azioni on AzioneNode {\n      order\n      tipologia\n      stato\n      qualificaRichiesta\n      data #data di chiusura azione\n      uuid\n      label\n      tooltip\n      fase\n      eseguibile\n      avvioScadenza # data di avvio scadenza\n      scadenza #data entro la quale eseguire azione\n}\n"]);return Ca=function(){return e},e}function Sa(){var e=Object(ma.a)(["\nfragment Contatto on QualificaUfficioNode{\n        id\n        qualifica\n        qualificaLabel\n        ufficio{\n          uuid\n          descrizione\n          email\n          nome\n        ente{\n          descrizione\n          ipa\n          nome\n    }\n  }\n}\n"]);return Sa=function(){return e},e}function Pa(){var e=Object(ma.a)(["\nfragment Risorsa on RisorsaNode {\n    nome\n    uuid\n    tipo\n    dimensione\n    downloadUrl\n    lastUpdate\n    user{\n      fiscalCode\n      firstName\n      lastName\n    }\n    label\n    tooltip\n}\n"]);return Pa=function(){return e},e}function ya(){var e=Object(ma.a)(["\nfragment Profiles on ProfiloChoiceNode {\n      ente{\n        ipa\n        nome\n        descrizione\n        tipo\n      }\n      profilo\n      qualifiche{\n        qualifica\n        ufficio\n        qualificaUfficio{\n          qualifica\n          qualificaLabel\n        }\n      }\n    \n    }\n"]);return ya=function(){return e},e}function Ra(){var e=Object(ma.a)(["\nfragment User on UtenteNode {\n      fiscalCode\n    \tfirstName\n    \tlastName\n    \temail\n    \tisStaff\n      unreadThreadsCount\n      unreadMessages {\n          thread {\n            id\n            subject\n            absoluteUrl\n          }\n          sender {\n            email\n            firstName\n            lastName\n          }\n          sentAt\n          content\n        }\n}\n"]);return Ra=function(){return e},e}var xa=va()(Ra()),La=va()(ya()),ja=va()(Pa()),Ta=va()(Sa()),ka=va()(Ca()),wa=va()(Ia(),ja),Da=va()(Oa(),ka),Ua=va()(ha(),wa),_a=va()(Aa(),wa,xa,ka),Va=va()(za(),wa),$a=va()(Na(),wa),Ma=va()(ba(),wa),qa=va()(ga(),wa),Fa=va()(Ea(),wa),Ba=va()(fa(),wa);function Za(){var e=Object(ma.a)(["\nquery getAuth{\n    authorities @client\n    {\n        value\n    label   \n    }\n}\n"]);return Za=function(){return e},e}function Ga(){var e=Object(ma.a)(["\n\nquery RisorsePaginaApprovazione($codice: String!){\n  pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n        }\n    }\n  }\n  procedureAdozione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    }\n  procedureApprovazione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...APPROVAZIONE \n            }\n            \n        }\n    }\n}\n","\n","\n","\n"]);return Ga=function(){return e},e}function Wa(){var e=Object(ma.a)(["\n\nquery RisorsePaginaAvvio($codice: String){\n  procedureAvvio(piano_Codice: $codice) {\n        edges{\n          node{\n            ...AVVIO \n            }\n            \n        }\n    }\n  procedureVas(piano_Codice: $codice) {\n        edges{\n          node{\n            uuid\n            risorse{...Risorse}\n            }\n            \n        }\n    }\n}\n","\n","\n"]);return Wa=function(){return e},e}function Ha(){var e=Object(ma.a)(["\n\nquery RisorsePaginaAdozione($codice: String!){\n  pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n        }\n    }\n  }\n  pianoControdedotto(piano_Codice: $codice){\n      edges{\n        node{\n            uuid\n            risorse(archiviata: false){...Risorse}\n            }\n      }        \n  }\n\n  procedureAdozione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    }\n  procedureAdozioneVas(piano_Codice: $codice){\n      edges{\n        node{\n            uuid\n            risorse(archiviata: false) {...Risorse}\n        }\n      }\n    }\n}\n","\n","\n"]);return Ha=function(){return e},e}function Qa(){var e=Object(ma.a)(["\nquery GetPubblicazione($codice: String!) {\n  modello: procedurePubblicazione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...PUBBLICAZIONE \n            }  \n        }\n    }\n}\n","\n"]);return Qa=function(){return e},e}function Ja(){var e=Object(ma.a)(["\nquery GetApprovazione($codice: String!) {\n  modello: procedureApprovazione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...APPROVAZIONE \n            }  \n        }\n    }\n}\n","\n"]);return Ja=function(){return e},e}function Xa(){var e=Object(ma.a)(["\nquery AdozioneVas($codice: String!){\n  modello: procedureAdozioneVas(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false) {...Risorse}\n    }\n  }\n}}\n","\n"]);return Xa=function(){return e},e}function Ya(){var e=Object(ma.a)(["\nquery PianoRevPostCp($codice: String!){\n    modello: pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n    }\n  }\n}}\n","\n"]);return Ya=function(){return e},e}function Ka(){var e=Object(ma.a)(["\nquery GetRisorsePianoControdedotto($codice: String!) {\n      modello: pianoControdedotto(piano_Codice: $codice){\n          edges{node{\n            uuid\n          risorse(archiviata: false){...Risorse}\n\n          }}        \n          \n      }\n}\n","\n"]);return Ka=function(){return e},e}function et(){var e=Object(ma.a)(["\nquery GetConferenzaCopianificazione($codice: String!) {\n    modello: conferenzaCopianificazione(piano_Codice: $codice) {\n          edges {\n              node {\n                  ...CONFERENZA\n              }\n          }\n    }\n}\n","\n"]);return et=function(){return e},e}function at(){var e=Object(ma.a)(["\nquery getUffici($tipo: [String]){\n  uffici(qualifiche: $tipo) {\n      ...Contatto\n    }\n  }\n  ","\n"]);return at=function(){return e},e}function tt(){var e=Object(ma.a)(["\nquery getUffici($tipo: String){\n  uffici(qualifica: $tipo) {\n      ...Contatto\n    }\n  }\n  ","\n"]);return tt=function(){return e},e}function nt(){var e=Object(ma.a)(["\nquery getVas($codice: String!) {\n    modello: procedureVas(piano_Codice: $codice) {\n        edges{\n          node{\n            ...VAS \n            }\n            \n        }\n    }\n}\n","\n"]);return nt=function(){return e},e}function it(){var e=Object(ma.a)(["\nquery getPiani($faseCodice: String, $codice: String){\n    piani(fase_Codice: $faseCodice, codice: $codice){\n        edges{\n            node{\n                ...Piano\n            }\n          }\n        }\n}\n    ","\n"]);return it=function(){return e},e}function ot(){var e=Object(ma.a)(["\nquery {\n\tauth: userChoices{\n    profili {\n      ...Profiles\n    }\n  }\n  utenti {\n  edges{\n    node{\n      ...User\n  \t}\n  }\n  }}\n","\n",""]);return ot=function(){return e},e}function rt(){var e=Object(ma.a)(["\nquery CreaPianoPage{\n    tipologiaPiano{\n        value\n        label\n      }\n}\n"]);return rt=function(){return e},e}function ct(){var e=Object(ma.a)(["\nquery GetAdozione($codice: String!) {\n    modello: procedureAdozione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    },\n    modelloVas :\n    procedureVas(piano_Codice: $codice) {\n        edges{\n          node{\n            ...VAS \n            }\n            \n        }\n    }\n}\n","\n","\n"]);return ct=function(){return e},e}function lt(){var e=Object(ma.a)(["\nquery GetAvvio($codice: String!) {\n    modello: procedureAvvio(piano_Codice: $codice) {\n        edges{\n          node{\n            ...AVVIO \n            }\n            \n        }\n    }\n}\n","\n"]);return lt=function(){return e},e}function st(){var e=Object(ma.a)(["\nquery GetTipoContatto{\n  tipologiaContatto {\n    label\n    value\n  }\n}\n"]);return st=function(){return e},e}function dt(){var e=Object(ma.a)(["\nquery {\n    enti{\n        edges{\n            node{\n                name\n                code\n                type{\n                    tipo: name\n                }\n            }\n        }\n    }\n}"]);return dt=function(){return e},e}va()(dt()),va()(st());var ut=va()(lt(),$a),mt=va()(ct(),Ma,Ua),pt=va()(rt()),vt=va()(ot(),La,xa),ft=va()(it(),_a),Et=va()(nt(),Ua),gt=va()(tt(),Ta),bt=va()(at(),Ta),Nt=va()(et(),Ba),zt=va()(Ka(),wa),At=va()(Ya(),wa),ht=va()(Xa(),wa),Ot=va()(Ja(),qa),It=va()(Qa(),Fa),Ct=va()(Ha(),Ma,wa),St=va()(Wa(),$a,wa),Pt=va()(Ga(),Ma,qa,wa);va()(Za());function yt(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaApprovazione($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaApprovazione(risorsaId: $id, codice: $codice){\n              success\n              proceduraApprovazioneAggiornata{\n                  uuid\n                  risorse(archiviata: false){\n                    ...Risorse\n                  }\n              }\n      }\n  }\n  ","\n  "]);return yt=function(){return e},e}function Rt(){var e=Object(ma.a)(["\n  mutation ApprovazioneFileUpload($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaApprovazione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraApprovazioneAggiornata{\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return Rt=function(){return e},e}function xt(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaAdozioneVas($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAdozioneVas(risorsaId: $id, codice: $codice){\n              success\n              proceduraVasAggiornata{\n                  uuid\n                  risorse(archiviata: false){\n                    ...Risorse\n                  }\n              }\n      }\n  }\n  ","\n  "]);return xt=function(){return e},e}function Lt(){var e=Object(ma.a)(["\n  mutation AozioneVasFileUpload($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAdozioneVas(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraVasAggiornata{\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return Lt=function(){return e},e}function jt(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaPianoRevPostCp($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaPianoRevPostCp(risorsaId: $id, codice: $codice){\n          success\n          pianoRevPostCpAggiornato {\n              uuid\n              risorse(archiviata: false){\n                ...Risorse\n              }\n          }\n      }\n  }\n  ","\n  "]);return jt=function(){return e},e}function Tt(){var e=Object(ma.a)(["\n  mutation PianoRevPortCpUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaPianoRevPostCp(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoRevPostCpAggiornato {\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return Tt=function(){return e},e}function kt(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaControdedotto($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaPianoControdedotto(risorsaId: $id, codice: $codice){\n          success\n          pianoControdedottoAggiornatoAggiornato{\n              uuid\n              risorse(archiviata: false){\n                ...Risorse\n              }\n          }\n      }\n  }\n  ","\n  "]);return kt=function(){return e},e}function wt(){var e=Object(ma.a)(["\n  mutation ControdedottoUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaPianoControdedotto(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoControdedottoAggiornato {\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return wt=function(){return e},e}function Dt(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaAdozione($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAdozione(risorsaId: $id, codice: $codice){\n          success\n          proceduraAdozioneAggiornata {\n              ...ADOZIONE\n          }\n      }\n  }\n  ","\n  "]);return Dt=function(){return e},e}function Ut(){var e=Object(ma.a)(["\n  mutation AdozioneUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAdozione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraAdozioneAggiornata {\n            ...ADOZIONE\n        }\n      }\n    }\n    ","\n  "]);return Ut=function(){return e},e}function _t(){var e=Object(ma.a)(["\n  mutation DeleteRisorsaAvvio($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAvvio(risorsaId: $id, codice: $codice){\n          success\n          proceduraAvvioAggiornata {\n              ...AVVIO\n          }\n      }\n  }\n  ","\n  "]);return _t=function(){return e},e}function Vt(){var e=Object(ma.a)(["\n  mutation AvvioUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAvvio(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraAvvioAggiornata {\n            ...AVVIO\n        }      \n      }\n    }\n    ","\n  "]);return Vt=function(){return e},e}function $t(){var e=Object(ma.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaCopianificazione(risorsaId: $id, codice: $codice){\n          success\n          conferenzaCopianificazioneAggiornata {\n              ...CONFERENZA\n          }\n      }\n  }\n  ","\n  "]);return $t=function(){return e},e}function Mt(){var e=Object(ma.a)(["\n  mutation ConferenzaUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaCopianificazione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        conferenzaCopianificazioneAggiornata {\n            ...CONFERENZA\n        }\n      }\n    }\n    ","\n  "]);return Mt=function(){return e},e}function qt(){var e=Object(ma.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaVas(risorsaId: $id, codice: $codice){\n          success\n          proceduraVasAggiornata {\n              ...VAS\n          }\n      }\n  }\n  ","\n  "]);return qt=function(){return e},e}function Ft(){var e=Object(ma.a)(["\n  mutation VasUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaVas(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraVasAggiornata {\n            ...VAS\n        }\n      }\n    }\n    ","\n  "]);return Ft=function(){return e},e}function Bt(){var e=Object(ma.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa(risorsaId: $id, codice: $codice){\n          success\n          pianoAggiornato {\n              ...Piano\n          }\n      }\n  }\n  ","\n  "]);return Bt=function(){return e},e}function Zt(){var e=Object(ma.a)(["\n  mutation UploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoAggiornato {\n            ...Piano\n        }\n      }\n    }\n    ","\n  "]);return Zt=function(){return e},e}var Gt=va()(Zt(),_a),Wt=va()(Bt(),_a),Ht=va()(Ft(),Ua),Qt=va()(qt(),Ua),Jt=va()(Mt(),Ba),Xt=va()($t(),Ba),Yt=va()(Vt(),$a),Kt=va()(_t(),$a),en=va()(Ut(),Ma),an=va()(Dt(),Ma),tn=va()(wt(),wa),nn=va()(kt(),wa),on=va()(Tt(),wa),rn=va()(jt(),wa),cn=va()(Lt(),wa),ln=va()(xt(),wa),sn=va()(Rt(),wa),dn=va()(yt(),wa);function un(){var e=Object(ma.a)(["\nmutation CreaContatto($input: CreateContattoInput!){\n  createContatto(input: $input){\n    nuovoContatto{\n      ...Contatto\n    }\n  }\n\t\n}\n","\n"]);return un=function(){return e},e}function mn(){var e=Object(ma.a)(["\nmutation PubblicazionePiano($codice: String!) {\n  pubblicazionePiano(uuid: $codice){\n    errors\n    pubblicazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return mn=function(){return e},e}function pn(){var e=Object(ma.a)(["\nmutation UpdatePubblicazione($input: UpdateProceduraPubblicazioneInput!) {\n  updateProceduraPubblicazione(input: $input) {\n    proceduraPubblicazioneAggiornata {\n            ...PUBBLICAZIONE\n        }\n    }\n}\n","\n"]);return pn=function(){return e},e}function vn(){var e=Object(ma.a)(["\nmutation EsitoConferenzaPaesaggisticaAp($codice: String!){\n  esitoConferenzaPaesaggisticaAp(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return vn=function(){return e},e}function fn(){var e=Object(ma.a)(["\nmutation TrasmissioneApprovazione($codice: String!){\n  trasmissioneApprovazione(uuid: $codice){\n      errors\n      approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return fn=function(){return e},e}function En(){var e=Object(ma.a)(["\nmutation UpdateApprovazione($input: UpdateProceduraApprovazioneInput!) {\n  updateProceduraApprovazione(input: $input) {\n    proceduraApprovazioneAggiornata {\n            ...APPROVAZIONE\n        }\n    }\n}\n","\n"]);return En=function(){return e},e}function gn(){var e=Object(ma.a)(["\nmutation ChiusuraConferenzaCopianificazione($codice: String!) {\n    chiusuraConferenzaCopianificazione(uuid: $codice) {\n      errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    \n  }\n}\n","\n"]);return gn=function(){return e},e}function bn(){var e=Object(ma.a)(["\nmutation RichiestaConferenzaCopianificazione($codice: String!) {\n  richiestaConferenzaCopianificazione(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return bn=function(){return e},e}function Nn(){var e=Object(ma.a)(["\nmutation IntegrazioniRichieste($codice: String!) {\n  integrazioniRichieste(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Nn=function(){return e},e}function zn(){var e=Object(ma.a)(["\nmutation RichiestaIntegrazioni($codice: String!) {\n  richiestaIntegrazioni(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return zn=function(){return e},e}function An(){var e=Object(ma.a)(["\nmutation ContirbutiTecnici($codice: String!) {\n  contributiTecnici(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return An=function(){return e},e}function hn(){var e=Object(ma.a)(["\nmutation AvvioPiano($codice: String!) {\n    avviaPiano(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return hn=function(){return e},e}function On(){var e=Object(ma.a)(["\nmutation UpdateProceduraAvvio($input: UpdateProceduraAvvioInput!) {\n    updateProceduraAvvio(input: $input) {\n        proceduraAvvioAggiornata {\n            ...AVVIO\n        }\n    }\n}\n","\n"]);return On=function(){return e},e}function In(){var e=Object(ma.a)(["\nmutation UploadElaboratiAdozioneVAS($codice: String!) {\n    uploadElaboratiAdozioneVas(uuid: $codice){\n        errors\n        vasAggiornata {\n            piano{\n                ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return In=function(){return e},e}function Cn(){var e=Object(ma.a)(["\nmutation InvioParereMotivatoAc($codice: String!) {\n    invioParereMotivatoAc(uuid: $codice){\n        errors\n        vasAggiornata {\n            piano{\n                ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return Cn=function(){return e},e}function Sn(){var e=Object(ma.a)(["\nmutation InvioPareriAdozione($codice: String!) {\n  invioPareriAdozioneVas(uuid: $codice){\n    errors\n    vasAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Sn=function(){return e},e}function Pn(){var e=Object(ma.a)(["\nmutation  AttribuzioneConformitaPit($codice: String!) {\n  attribuzioneConformitaPit(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Pn=function(){return e},e}function yn(){var e=Object(ma.a)(["\nmutation PubblicazioneApprovazione($codice: String!) {\n  pubblicazioneApprovazione(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return yn=function(){return e},e}function Rn(){var e=Object(ma.a)(["\nmutation RevisioneConferenzaPaesaggistica($codice: String!) {\n  revisioneConferenzaPaesaggistica(uuid: $codice){\n    errors\n    adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Rn=function(){return e},e}function xn(){var e=Object(ma.a)(["\nmutation PianoControdedotto($codice: String!) {\n  pianoControdedotto(uuid: $codice){\n    errors\n    adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return xn=function(){return e},e}function Ln(){var e=Object(ma.a)(["\nmutation Contorodeduzioni($codice: String!){\n  controdeduzioni(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Ln=function(){return e},e}function jn(){var e=Object(ma.a)(["\nmutation EsitoConferenzaPaesaggistica($codice: String!){\n  esitoConferenzaPaesaggistica(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return jn=function(){return e},e}function Tn(){var e=Object(ma.a)(["\nmutation TrasmissioneOsservazioni($codice: String!){\n  trasmissioneOsservazioni(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Tn=function(){return e},e}function kn(){var e=Object(ma.a)(["\nmutation PubblicazioneBURT($codice: String!){\n  pubblicazioneBurt(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return kn=function(){return e},e}function wn(){var e=Object(ma.a)(["\nmutation TrasmissioneAdozione($codice: String!){\n  trasmissioneAdozione(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return wn=function(){return e},e}function Dn(){var e=Object(ma.a)(["\nmutation UpdateProceduraAdozione($input: UpdateProceduraAdozioneInput!) {\n    updateProceduraAdozione(input: $input) {\n        proceduraAdozioneAggiornata {\n            ...ADOZIONE\n        }\n    }\n}\n","\n"]);return Dn=function(){return e},e}function Un(){var e=Object(ma.a)(["\nmutation InvioProtocolloGenioCivile($codice: String!) {\n    invioProtocolloGenioCivile(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano{\n                codice\n                dataProtocolloGenioCivile\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Un=function(){return e},e}function _n(){var e=Object(ma.a)(["\nmutation InvioDocPreliminare($codice: String!) {\n    invioDocPreliminare(uuid: $codice) {\n        errors\n        proceduraVasAggiornata {\n        piano {\n          ...AzioniPiano\n        }\n    }\n  }\n}\n","\n"]);return _n=function(){return e},e}function Vn(){var e=Object(ma.a)(["\nmutation TrasmissioneDpvVAS($uuid: String!) {\n  trasmissioneDpvVas(uuid: $uuid) {\n    vasAggiornata {\n      piano {\n        ...AzioniPiano\n      }\n    }\n  }\n}\n","\n"]);return Vn=function(){return e},e}function $n(){var e=Object(ma.a)(["\nmutation RedazioneDocumentiVAS($uuid: String!) {\n    redazioneDocumentiVas(uuid: $uuid) {\n        vasAggiornata{\n            piano{  \n              ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return $n=function(){return e},e}function Mn(){var e=Object(ma.a)(["\nmutation AvvioEsamePareriSCA($uuid: String!) {\n    avvioEsamePareriSca(uuid: $uuid){\n        vasAggiornata{\n            piano{\n              ...AzioniPiano \n            }\n        }\n    }\n}\n","\n"]);return Mn=function(){return e},e}function qn(){var e=Object(ma.a)(["\nmutation ForamzioneDelPiano($codice: String!) {\n  formazioneDelPiano(codicePiano: $codice){\n        pianoAggiornato{\n              ...AzioniPiano \n        }\n    }\n}\n","\n"]);return qn=function(){return e},e}function Fn(){var e=Object(ma.a)(["\nmutation emissioneProvvedimentoVerificaVAS($uuid: String!) {\n  emissioneProvvedimentoVerifica(uuid: $uuid){\n        vasAggiornata{\n          uuid\n          verificaEffettuata\n          dataAssoggettamento\n          piano{\n            ...AzioniPiano\n          }\n      }\n    }\n  }\n","\n"]);return Fn=function(){return e},e}function Bn(){var e=Object(ma.a)(["\nmutation TrasmissionePareriAC($codice: String!) {\n  trasmissionePareriAc(uuid: $codice) {\n        vasAggiornata {\n          ...VAS\n          piano {\n            ...AzioniPiano\n          }\n        }\n    }\n}\n","\n","\n"]);return Bn=function(){return e},e}function Zn(){var e=Object(ma.a)(["\nmutation TrasmissionePareriSCA($codice: String!) {\n  trasmissionePareriSca(uuid: $codice) {\n        vasAggiornata {\n          ...VAS\n          piano {\n            ...AzioniPiano\n          }\n        }\n    }\n}\n","\n","\n"]);return Zn=function(){return e},e}function Gn(){var e=Object(ma.a)(["\nmutation InvioPareriVerifica($codice: String!) {\n  invioPareriVerificaVas(uuid: $codice) {\n        vasAggiornata {\n          ...VAS\n          piano {\n            ...AzioniPiano\n          }\n        }\n    }\n}\n","\n","\n"]);return Gn=function(){return e},e}function Wn(){var e=Object(ma.a)(["\nmutation PubblicazioneProvvedimentoVerificaAc($uuid: String!) {\n  pubblicazioneProvvedimentoVerificaAc(uuid: $uuid) {\n        vasAggiornata {\n              piano {\n                ...AzioniPiano\n              }\n            }\n        }\n    }\n  ","\n"]);return Wn=function(){return e},e}function Hn(){var e=Object(ma.a)(["\nmutation PubblicazioneProvvedimentoVerificaAp($uuid: String!) {\n  pubblicazioneProvvedimentoVerificaAp(uuid: $uuid) {\n        vasAggiornata {\n              piano {\n                ...AzioniPiano\n              }\n            }\n        }\n    }\n  ","\n"]);return Hn=function(){return e},e}function Qn(){var e=Object(ma.a)(["\nmutation UpdateConsultazioneVas($input: UpdateConsultazioneVASInput!) {\n  updateConsultazioneVas(input: $input) {\n      consultazioneVasAggiornata {\n            ...ConsultazioneVAS\n        }\n    }\n}\n","\n"]);return Qn=function(){return e},e}function Jn(){var e=Object(ma.a)(["\nmutation UpdateProceduraVas($input: UpdateProceduraVASInput!) {\n    updateProceduraVas(input: $input) {\n        proceduraVasAggiornata {\n            ...VAS\n        }\n    }\n}\n","\n"]);return Jn=function(){return e},e}function Xn(){var e=Object(ma.a)(["\n  mutation($codice: String!) {\n    deletePiano(codicePiano: $codice){\n        success\n        codicePiano\n    }\n}\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(ma.a)(["\nmutation PromozionePiano($codice: String!){\n  promozionePiano(codicePiano: $codice){\n    pianoAggiornato {\n      ...Piano\n  }\n  }\n}\n","\n"]);return Yn=function(){return e},e}function Kn(){var e=Object(ma.a)(["\nmutation UpdatePiano($input: UpdatePianoInput!) {\n    updatePiano(input: $input) {\n        pianoAggiornato {\n            ...Piano\n        }\n    }\n}\n","\n"]);return Kn=function(){return e},e}function ei(){var e=Object(ma.a)(["mutation CreatePiano($input: CreatePianoInput!) {\n    createPiano(input: $input) {\n        nuovoPiano {\n            ...Piano\n      }\n    }\n  }\n  ","\n"]);return ei=function(){return e},e}var ai=va()(ei(),_a),ti=va()(Kn(),_a),ni=va()(Yn(),_a),ii=va()(Xn()),oi=va()(Jn(),Ua),ri=(va()(Qn(),Va),va()(Hn(),Da)),ci=va()(Wn(),Da),li=va()(Gn(),Da,Ua),si=va()(Zn(),Da,Ua),di=va()(Bn(),Da,Ua),ui=va()(Fn(),Da),mi=va()(qn(),Da),pi=va()(Mn(),Da),vi=va()($n(),Da),fi=va()(Vn(),Da),Ei=va()(_n(),Da),gi=va()(Un(),Da),bi=va()(Dn(),Ma),Ni=va()(wn(),Da),zi=va()(kn(),Da),Ai=va()(Tn(),Da),hi=va()(jn(),Da),Oi=va()(Ln(),Da),Ii=va()(xn(),Da),Ci=va()(Rn(),Da),Si=va()(yn(),Da),Pi=va()(Pn(),Da),yi=va()(Sn(),Da),Ri=va()(Cn(),Da),xi=va()(In(),Da),Li=va()(On(),$a),ji=va()(hn(),Da),Ti=va()(An(),Da),ki=va()(zn(),Da),wi=va()(Nn(),Da),Di=va()(bn(),Da),Ui=va()(gn(),Da),_i=va()(En(),qa),Vi=va()(fn(),Da),$i=va()(vn(),Da),Mi=va()(pn(),Fa),qi=va()(mn(),Da),Fi=(va()(un(),Ta),function(e){U.toast.error(e.message,{autoClose:!0})}),Bi=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data,t=(a=void 0===a?{}:a).deletePiano,n=t.success,i=t.codicePiano;if(n){var o=(e.readQuery({query:ft})||{}).piani,r=void 0===o?{}:o,c=r.edges.filter(function(e){return e.node.codice!==i});r.edges=c,e.writeQuery({query:ft,data:{piani:r}})}},Zi=function(){return i.a.createElement(l.c,{query:ft},function(e){e.loading;var a=e.data,t=(a=void 0===a?{}:a).piani,n=(t=void 0===t?[]:t).edges,o=void 0===n?[]:n,r=e.error;return r&&U.toast.error(r.message,{autoClose:!0}),i.a.createElement(l.b,{mutation:ii,update:Bi,onError:Fi},function(e,a){return i.a.createElement(ca,{title:"piani in formazione",piani:o,onDeletePiano:e})})})},Gi=function(e){var a=e.utente,t=(a=void 0===a?{}:a).firstName,n=a.lastName,o=a.unreadMessages,r=e.canCreatePiano,c=void 0!==r&&r;Object(D.a)(e,["utente","canCreatePiano"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("h1",null,"Portale della pianificazione"),i.a.createElement("h3",{className:"pb-5"},i.a.createElement(ua,{dataTip:"(L.R. 65/2014)",text:"Software per la formazione e gestione dei piani"})),i.a.createElement("hr",{className:"border-serapide border-bottom"}),i.a.createElement("div",{className:"py-4 d-flex flex-row"},i.a.createElement("div",{className:"d-flex flex-column "},i.a.createElement("h2",null,"".concat(t||""," ").concat(n||""))),c&&i.a.createElement(sa,{size:"md",tag:"a",href:"./#/nuovo_piano",className:"ml-auto my-auto text-uppercase",color:"serapide",icon:"note_add",label:"Crea nuovo piano"})),i.a.createElement("h5",{className:"py-5"},"I MIEI PIANI"),i.a.createElement(Zi,null),i.a.createElement("span",{className:"legenda"},"LEGENDA NOTIFICHE"),i.a.createElement("div",{className:"mr-4 pt-2 pb-5 d-flex flex-row justify-content-start legenda"},i.a.createElement("i",{className:"material-icons mr-1 urgente"},"notification_important"),i.a.createElement("span",null,"Il piano ha della azioni necessarie o in attesa")),i.a.createElement("h6",{className:"py-5"},"MESSAGGI "),i.a.createElement(la,{messaggi:o}),i.a.createElement("a",{href:"/users/messages/inbox/",className:"mr-4 pt-4 pb-5 d-flex flex-row justify-content-end nav-link text-dark"},i.a.createElement("i",{className:"material-icons mr-2"},"email"),i.a.createElement("span",null,"Tutti i messaggi"))))},Wi=t(108),Hi=function(e){var a=e.value,t=e.onChange,n=void 0===t?function(e,a){}:t,o=e.className,r=void 0===o?"strt":o,c=e.error,l=e.isLoading,s=void 0!==l&&l,d=e.tipiPiano,u=void 0===d?[]:d,m=e.placeholder,p=void 0===m?"Selezionare il tipo piano...":m;return i.a.createElement(Wi.a,{placeholder:p,isDisabled:!!c,onChange:n,value:a,isLoading:s,className:r,options:u,classNamePrefix:"tipo",filter:!0})},Qi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.tipo,t=e.nome;return"".concat(a," - ").concat(t)},Ji=function(e){return e.ipa},Xi=Object(Qe.a)(function(e){e.enti;var a=e.value,t=e.showSelected;return!a||!(void 0===t||t)},Object(Qe.e)(function(e){var a=e.value,t=e.onChange,n=void 0===t?function(){}:t,o=e.className,r=e.enti,c=e.isLoading,l=void 0!==c&&c;return i.a.createElement(Wi.a,{getOptionLabel:Qi,getOptionValue:Ji,placeholder:"Selezionare ente",onChange:n,value:a,className:o,options:r,classNamePrefix:"tipo",isLoading:l})}),Object(Qe.e)(function(e){var a=e.className,t=e.enti,n=void 0===t?[]:t,o=e.value,r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).code,l=r.type,s=(l=void 0===l?{}:l).tipo,d=e.onChange,u=void 0===d?function(){}:d;e.isLoading;return i.a.createElement("span",{className:"".concat(a," d-flex flex-row justify-content-between text-uppercase")},i.a.createElement("span",null,"id ".concat(s," ").concat(c)),n.length>1&&i.a.createElement("span",{className:"link-icon",onClick:function(){return u()}},"X"))}))(function(){return null}),Yi=Object(Qe.b)(ea({onUpdate:!1}),Object(Qe.h)({},{selectTipo:function(){return function(e){return{tipo:e}}},selectEnte:function(){return function(e){return{ente:e}}}}),Object(Qe.f)(["isLoading","isSaving","tipiPiano","tipo","ente"],function(e){var a=e.tipiPiano,t=void 0===a?[]:a,n=e.tipo,i=e.enti,o=e.ente,r=Object(D.a)(e,["tipiPiano","tipo","enti","ente"]);return Object(Q.a)({tipo:!n&&t.length>0?t[0]:n,ente:!o&&i.length>0?i[0]:o},r)})),Ki=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data,t=(a=void 0===a?{}:a).createPiano.nuovoPiano;try{var n=(e.readQuery({query:ft})||{}).piani,i=void 0===n?{}:n,o="".concat(t.__typename,"Edge");i.edges=i.edges.concat([{__typename:o,node:t}]),e.writeQuery({query:ft,data:{piani:i}})}catch(r){console.warn("Query piani non inizializzata")}},eo=Yi(function(e){var a=e.creaPiano,t=e.selectTipo,n=e.tipo,o=e.isLoading,r=e.isSaving,c=e.enti,l=e.ente,s=e.selectEnte,d=e.tipiPiano;return i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("h4",{className:"text-uppercase"},ae(l)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row pb-4 pt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h3",{className:"mb-0 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-34"},"assignment")," FORMAZIONE DI UN NUOVO ATTO DEL TERRITORIO")),i.a.createElement("div",{style:{paddingLeft:49,maxWidth:400},className:"col-sm-12"},i.a.createElement("span",{className:"pt-6 d-flex flex-row justify-content-between text-uppercase"},te(l)),c&&i.a.createElement(Xi,{className:"",enti:c,onChange:s,isLoading:o,value:l,showSelected:!1}),i.a.createElement("div",{className:"pt-4 pb-2 font-weight-bold"},"Atto di governo del territorio"),i.a.createElement("br",null),i.a.createElement("div",{className:"pb-1 small"},"Seleziona il tipo di atto"),i.a.createElement(Hi,{className:"mb-5 text-capitolize",onChange:t,tipiPiano:d,value:n,isLoading:o}),i.a.createElement(sa,{disabled:!function(e,a,t,n){return e&&!a&&t&&!n}(l.ipa,o,n,r),onClick:function(){return a(function(e){return{variables:{input:{pianoOperativo:{ente:{ipa:e.ipa},tipologia:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).value}}}}}(l,n))},size:"md",tag:"a",href:"./#/nuovo_piano",className:"mt-5 flex-column d-flex ext-uppercase align-items-center",color:"serapide",label:"CREA PIANO",isLoading:r})))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row pb-4 pt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Istruzioni per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify"}},"In questa sezione \xe8 possibile creare un nuovo atto di governo del Territorio e di conseguenza, aprire il relativo procedimento amministrativo.",i.a.createElement("br",null),"Dal men\xf9 \xe8 possibile selezionare il tipo di atto per il quale si intende avviare il procedimento  ",i.a.createElement(ua,{dataTip:"es: Piano Strutturale, Piano Operativo, Variante"}))),i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Documenti richiesti per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify"}},'Per poter creare l\'atto di governo del territorio \xe8 necessario compilare una anagrafica del Piano selezionato nella successiva sezione "CREA ANAGRAFICA". A tal fine \xe8 necessario inserire  l\u2019atto amministrativo di avvio del procedimento, specificandone il numero e la sua denominazione. Inoltre, sar\xe0 necessario indicare se l\u2019atto \xe8 assoggettato a VAS (ordinaria o semplificata, secondo le procedure previste dalla L.R. 10/2010) o se \xe8 necessario avviare la procedura di verifica di assoggettabilit\xe0 ',i.a.createElement(ua,{dataTip:"ordinaria o semplificata, secondo le procedure previste dalla L.R. 10/2010"})," ed allegare. In ogni caso, i relativii documenti richiesti di avvio alla procedura di VAS dovranno essere caricati in questo momento.",i.a.createElement(ua,{dataTip:"Documento preliminare o relazione motivata"}))),i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Informazioni richieste per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify",marginBottom:0}},"Per poter procedere correttamente alla creazione del procedimento amministrativo finalizzato all\u2019approvazione dell\u2019atto di governo del territorio, \xe8 necessario essere in possesso delle seguenti informazioni:"),i.a.createElement("ul",{className:"pt-2"},i.a.createElement("li",null,"nominativo RUP"),i.a.createElement("li",null,"individuazione garante della comunicazione"),i.a.createElement("li",null,"estremi identificativi dell\u2019atto di avvio del procedimento"),i.a.createElement("li",null,"procedura di VAS necessaria ",i.a.createElement(ua,{dataTip:"secondo quanto previsto dalla L.R. 10/2010"}))))))))}),ao=function(e){var a=e.enti;return i.a.createElement(l.c,{query:pt},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).tipologiaPiano,r=void 0===o?[]:o,c=e.error;return c&&U.toast.error(c.message,{autoClose:!0}),i.a.createElement(l.b,{mutation:ai,onCompleted:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).createPiano.nuovoPiano;return window.location.href="#/crea_anagrafica/".concat(e.codice)},update:Ki},function(e,n){var o=n.loading,c=n.error;Object(D.a)(n,["loading","error"]);return c&&U.toast.error(c.message),i.a.createElement(eo,{enti:a,tipiPiano:r.filter(function(e){return"UNKNOWN"!==e.value}),creaPiano:e,isLoading:t,isSaving:o})})})},to=t(25),no=t(26),io=t(28),oo=t(27),ro=t(29),co=t(385),lo=(t(387),function(e){return{variables:{input:{data:e.toISOString()}}}}),so=function(e){function a(){return Object(to.a)(this,a),Object(io.a)(this,Object(oo.a)(a).apply(this,arguments))}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onClick,t=e.value,n=e.disabled,o=e.readOnly,r=e.className,c=e.placeholder;return i.a.createElement(sa,{iconSize:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return e.startsWith("icon-")}).pop()}(r),fontSize:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return e.startsWith("size-")}).pop()}(r),disabled:n,className:"".concat(o&&"read-only"," ").concat(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return!e.startsWith("icon-")&&!e.startsWith("size-")}).join(" ")}(r)),label:t||c,color:"serapide",icon:"date_range",onClick:a})}}]),a}(i.a.PureComponent),uo=function(e){function a(){return Object(to.a)(this,a),Object(io.a)(this,Object(oo.a)(a).apply(this,arguments))}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onClick,t=e.value,n=void 0===t?"":t,o=n.trim().split(" ").slice(0,1).pop(),r=n.trim().split(" ").slice(1).join(" ");return i.a.createElement("div",{className:"row flex-fill p-2 text-serapide border pointer",onClick:a},i.a.createElement("div",{className:"col-6"},o||"Data"),i.a.createElement("div",{className:"col-6"},r||"Ora"))}}]),a}(i.a.PureComponent),mo=function(e,a){U.toast.error(e.message,{autoClose:!0})},po=function(e){var a=e.placeholder,t=void 0===a?"Seleziona Data":a,n=e.minDate,o=e.popperPlacement,r=e.useDateTime,c=void 0!==r&&r,s=e.showTimeSelect,d=void 0!==s&&s,u=e.className,m=e.isLocked,p=e.mutation,v=e.update,f=e.selected,E=e.disabled,g=e.iconSize,b=e.getInput,N=void 0===b?lo:b,z=Object(D.a)(e,["placeholder","minDate","popperPlacement","useDateTime","showTimeSelect","className","isLocked","mutation","update","selected","disabled","iconSize","getInput"]);return i.a.createElement(l.b,Object.assign({mutation:p,update:v,onError:mo},z),function(e,a){return i.a.createElement(co.a,{popperPlacement:o,placeholderText:t,calendarClassName:c?"d-flex":void 0,showTimeSelect:d,readOnly:m,className:u,disabled:E,selected:f,iconSize:g,customInput:c?i.a.createElement(uo,null):i.a.createElement(so,null),onChange:function(a){e(N(a))},timeFormat:"HH:mm",timeIntervals:15,minDate:n,dateFormat:c?"dd-MM-yyyy h:mm aa":"dd-MM-yyyy"})})},vo=t(397),fo=function(e){function a(e){var t;return Object(to.a)(this,a),(t=Object(io.a)(this,Object(oo.a)(a).call(this,e))).onDrop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.length>0&&(t.toggleOpen(),t.props.onFilesChange(e))},t.toggleOpen=function(){t.props.toggleOpen?t.props.toggleOpen():t.setState(function(){return{isOpen:!t.state.isOpen}})},t.getTitle=function(){return t.props.multiple?"Trascina i Files qui":"Trascina il File qui"},t.getLabel=function(){return t.props.multiple?"Seleziona i Files":"Seleziona il File"},t.renderChooser=function(){return i.a.createElement(vo.a,{disabled:t.props.isLocked,onDrop:t.onDrop,accept:t.props.fileType,multiple:t.props.multiple},function(e){var a=e.getRootProps,n=e.getInputProps,o=e.isDragActive,r=e.isDragAccept,c=e.isDragReject,l=e.rejectedFiles,s=void 0===l?[]:l,d=e.acceptedFiles,u=void 0===d?[]:d;return i.a.createElement("div",Object.assign({},a(),{style:{width:t.props.width||"auto"},className:He()("d-flex","align-items-center","flex-fill justify-content-around","dropzone","".concat(t.props.sz),{isRejected:o?c:s.length>0,isAccept:o?r:u.length>0},"".concat(t.props.fontSize))}),i.a.createElement("input",n()),i.a.createElement("i",{className:"material-icons text-serapide"},"cloud_upload"),i.a.createElement("span",{className:"title"},t.getTitle()),i.a.createElement("span",{className:"sub-title"},"oppure"),i.a.createElement(_.b,{className:t.props.fontSize,color:"serapide",size:t.props.sz},t.getLabel()))})},t.state=e.toggleOpen?{}:{isOpen:e.isOpen},t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){var e=this.props,a=e.modal,t=e.sz,n=e.isOpen,o=e.toggleOpen,r=e.showBtn,c=e.isLocked,l=e.fontSize,s=o?n:this.state.isOpen;if(a&&!s&&r)return i.a.createElement(_.b,{className:l,disabled:c,color:"serapide",onClick:this.toggleOpen},"Upload");var d=this.renderChooser();return a?i.a.createElement(_.j,{toggle:this.toggleOpen,isOpen:s,centered:!0,size:"".concat("lg"===t?"md":"sm"),wrapClassName:"serapide",autoFocus:!0},i.a.createElement(_.k,{className:"d-flex justify-content-center modal-body-file-chooser"},d)):d}}]),a}(i.a.Component);fo.defaultProps={sz:"sm",modal:!1,isOpen:!1,multiple:!0,showBtn:!1,onFilesChange:function(e){console.log(e)}};var Eo=fo,go=function(e){var a=e.placeholder,t=e.isLoading,n=e.progress,o=e.icon,r=void 0===o?"picture_as_pdf":o,c=e.fontSize,l=e.iconSize,s=e.onCancel,d=e.file,u=void 0===d?{}:d,m=e.error,p=void 0!==m&&m,v=e.onRetry;return i.a.createElement("div",{className:"file-loader d-flex justify-content-between align-items-center flex-1 "},i.a.createElement("div",{className:"d-flex"},u.name&&i.a.createElement("i",{className:"material-icons text-serapide ".concat(l)},r),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(c)},i.a.createElement("span",null,u.name||a),i.a.createElement("span",{style:{fontSize:"0.8em"}},function(e){return e.size?"".concat(Math.round(e.size/1e5)/10," MB"):null}(u)))),t&&i.a.createElement("div",{className:"d-flex justify-content-center align-items-center loading ".concat(c)},i.a.createElement("div",{className:"prog text-dark"},Math.round(n),"%"),i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),i.a.createElement("i",{className:"material-icons text-danger pointer ".concat(l),onClick:s},"cancel")),p&&u.name&&!t&&i.a.createElement(_.b,{className:c,color:"danger",onClick:v},"Riprova"))},bo=function(e){function a(e){var t;return Object(to.a)(this,a),(t=Object(io.a)(this,Object(oo.a)(a).call(this,e))).retry=function(){var e=t.props,a=e.file,n=e.variables;a&&t.props.upload({variables:Object(Q.a)({file:a},n),context:{uploadProgress:t.uploadProgress}})},t.abort=function(){t.state.abort&&(t.state.abort(),t.props.onAbort(t.props.file.name))},t.state={},t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.hasMounted=!0,this.uploadProgress=function(a,t){a&&e.hasMounted&&e.setState(function(){return Object(Q.a)({},a,{abort:t})})};var a=this.props,t=a.file,n=a.variables;t&&this.props.upload({variables:Object(Q.a)({file:t},n),context:{uploadProgress:this.uploadProgress}})}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.file,n=a.variables,i=a.error;(!e.file&&this.props.file||i&&e.file!==this.props.file)&&this.props.upload({variables:Object(Q.a)({file:t},n),context:{uploadProgress:this.uploadProgress}})}},{key:"render",value:function(){var e=this.state,a=e.loaded,t=void 0===a?0:a,n=e.total,o=void 0===n?1:n;return i.a.createElement(go,Object.assign({onRetry:this.retry,onCancel:this.abort,progress:t/o*100},this.props))}},{key:"componentWillUnmount",value:function(){this.uploadProgress=null,this.hasMounted=!1}}]),a}(i.a.Component);bo.defaultProps={placeholder:"",isLoading:!1,variables:{},upload:function(){return console.warn("mutation function required")},onAbort:function(){}};var No=bo,zo=function(e){e&&-1===e.message.indexOf("Operation canceled")&&U.toast.error(e.message,{autoClose:!0})},Ao=function(e){var a=e.mutation,t=e.update,n=e.variables,o=e.file,r=e.placeholder,c=e.fontSize,s=e.iconSize,d=e.onAbort,u=e.renderChooser,m=Object(D.a)(e,["mutation","update","variables","file","placeholder","fontSize","iconSize","onAbort","renderChooser"]);return i.a.createElement(l.b,Object.assign({mutation:a,update:t,onError:zo},m),function(e,a){var t=a.error,l=a.data,m=(l=void 0===l?{}:l).upload,p=a.loading,v=!p&&(m&&!m.success||!!t);return p||!m||m.success||zo({message:"Impossibile uplodare il file"}),i.a.createElement(i.a.Fragment,null,i.a.createElement(No,{isLoading:p,file:o,placeholder:r,upload:e,variables:n,error:v,onAbort:d,fontSize:c,iconSize:s}),u&&u(p))})},ho=function(e){return e?"".concat(Math.round(parseFloat(e)/100)/10," MB"):null},Oo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.resource,t=(a=void 0===a?{}:a).downloadUrl,n=a.label,o=void 0===n?"":n,r=a.tooltip,c=void 0===r?"":r,l=a.nome,s=e.useLabel,d=e.fontSize,u=s&&o?o:l,m=i.a.createElement(ua,{dataTip:c,className:d,dataTipDisable:!s,text:u});return t?i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-dark ".concat(d),href:t,download:l},s&&c?m:u):i.a.createElement("span",{className:d},s&&c?m:u)},Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.downloadUrl,t=e.downloadIcon,n=e.nome,o=e.isLocked,r=e.iconClasses,c=e.confirm;return i.a.createElement(i.a.Fragment,null,a?i.a.createElement("a",{className:"text-dark d-flex",target:"_blank",rel:"noopener noreferrer",href:a,download:n},t," "):t,o?i.a.createElement("i",{className:r},"lock"):i.a.createElement("i",{className:"".concat(r," pointer"),onClick:c},"cancel"))},Co=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.resource,n=void 0===t?{}:t,o=a.className,r=void 0===o?"resource":o,c=a.icon,l=void 0===c?"picture_as_pdf":c,s=a.iconSize,d=a.fontSize,u=a.codice,m=a.isLoading,p=a.isLocked,v=void 0===p||p,f=a.useLabel,E=void 0!==f&&f,g=a.fileSize,b=void 0===g||g,N=a.vertical,z=void 0!==N&&N,A=a.onDeleteResource,h=void 0===A?function(){console.warn("Delete mutation non passata")}:A,O=null!==n&&void 0!==n?n:{},I=O.nome,C=O.uuid,S=O.lastUpdate,P=O.dimensione,y=O.downloadUrl,R=function(){return h({variables:{id:C,codice:u}})},x=function(){U.toast.isActive(e)||(e=U.toast.warn(i.a.createElement(na,{confirm:R,id:C}),{autoClose:!0,draggable:!0,onClose:function(){e=null}}))},L="material-icons text-serapide ".concat(s),j=i.a.createElement("i",{className:" ".concat(L," pointer ")},v?"cloud_download":"check_circle");return Object(W.isEmpty)(n)?i.a.createElement("div",{className:"".concat(r," row align-items-center")}):z?i.a.createElement("div",{className:"".concat(r," row align-items-center")},i.a.createElement("div",{className:"col-10 d-flex"},i.a.createElement("i",{className:"".concat(L," align-self-center ")},l),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(d)},i.a.createElement(Oo,{fontSize:d,resource:n,useLabel:E}),E&&n.label&&i.a.createElement("span",null,n.nome),i.a.createElement("span",{className:"d-flex align-items-center"},S&&i.a.createElement("span",null,ie(S,"dd/MM/yyyy")),b&&i.a.createElement("span",{className:"offset-4 text-nowrap",style:{fontSize:"0.8em"}},ho(P))))),i.a.createElement("div",{className:"col-2 d-flex justify-content-end"},m?i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")):i.a.createElement(Io,{downloadUrl:y,downloadIcon:j,nome:I,isLocked:v,iconClasses:L,confirm:x}))):i.a.createElement("div",{className:"".concat(r," row align-items-center")},i.a.createElement("div",{className:"col-6 d-flex"},i.a.createElement("i",{className:"".concat(L," align-self-center ")},l),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(d)},i.a.createElement(Oo,{fontSize:d,resource:n,useLabel:E}),b&&i.a.createElement("span",{style:{fontSize:"0.8em"}},ho(P)))),i.a.createElement("div",{className:"col-3 ".concat(d)},S&&ie(S,"dd/MM/yyyy")),i.a.createElement("div",{className:"col-3 d-flex justify-content-end"},m?i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")):i.a.createElement(Io,{downloadUrl:y,downloadIcon:j,nome:I,isLocked:v,iconClasses:L,confirm:x})))},So=function(e){var a=e.className,t=e.icon,n=e.resource,o=e.iconSize,r=e.fontSize,c=e.vertical,s=e.useLabel,d=e.codice,u=e.isLocked,m=e.mutation,p=void 0===m?Wt:m,v=Object(D.a)(e,["className","icon","resource","iconSize","fontSize","vertical","useLabel","codice","isLocked","mutation"]);return i.a.createElement(l.b,Object.assign({mutation:p},v),function(e,l){var m=l.error,p=l.data,v=(p=void 0===p?{}:p).deleteRisorsa,f=l.loading;return m&&!f?U.toast.error(m.message,{autoClose:!0}):f||!v||v.success||U.toast.error("Impossibile eliminare la risorsa ",{autoClose:!0}),i.a.createElement(Co,{icon:t,iconSize:o,fontSize:r,vertical:c,useLabel:s,className:a,isLoading:f,onDeleteResource:e,resource:n,codice:d,isLocked:u})})},Po=function(e){function a(){var e,t;Object(to.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(io.a)(this,(e=Object(oo.a)(a)).call.apply(e,[this].concat(i)))).onFilesChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e[0]?t.setState(function(){return{file:e[0]}}):t.setState(function(){return{file:void 0}})},t.updateCache=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data;t.props.getSuccess(a)&&t.removeFile()},t.removeFile=function(){t.state&&t.state.file&&t.setState(function(){return{file:void 0}})},t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){var e=this,a=(this.state||{}).file,t=this.props,n=t.risorsa,o=t.variables,r=t.placeholder,c=t.isLocked,l=t.disabled,s=t.mutation,d=t.resourceMutation,u=t.modal,m=t.showBtn,p=t.sz,v=t.className,f=void 0===v?"":v,E=t.fileType,g=t.resIcon,b=t.fontSize,N=t.iconSize,z=t.vertical,A=t.useLabel;return n?i.a.createElement(So,{vertical:z,useLabel:A,fontSize:b,iconSize:N,icon:g,className:f,codice:o.codice,mutation:d,resource:n,isLocked:c}):i.a.createElement("div",{style:{minHeight:"3.813rem"},className:"".concat(f," file-loader d-flex justify-content-between border-top border-bottom align-items-center")},i.a.createElement(Ao,{mutation:s,file:a,placeholder:r,variables:o,update:this.updateCache,onAbort:this.removeFile,fontSize:b,iconSize:N,renderChooser:function(a){return i.a.createElement(Eo,{fontSize:b,isLocked:l||!!a||c,multiple:!1,fileType:E,onFilesChange:e.onFilesChange,modal:u,showBtn:m,sz:p})}}))}},{key:"componentWillUnmount",value:function(){this.setState({file:void 0})}}]),a}(i.a.PureComponent);Po.defaultProps={placeholder:"",variables:{},fileType:"application/pdf",isLocked:!0,disabled:!1,mutation:Gt,resourceMutation:Wt,modal:!0,showBtn:!0,vertical:!1,useLabel:!1,getSuccess:function(e){return e.upload.success},sz:"lg",iconSize:"icon-15",fontSize:"size-11"};var yo=Po,Ro=function(e){function a(){var e,t;Object(to.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(io.a)(this,(e=Object(oo.a)(a)).call.apply(e,[this].concat(o)))).onFilesChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0?t.setState(function(){return{files:e}}):t.setState(function(){return{files:void 0}})},t.updateCache=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data;t.props.getSuccess(a)&&t.removeFile(t.props.getFileName(a))},t.renderRisorse=function(){var e=t.props,a=e.variables,n=e.resourceMutation,o=e.isLocked,r=e.iconSize,c=e.fontSize,l=e.vertical,s=e.useLabel;return t.props.risorse.map(function(e){return i.a.createElement(So,{vertical:l,useLabel:s,fontSize:c,iconSize:r,codice:a.codice,mutation:n,key:e.uuid,resource:e,isLocked:o})})},t.removeFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=t.state.files.filter(function(a){return a.name!==e});t.setState(function(){return{files:a}})},t.renderLoader=function(){var e=(t.state||{}).files,a=void 0===e?[]:e,n=t.props,o=n.variables,r=n.placeholder,c=n.fontSize,l=n.iconSize;return a.map(function(e){return i.a.createElement(Ao,{key:e.name,update:t.updateCache,mutation:t.props.mutation,file:e,placeholder:r,variables:o,onAbort:t.removeFile,fontSize:c,iconSize:l})})},t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"multiple-upload mt-3 pb-2 d-flex flex-column justify-content-between"},this.renderRisorse(),this.renderLoader()),i.a.createElement("div",{className:"align-self-start"},!this.props.isLocked&&i.a.createElement(Eo,{fontSize:this.props.fontSize,isLocked:this.props.isLocked,disabled:this.props.isLocked,fileType:this.props.fileType,multiple:this.props.multiple,onFilesChange:this.onFilesChange,sz:"sm"})))}}]),a}(i.a.PureComponent);Ro.defaultProps={placeholder:"",variables:{},fileType:"application/pdf",risorse:[],isLocked:!0,disabled:!1,multiple:!0,mutation:Gt,resourceMutation:Wt,getSuccess:function(e){return e.upload.success},getFileName:function(e){return e.upload.fileName}};var xo=Ro,Lo=Ke("checked","toggleSwitch",!1),jo=function(e){var a=e.isLocked,t=e.label,n=e.value,o=e.toggleSwitch,r=void 0===o?function(e){console.log(e)}:o,c=e.className,l=e.children,s=e.checked,d=e.labelClassName,u=void 0===d?"col-xl-4 col-lg-6 col-md-6 col-10":d;return!a||s?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{key:n,className:He()("strt-switch","row",c,{"mt-3":a})},i.a.createElement("span",{className:u},t),!a&&i.a.createElement("div",{className:"switch-label custom-control custom-switch col-1"},i.a.createElement("label",{onClick:function(){a||r(!s,n)},style:{cursor:a?"not-allowed":"pointer"},className:He()("custom-control-label",{"border-serapide bg-serapide":s,checked:s})}))),Object(W.isFunction)(l)&&l(s)):null},To=jo,ko=function(e,a){U.toast.error(e.message,{autoClose:!0})},wo=function(){return{variables:{input:{}}}},Do=function(e){var a=e.isLocked,t=e.mutation,n=e.update,o=e.getInput,r=void 0===o?wo:o,c=e.label,s=e.value,d=e.className,u=e.children,m=e.checked,p=e.labelClassName,v=e.ignoreChecked,f=void 0!==v&&v,E=Object(D.a)(e,["isLocked","mutation","update","getInput","label","value","className","children","checked","labelClassName","ignoreChecked"]);return i.a.createElement(l.b,Object.assign({mutation:t,update:n,onError:ko},E),function(e,t){return i.a.createElement(jo,{isLocked:a,toggleSwitch:function(a,t){(a||f)&&e(r(t))},label:c,value:s,className:d,children:u,checked:m,labelClassName:p})})},Uo=(Lo(jo),Ke("isOpen","toggleOpen",!1)),_o=function(e){var a=e.option,t=(a=void 0===a?{}:a).value,n=a.label,o=a.tipologia,r=a.tipologiaLabel,c=e.selected,l=void 0!==c&&c,s=e.onClick;return i.a.createElement(_.i,{onClick:function(){return s(t,{uuid:t,tipologia:o})}},i.a.createElement("span",{className:"row d-flex pointer"},i.a.createElement("span",{className:"col-1"},i.a.createElement("i",{className:He()("material-icons",{"text-serapide":l})},l?"radio_button_checked":"radio_button_unchecked")),i.a.createElement("span",{className:"col-4"},n),i.a.createElement("span",{className:"col-4"},i.a.createElement("small",null,r||o))))},Vo=Uo(function(e){var a=e.size,t=e.children,n=e.label,o=e.selected,r=void 0===o?[]:o,c=e.isOpen,l=e.toggleOpen,s=e.onChange,d=void 0===s?function(){}:s,u=e.btn,m=e.items,p=void 0===m?[]:m,v=e.getOption,f=void 0===v?function(e){return{value:e.value,label:e.label,tipologia:e.tipologia}}:v;return i.a.createElement(i.a.Fragment,null,u&&u(l),i.a.createElement(_.j,{size:a,isOpen:c,toggle:l,wrapClassName:"serapide",autoFocus:!0},i.a.createElement(_.m,{toggle:l},n),i.a.createElement(_.k,null,i.a.createElement("div",{style:{maxHeight:"60vh",overflowY:"scroll"}},i.a.createElement(_.h,null,p.map(function(e){var a=f(e)||{};return i.a.createElement(_o,{key:a.value,option:a,onClick:d,selected:-1!==r.indexOf(a.value)})})))),i.a.createElement(_.l,{style:{display:"block"}},t)))}),$o=function(e){return[]},Mo=function(e){var a=e.query,t=e.variables,n=e.getList,o=void 0===n?$o:n,r=Object(D.a)(e,["query","variables","getList"]);return i.a.createElement(l.c,{query:a,variables:t},function(e){var a=e.loading,t=e.data,n=e.error;return n&&U.toast.error(n.message,{autoClose:!0}),i.a.createElement(Vo,Object.assign({isLoading:a,items:o(t)},r))})},qo=Ke("isOpen","toggleOpen",!1),Fo=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,"STAI PER INVIARE I DOCUMENTI"),i.a.createElement("h4",null," AL SISTEMA"),i.a.createElement("h6",null,"Attenzione! La procedura non \xe8 reversibile"))},Bo=qo(function(e){var a=e.mutation,t=e.variables,n=e.fontSize,o=e.iconSize,r=e.toggleOpen,c=e.isOpen,s=e.canCommit,d=void 0!==s&&s,u=e.onCompleted,m=e.label,p=void 0===m?"SALVA ED INVIA":m,v=e.tipIconColor,f=void 0===v?"danger":v,E=e.messaggio,g=void 0===E?i.a.createElement(Fo,null):E,b=d?p:i.a.createElement(ua,{color:f,dataTip:"Informazioni mancanti",text:p});return i.a.createElement(l.b,{mutation:a,onError:le,onCompleted:u},function(e,a){var l=a.loading;return i.a.createElement(i.a.Fragment,null,i.a.createElement(sa,{isLoading:l,fontSize:n,iconSize:o,onClick:r,className:"my-auto text-uppercase",disabled:!d,color:"serapide",label:b}),c&&i.a.createElement(_.j,{isOpen:c,centered:!0,size:"md",wrapClassName:"serapide salva-invia",autoFocus:!0},i.a.createElement(_.m,{className:"d-flex justify-content-center"},i.a.createElement("i",{className:"material-icons text-serapide icon-34"},"notifications_active")),i.a.createElement(_.k,{className:"d-flex justify-content-center flex-column pt-0 px-5 pb-5  align-items-center justify-item-center"},g,i.a.createElement("div",{className:"sv-button pt-5 d-flex justify-content-around"},i.a.createElement(sa,{label:"ANNULLA",color:"serapide",disabled:l,onClick:r}),i.a.createElement(sa,{label:"SALVA",isLoading:l,disabled:l,color:"serapide",onClick:function(){e({variables:t})}})))))})}),Zo=se("proceduraVas"),Go={className:"col-xl-12",iconSize:"icon-24",fontSize:"size-15",mutation:Ht,resourceMutation:Qt},Wo=ea({onUpdate:!1})(function(e){var a=e.codice,t=e.canUpdate,n=e.isLocked,o=e.Vas,r=(void 0===o?{}:o).node,c=(r=void 0===r?{}:r).uuid,s=r.tipologia,d=r.piano,u=(d=void 0===d?{}:d).soggettoProponente,m=d.soggettiOperanti,p=void 0===m?[]:m,v=r.risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=(u||{}).ufficio,b=void 0===g?{}:g,N=(E.filter(function(e){return e.node.tipo===Ue}).pop()||{}).node,z=(E.filter(function(e){return e.node.tipo===_e}).pop()||{}).node,A=(E.filter(function(e){return e.node.tipo===Fe}).pop()||{}).node,h=s===Ce,O=p.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"AC"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),I=p.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),C=!n&&t&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!a)return!1;switch(e){case he:case Ae:return t.length>0;case Ie:case Oe:return t.length>0&&n.length>0;case Ce:return!0;default:return!1}}(s,b,O,I)&&function(e,a){return e===Ce||e===Ie||!!be(a,Ge[e])}(s,E),S=Zo(c,"tipologia");return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"pt-4"},"PROCEDIMENTO VAS"),i.a.createElement("span",{className:"p-3 pb-5"},"NOTA : Le opzioni sono escludenti. Se viene selezionata la richiesta della VAS semplificata \xe8 richiesto l\u2019upload della Relazione Motivata; se viene selezionata la Richiesta di Verifica VAS \xe8 richiesto l\u2019upload del documento preliminare di verifica; se si seleziona il Procedimento Vas si decide di seguire il procedimento VAS esteso."),i.a.createElement(Do,{isLocked:n,getInput:S,mutation:oi,value:he,checked:s===he,label:i.a.createElement(ua,{dataTip:"art.5 co.3ter L.R. 10/2010",text:"PROCEDURA DI VERIFICA SEMPLIFICATA"}),className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(yo,Object.assign({},Go,{disabled:!e,isLocked:!e||n,risorsa:N,placeholder:i.a.createElement(ua,{dataTip:"art.5 co.3ter L.R. 10/2010",text:"Relazione motivata per verifica VAS semplificata"}),variables:{codice:c,tipo:Ue}})))}),i.a.createElement(Do,{isLocked:n,getInput:S,mutation:oi,value:Ae,checked:s===Ae,label:i.a.createElement(ua,{dataTip:"art.22 L.R. 10/2010",text:"PROCEDURA DI VERIFICA DI ASSOGGETTABILITA\u2019 A VAS"}),className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(yo,Object.assign({},Go,{disabled:!e,isLocked:!e||n,risorsa:z,placeholder:i.a.createElement(ua,{dataTip:"art.22 L.R. 10/2010",text:"Documento preliminare di verifica assoggettabilit\xe0"}),variables:{codice:c,tipo:_e}})))}),i.a.createElement(Do,{isLocked:n,getInput:S,mutation:oi,value:Oe,label:i.a.createElement(ua,{dataTip:"art.8 co.5 L.R. 10/2010",text:"PROCEDIMENTO SEMPLIFICATO"}),checked:s===Oe,className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(yo,Object.assign({},Go,{disabled:!e,isLocked:!e||n,risorsa:A,placeholder:i.a.createElement(ua,{dataTip:"art. 8, 22 e 23 L.R. 10/2010",text:"Documento preliminare VAS"}),variables:{codice:c,tipo:Fe}})))}),i.a.createElement(Do,{isLocked:n,getInput:S,mutation:oi,value:Ie,checked:s===Ie,label:i.a.createElement(ua,{dataTip:"FASE PRELIMINARE DI VAS (art.23 LR 10/2010)",text:"PROCEDURA ORDINARIA DI VAS"}),className:"mt-5"},function(){return i.a.createElement("div",{className:"row"},i.a.createElement("span",{className:"p-3 col-xl-12"},"Scegliendo \u201cPROCEDURA ORDINARIA DI VAS\u201d verr\xe0 inviata una comunicazione all\u2019autorit\xe0 procedente e proponente (AP/P) che avvier\xe0 le consultazioni degli Soggetti Competenti in Materia Ambientale (SCA)"))}),i.a.createElement(Do,{isLocked:n,getInput:S,mutation:oi,value:Ce,checked:s===Ce,label:"VAS NON NECESSARIA",className:"mt-5"},function(){return i.a.createElement("div",{className:"row"},i.a.createElement("span",{className:"p-3 mb-5 col-xl-12"},"In questo caso per il piano non \xe8 necessaria alcuna VAS "))}),i.a.createElement("div",{className:"d-flex mt-2 pt-2 justify-content-between mb-3"},i.a.createElement("div",{style:{minWidth:"33%"}},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:b?[b.uuid]:[],query:gt,variables:{tipo:"opcom"},getList:me,label:"DEFINISCI SOGGETTO PROPONENTE",size:"lg",onChange:function(t){var n=t;b&&b.uuid===t&&(n=null),e({variables:{input:{pianoOperativo:{soggettoProponenteUuid:n},codice:a}}})},btn:function(e){return i.a.createElement(sa,{iconSize:"icon-20",fontSize:"size-11",disabled:n,onClick:e,className:"my-auto text-uppercase",color:"serapide",icon:"add_circle",label:"SOGGETTO PROPONENTE"})}})})),i.a.createElement("div",{style:{minWidth:"33%"}},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:O.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:gt,getList:me,onChange:function(t,n){var i=n.tipologia,o=n.uuid,r=O.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(r=r.filter(function(e){var a=e.ufficioUuid;return o!==a})).length===O.length&&(r=[{qualifica:i,ufficioUuid:o}]),e({variables:{input:{pianoOperativo:{soggettiOperanti:r.concat(I.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:a}}})},variables:{tipo:"ac"},size:"lg",label:"SELEZIONA AUTORITA\u2019 COMPETENTE VAS",btn:function(e){return i.a.createElement(sa,{iconSize:"icon-20",fontSize:"size-11",disabled:n,onClick:e,className:"text-uppercase",color:"serapide",icon:"add_circle",label:"AUTORITA\u2019 COMPETENTE VAS (AC)"})}})})),i.a.createElement("div",{style:{minWidth:"33%"}},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:I.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:gt,variables:{tipo:"sca"},getList:me,label:"DEFINISCI SCA",size:"lg",onChange:function(t,n){var i=n.tipologia,o=n.uuid,r=I.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(r=r.filter(function(e){return e.ufficioUuid!==o})).length===I.length&&(r=r.concat({qualifica:i,ufficioUuid:o})),e({variables:{input:{pianoOperativo:{soggettiOperanti:r.concat(O.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:a}}})},btn:function(e){return i.a.createElement(sa,{iconSize:"icon-20",fontSize:"size-11",onClick:e,className:"my-auto text-uppercase",disabled:h||n,color:"serapide",icon:"add_circle",label:"SOGGETTI COMPETENTI IN MATERIA AMBIENTALE (SCA)"})}})}))),i.a.createElement("div",{className:"d-flex mt-5 pt-5  justify-content-end"},i.a.createElement(Bo,{mutation:ni,variables:{codice:a},canCommit:C})))}),Ho=function(e){var a=e.codice,t=e.canUpdate,n=e.isLocked;return i.a.createElement(l.c,{query:Et,variables:{codice:a},onError:le},function(e){var o=e.loading,r=e.data,l=(r=void 0===r?{}:r).modello,s=(l=void 0===l?{}:l).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return o?i.a.createElement("div",{className:"serapide-content pt-5 pb-5 pX-md px-1 serapide-top-offset position-relative overflow-x-scroll"},i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))):i.a.createElement(Wo,{codice:a,canUpdate:t,isLocked:n,Vas:d})})},Qo=Object(W.debounce)(function(e,a,t){e(a(t))},500),Jo=function(e){var a=e.className,t=e.rows,n=e.disabled,o=e.mutation,r=e.value,c=e.update,s=(e.selected,e.type),d=void 0===s?"textarea":s,u=e.placeholder,m=e.getInput,p=void 0===m?function(e){return{variables:{input:{descrizione:e}}}}:m,v=Object(D.a)(e,["className","rows","disabled","mutation","value","update","selected","type","placeholder","getInput"]);return i.a.createElement(l.b,Object.assign({mutation:o,onError:le,update:c},v),function(e,o){var c=o.error;return i.a.createElement(_.f,{rows:t,className:a,invalid:c,disabled:n,onChange:function(a){var t=a.target.value;Qo(e,p,t)},type:d,name:"text",defaultValue:c?"":r,placeholder:u})})},Xo=function(){return i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))},Yo=function(e){var a=e.match,t=(a=void 0===a?{}:a).params,n=(t=void 0===t?{}:t).code;Object(D.a)(e,["match"]);return i.a.createElement(l.c,{query:ft,variables:{codice:n},fetchPolicy:"network-only"},function(e){var a=e.loading,t=e.data,o=(t=void 0===t?{}:t).piani,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=(l=void 0===l?{}:l).node,d=void 0===s?{}:s;e.error;if(a)return i.a.createElement(Xo,null);if(!d.codice)return U.toast.error("Impossobile trovare il piano: ".concat(n),{autoClose:!0}),i.a.createElement("div",null);var u=d.ente,m=d.fase,p=d.risorse,v=(p=void 0===p?{}:p).edges,f=void 0===v?[]:v,E=d.tipo,g=void 0===E?"":E,b=d.codice,N=void 0===b?"":b,z=d.dataDelibera,A=d.numeroDelibera,h=d.descrizione,O="DRAFT"!==m,I=be(f,Se),C=ge(f,ye);return O&&(window.location.href="#/pino/".concat(n,"/anagrafica")),i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("div",{className:"d-flex flex-column "},i.a.createElement("h4",{className:"text-uppercase"},ae(u)),i.a.createElement("div",{className:"pb-4 pt-3 d-flex flex-row"},i.a.createElement("i",{className:"material-icons text-serapide icon-34 pr-4 "},"assignment"),i.a.createElement("div",{className:"d-flex flex-column flex-fill"},i.a.createElement("h3",{className:"mb-0"},"CREA ANAGRAFICA"),i.a.createElement("h3",{className:"mb-0 text-capitalize"},"".concat(function(e){return"variante"===e?"".concat(e," piano"):"piano ".concat(e)}(g.toLowerCase())," ").concat(N)),i.a.createElement("span",{className:"pt-5"},te(u)),i.a.createElement("h5",{className:"pt-5 pb-2"},"Delibera di Consiglio/Giunta"),i.a.createElement("div",{className:"row d-flex align-items-center"},i.a.createElement("span",{className:"col-4 "},"DELIBERA DEL"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(po,{disabled:O,selected:z?new Date(z):void 0,mutation:ti,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{dataDelibera:a.toISOString()},codice:e}}}}}(N)}))),i.a.createElement("div",{className:"row d-flex pt-5 align-items-center "},i.a.createElement("span",{className:"col-4"},"DENOMINAZIONE DELL\u2019ATTO"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(Jo,{disabled:O,value:h,mutation:ti,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{descrizione:a},codice:e}}}}}(N)}))),i.a.createElement("div",{className:"row d-flex pt-5 align-items-center "},i.a.createElement("span",{className:"col-4"},"NUMERO DELIBERA"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(Jo,{disabled:O,rows:1,value:A,mutation:ti,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{numeroDelibera:a},codice:e}}}}}(N)}))),i.a.createElement("span",{className:"pt-5"},"DELIBERA DI AVVIO DEL PROCEDIMENTO"),i.a.createElement("span",{className:"pb-2 font-weight-light"},"Caricare delibera, formato obbligatorio pdf"),i.a.createElement(yo,{useLabel:!0,iconSize:"icon-24",fontSize:"size-15",placeholder:"Delibera (obbligatoria)",variables:{codice:N,tipo:Se},risorsa:I,isLocked:O}),i.a.createElement("span",{className:"pt-5"},"ALTRI DOCUMENTI"),i.a.createElement("span",{className:"font-weight-light"},"Caricare eventuali allegati trascinando i files nel riquadro, formato obbligatorio pdf"),i.a.createElement(xo,{risorse:C,variables:{codice:N,tipo:ye},isLocked:O}),i.a.createElement("div",{style:{borderBottom:"2px dashed"},className:"mt-5 text-serapide"}),i.a.createElement(Ho,{codice:N,canUpdate:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e&&a&&t}(z,I,h),isLocked:O})))))})},Ko=function(e){var a=e.tipologia,t=e.docInizialeVAS,n=void 0===t?{}:t,o=e.pareriVerificaVAS,r=void 0===o?{}:o,c=e.provvedimentoVerifica,l=void 0===c?{}:c,s=e.assoggettamento,d=e.dataAssoggettamento;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"pt-4"},a===he&&i.a.createElement(ua,{className:"font-weight-bold",dataTip:"art.5 co.3ter L.R. 10/2010",text:"PROCEDURA DI VERIFICA SEMPLIFICATA"}),a===Ae&&i.a.createElement(ua,{className:"font-weight-bold",dataTip:"art.22 L.R. 10/2010",text:"PROCEDURA DI VERIFICA DI ASSOGGETTABILITA\u2019 A VAS"}),a===Oe&&i.a.createElement(ua,{className:"font-weight-bold",dataTip:"art.8 co.5 L.R. 10/2010",text:"PROCEDIMENTO SEMPLIFICATO"}),a===Ie&&i.a.createElement(ua,{className:"font-weight-bold",dataTip:"FASE PRELIMINARE DI VAS (art.23 LR 10/2010)",text:"PROCEDURA ORDINARIA DI VAS"}),a===Ce&&i.a.createElement("span",{className:"font-weight-bold"},"VAS NON NECESSARIA")),i.a.createElement("div",{className:"pl-2 pr-2"},i.a.createElement("div",{className:"mt-4 mb-4"},a!==Ie&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ua,{className:"mb-2 text-uppercase",dataTip:n.tooltip,text:n.label}),i.a.createElement(Co,{isLocked:!0,className:"border-0 mt-2",icon:"attach_file",resource:n})),!Object(W.isEmpty)(r)&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"mb-2"},"PARERI DI VERIFICA VAS"),Object(W.map)(r,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{fileSize:!1,key:e.uuid,className:"border-0 mt-3",icon:"attach_file",resource:e})}))})),!Object(W.isEmpty)(l)&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"mb-2"},"PROVVEDIMENTO DI VERIFICA VAS"),i.a.createElement(Co,{isLocked:!0,className:"mt-2",icon:"attach_file",resource:l})),null!==s&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("span",null,"ESITO VERIFICA ASSOGGETTAMENTO:",i.a.createElement("span",{className:"font-weight-bold ml-3 mr-3 text-serapide"},s?"Assoggettamento VAS":"Esclusione VAS"),!!d&&i.a.createElement("span",null,"il ",ie(d)))))))},er=function(e){var a=e.children,t=void 0===a?[]:a,n=e.className;return i.a.createElement("div",{className:"d-flex border-top pb-4"},i.a.createElement("div",{className:"piano-page-content border flex-fill ".concat(n)},t))},ar=function(e){var a=e.icon,t=e.title,n=e.iconClassName,o=void 0===n?"material-icons icon-30 text-white bg-serapide p-2 mr-2 rounded-circle":n;return i.a.createElement("span",{className:"d-flex align-items-center justify-content-center mb-5"},i.a.createElement("i",{className:o},a),i.a.createElement("div",{className:"size-26"},t))},tr=function(e){var a=e.match,t=(a=void 0===a?{}:a).params,n=(t=void 0===t?{}:t).code;Object(D.a)(e,["match"]);return i.a.createElement(l.c,{query:ft,variables:{codice:n}},function(e){var a=e.loading,t=e.data,o=(t=void 0===t?{}:t).piani,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var s=Object(c.a)(r,1)[0];e.error;return i.a.createElement(l.c,{query:Et,variables:{codice:n}},function(e){var t=e.loading,o=e.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?{}:r).edges;l=void 0===l?[]:l;var d=Object(c.a)(l,1)[0];if(a||t)return i.a.createElement(Xo,null);if(!s)return U.toast.error("Impossibile trovare il piano: ".concat(n),{autoClose:!0}),i.a.createElement("div",null);var u=s.node,m=(u=void 0===u?{}:u).ente,p=u.fase.nome,v=u.risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=u.dataDelibera,b=u.numeroDelibera,N="DRAFT"!==p,z=be(E,Se),A=ge(E,ye);N||(window.location.href="#/crea_anagrafica/".concat(n));var h=d.node,O=(h=void 0===h?{}:h).tipologia,I=h.piano,C=(I=void 0===I?{}:I).soggettoProponente,S=I.soggettiOperanti,P=void 0===S?[]:S,y=h.risorse,R=(y=void 0===y?{}:y).edges,x=be(void 0===R?[]:R,Ge[O]),L=P.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"AC"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),j=P.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),T=(C||{}).ufficio,k=void 0===T?{}:T;return i.a.createElement(er,null,i.a.createElement(ar,{icon:"assignment",title:"ANAGRAFICA"}),i.a.createElement("div",{className:"d-flex flex-column flex-fill"},i.a.createElement("div",{className:"pt-5 row"},i.a.createElement("div",{className:"col-12 py-2"},te(m)),i.a.createElement("div",{className:"col-12 py-2 pt-4"},"DELIBERA DEL ",ie(g),"  \xa0 N\xb0 ",null!==b&&void 0!==b?b:"N\xb0 delibera non selezionato"),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:z,isLocked:!0})," "),i.a.createElement("div",{className:"col-12 pt-4 pb2"},"ALTRI DOCUMENTI",A.length>0?A.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 px-0 py-2"},"Nessun allegato presente"))),i.a.createElement("div",{style:{borderBottom:"2px dashed"},className:"mt-5 text-serapide"}),i.a.createElement(Ko,{tipologia:O,docInizialeVAS:x,assoggettamento:null}),i.a.createElement("div",{className:"d-flex mt-6 pt-2 justify-content-between mb-3"},i.a.createElement("div",{style:{minWidth:"30%"}},i.a.createElement("span",null,"SOGGETTO PROPONENTE"),k&&k.nome&&i.a.createElement("div",{className:"d-flex pt-3",key:k.uuid},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(k.ente&&k.ente.nome," ").concat(k.nome))),i.a.createElement("div",{style:{minWidth:"30%"}},i.a.createElement("span",null,"AUTORITA\u2019 COMPETENTE VAS"),L.length>0?L.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))}):i.a.createElement("div",{className:"d-flex pt-3"},"AC non selezionato")),i.a.createElement("div",{style:{minWidth:"40%"}},i.a.createElement("span",null,"SOGGETTI COMPETENTI IN MATERIA AMBIENTALE"),j.length>0?j.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))}):i.a.createElement("div",{className:"d-flex pt-3"},"Soggeti SCA non selezionati")))))})})},nr=t(443),ir=function(e){var a=e.chiusura,t=e.scadenza,n=!!a,o=!n&&!!t,r="";o&&!n&&ne(t)<ne(new Date)?r="text-danger":o&&(r="text-serapide");var c=a||t;return i.a.createElement("td",{className:r},i.a.createElement("span",{className:"d-flex size-11"},o&&i.a.createElement("i",{className:"material-icons icon-18 ".concat(r)},"notifications_active"),i.a.createElement("span",{className:"my-auto size-11 ".concat(o&&"ml-1"," ").concat(r)},c&&ie(c))))},or=function(e,a){var t=e.order;return a.order-t},rr=ea()(function(e){var a=e.azioni,t=void 0===a?[]:a,n=e.filtroFase,o=void 0===n?"anagrafica":n,r=e.className,c=e.onExecute,l=void 0===c?function(){}:c;return i.a.createElement(_.s,{size:"sm",className:r,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",{className:"size-11"},i.a.createElement("th",null,"Stato"),i.a.createElement("th",null,"Azione"),i.a.createElement("th",null,"Attori"),i.a.createElement("th",null,"Data"),i.a.createElement("th",null))),i.a.createElement("tbody",null,t.filter(function(e){var a=e.fase,t=void 0===a?"":a;return(null!==t&&void 0!==t?t:"").toLowerCase()===o}).sort(or).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.stato,t=void 0===a?"":a,n=e.qualificaRichiesta,o=void 0===n?"":n,r=e.tipologia,c=void 0===r?"":r,s=e.label,d=void 0===s?"":s,u=e.eseguibile,m=void 0!==u&&u,p=e.tooltip,v=void 0===p?"":p,f=e.data,E=e.scadenza,g=e.uuid,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return"nessuna"===e.toLowerCase()?e.toLowerCase():a?"necessaria":"attesa"}(t,m);return i.a.createElement("tr",{key:g},i.a.createElement("td",null,i.a.createElement("i",{className:"icon-18 material-icons ".concat(function(e){switch(e){case"NECESSARIA":case"ATTESA":return"text-serapide";default:return""}}(b))},function(e){switch(e){case"NECESSARIA":return"alarm_add";case"ATTESA":return"alarm_on";default:return"alarm_off"}}(b))),i.a.createElement("td",null,v?i.a.createElement(ua,{className:"size-11",dataTip:v,dataTipDisable:!v,text:d}):i.a.createElement("span",{className:"size-11"},d)),i.a.createElement("td",null,i.a.createElement("span",{className:"size-11"},o)),i.a.createElement(ir,{chiusura:f,scadenza:E}),i.a.createElement("td",{className:"".concat("nessuna"!==b&&m?"pointer":"")},"nessuna"!==b&&m&&i.a.createElement("i",{className:"material-icons text-serapide",onClick:function(){return l(c,g)}},"play_circle_filled")))})))}),cr=Ke("checked","toggle",!1)(function(e){var a=e.fase,t=e.className,n=e.checked,o=e.toggle,r=e.goToSection,c=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:He()("d-flex","flex-column",t)},i.a.createElement("div",{className:"d-flex pb-1"},i.a.createElement("i",{className:"material-icons icon-20"},"folder_open"),i.a.createElement("span",{className:"pl-2 text-uppercase"},a)),i.a.createElement("div",{className:"d-flex strt-switch"},i.a.createElement("div",{className:"custom-control custom-switch border-top pt-2 d-flex"},i.a.createElement("label",{onClick:o,className:He()("custom-control-label pointer",{"border-serapide bg-serapide":n,checked:n})}),i.a.createElement("span",{className:"size-10 my-auto"},"Visualizza attivit\xe0")),i.a.createElement("div",{className:"d-flex border-top pl-2 pt-2"},i.a.createElement("i",{className:"material-icons pointer text-serapide icon-22",onClick:r},"exit_to_app"),i.a.createElement("label",{className:"control-label pl-1 size-10 my-auto"},"Vai alla sezione")))),n&&c)}),lr=function(e){var a=e.label,t=e.children,n=e.className,o=void 0===n?"py-3 border-bottom-2 border-top-2":n;return i.a.createElement("div",{className:o},i.a.createElement("div",{className:"action-title"},t||a))},sr=function(e){var a=e.scadenza,t=e.iconSize,n=void 0===t?"":t,o=e.fontSize,r=void 0===o?"":o,c=e.formato,l=void 0===c?"dd MMMM yyyy":c,s=e.label,d=void 0===s?"Richiesta Comune":s,u=e.icon,m=void 0===u?"check_circle_outline":u,p=e.className,v=void 0===p?"row d-flex mb-3 mt-3":p;return i.a.createElement("div",{className:v},i.a.createElement("div",{className:"col-6 d-flex align-item-center"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(n)},m),i.a.createElement("span",{className:"pl-2 ".concat(r)},d)),i.a.createElement("div",{className:"col-6 ".concat(r)},a&&ie(a,l)))},dr=function(e){var a=e.label,t=e.children,n=e.fontWeight,o=void 0===n?"font-weight-bold":n,r=e.className,c=void 0===r?"size-14 pb-1":r;return i.a.createElement("div",{className:"pt-5 ".concat(o||""," ").concat(c||"")},t||a)},ur=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.utente,d=(s=void 0===s?{}:s).fiscalCode,u=e.azione,m=(u=void 0===u?{}:u).scadenza,p=u.avvioScadenza,v=e.tipo,f=void 0===v?Ve:v,E=e.tipoVas,g=void 0===E?_e:E,b=e.label,N=void 0===b?"PARERI":b,z=e.title,A=void 0===z?"Pareri SCA":z,h=e.saveMutation,O=void 0===h?li:h,I=l.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===f&&d===(void 0===n?{}:n).fiscalCode}).map(function(e){return e.node}),C=l.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===g}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,A),i.a.createElement(sr,{fontSize:"size-11",iconSize:"icon-15",scadenza:p}),i.a.createElement(Co,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 mt-2",icon:"attach_file",resource:C}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,m&&ie(m,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale inviare i pareri"))),i.a.createElement(dr,{fontWeight:"font-weight-light"},N),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:I,mutation:Ht,resourceMutation:Qt,variables:{codice:o,tipo:f},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:O,canCommit:I.length>0})))},mr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(ur,Object.assign({},e,{vas:r}))})},pr=function(e){var a=e.uuid,t=e.assoggettamento,n=e.fontSize,o=e.iconSize,r=void 0===o?"icon-34":o;return i.a.createElement(l.b,{mutation:oi,onError:le},function(e){var o=function(n){n!==t&&e({variables:{input:{proceduraVas:{assoggettamento:n},uuid:a}}})};return i.a.createElement("div",{className:"d-flex mt-3 justify-content-around"},i.a.createElement("span",{className:"d-flex justify-content-start pointer"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(r," ").concat(!1===t?"pointer":""),onClick:function(){return o(!1)}},!1===t?"radio_button_checked":"radio_button_unchecked"),i.a.createElement("span",{className:"pl-2 align-self-center ".concat(n)},"esclusione da VAS")),i.a.createElement("span",{className:"d-flex justify-content-start pointer"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(r," ").concat(!0===t?"pointer":""),onClick:function(){return o(!0)}},!0===t?"radio_button_checked":"radio_button_unchecked"),i.a.createElement("span",{className:"pl-2 align-self-center ".concat(n)},"assoggettamento VAS")))})},vr=ea()(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.assoggettamento,c=n.tipologia,l=n.risorse,s=(l=void 0===l?{}:l).edges,d=void 0===s?[]:s,u=e.azione,m=(u=void 0===u?{}:u).scadenza,p=u.avvioScadenza,v=ue(d,Ve),f=d.filter(function(e){return e.node.tipo===qe}).map(function(e){return e.node}).shift(),E=d.filter(function(e){return e.node.tipo===Ge[c]}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,i.a.createElement(ua,{text:"Provvedimento di Verifica",dataTip:"art.22 L.R. 10/2010"})),i.a.createElement(sr,{iconSize:"icon-15",fontSize:"size-11",scadenza:p}),i.a.createElement(Co,{useLabel:!0,iconSize:"icon-15",fileSize:!1,fontSize:"size-11",className:"border-0 mt-3",icon:"attach_file",resource:E}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,m&&ie(m,"dd MMMM yyyy")),i.a.createElement("span",null,"Data massima entro la quale inviare il provvedimento di verifica"))),i.a.createElement("div",{className:He()(" mt-4",{"border-bottom-2":v.length>0})},Object(W.map)(v,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{useLabel:!0,iconSize:"icon-15",fileSize:!1,fontSize:"size-11",key:e.uuid,className:"border-0 mt-3",icon:"attach_file",resource:e})}))})),i.a.createElement(dr,null,"Emissione Provvedimento di Verifica"),i.a.createElement(pr,{fontSize:"size-11",iconSize:"icon-15",assoggettamento:r,uuid:o}),i.a.createElement(dr,{fontWeight:"font-weight-light"},"PROVVEDIMENTO DI VERIFICA"),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 ".concat(f?"":"flex-column"),sz:"sm",modal:!1,showBtn:!1,mutation:Ht,resourceMutation:Qt,disabled:!1,isLocked:!1,risorsa:f,variables:{codice:o,tipo:qe}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,mutation:ui,variables:{uuid:o},canCommit:!!f&&null!==r})))}),fr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(vr,Object.assign({},e,{vas:l}))})},Er=function(e){var a=e.label,t=e.children,n=e.className,o=void 0===n?"size-13":n,r=e.fontWeight,c=void 0===r?"font-weight-light":r;return i.a.createElement("div",{className:"pt-4 ".concat(c||""," ").concat(o||"")},t||a)},gr=function(e){var a=e.hideTitle,t=void 0!==a&&a,n=e.title,o=void 0===n?"SOGGETTI ISTITUZIONALI":n,r=e.contacts,c=void 0===r?[]:r,l=e.icon,s=void 0===l?"bookmark":l;return i.a.createElement(i.a.Fragment,null,!t&&i.a.createElement(Er,{className:"pb-1 size-13 mt-2"},o),i.a.createElement("div",{className:"d-flex flex-wrap mt-2"},c.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente.nome;return i.a.createElement("div",{key:n,className:"d-flex mr-2 flex-fill align-items-center size-11"},i.a.createElement("i",{className:"material-icons text-serapide icon-13"},s),"".concat(o," ").concat(t))})))},br=se("proceduraAvvio"),Nr={className:"border-0",mutation:Yt,resourceMutation:Kt,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},zr=ea({onUpdate:!1,log:!1,comp:"AvvioProc"})(function(e){var a=e.proceduraAvvio,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).uuid,o=t.conferenzaCopianificazione,r=t.dataScadenzaRisposta,c=t.garanteNominativo,s=t.garantePec,d=t.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=e.piano,v=(p=void 0===p?{}:p).soggettiOperanti,f=p.codice,E=p.risorse.edges,g=void 0===E?[]:E,b=e.back,N=be(g,Se),z=be(m,Re),A=ge(m,De),h=be(m,xe),O=be(m,Le),I=be(m,je),C=ze(v).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Avvio del Procedimento | ",i.a.createElement("span",{className:"text-nowrap"},"(Atto di Avvio)",i.a.createElement(ua,{dataTip:"art. 17 L.R. 65/2014"}))),i.a.createElement(Co,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",fileSize:!1,className:"border-0 mt-3",icon:"attach_file",resource:N}),i.a.createElement(dr,null,i.a.createElement(ua,{text:"Elaborati allegati alla delibera di avvio del procedimento",dataTip:"ai sensi dell\u2019art. 17 comma 3, lett. a,b,c,d,e,f, L.R. 65/2014"})),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom"},i.a.createElement(yo,Object.assign({},Nr,{placeholder:"Obiettivi del piano",risorsa:z,variables:{codice:n,tipo:"obiettivi_piano"}}))),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom "},i.a.createElement(yo,Object.assign({},Nr,{placeholder:i.a.createElement("span",null,"Quadro Conoscitivo",i.a.createElement(ua,{dataTip:"art. 17, lett.b, L.R. 65/2014"})),risorsa:h,variables:{codice:n,tipo:"quadro_conoscitivo"}}))),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom "},i.a.createElement(yo,Object.assign({},Nr,{placeholder:i.a.createElement("span",null,"Programma delle attivit\xe0 di informazione e di partecipazione",i.a.createElement(ua,{dataTip:"art. 17, lett.e, L.R. 65/2014"})),risorsa:O,variables:{codice:n,tipo:"programma_attivita"}}))),i.a.createElement(Er,null,"ALTRI ALLEGATI"),i.a.createElement(xo,Object.assign({},Nr,{risorse:A,variables:{codice:n,tipo:"altri_allegati_avvio"}})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(dr,null,"GARANTE DELL'INFORMAZIONE E DELLA PARTECIPAZIONE"),i.a.createElement(Jo,{getInput:br(n,"garanteNominativo"),mutation:Li,disabled:!1,className:"my-3 rounded-pill size-10",placeholder:"Nominativo",onChange:void 0,value:c,type:"text"}),i.a.createElement(Jo,{getInput:br(n,"garantePec"),mutation:Li,disabled:!1,className:"mb-3 rounded-pill size-10",placeholder:"Indirizzo Pec",onChange:void 0,value:s,type:"email"}),i.a.createElement("div",{className:"action-uploader  align-self-start border-bottom "},i.a.createElement(yo,Object.assign({},Nr,{placeholder:i.a.createElement("span",null,"Individuazione del garante dell\u2019informazione e della partecipazione",i.a.createElement(ua,{dataTip:"art. 17, lett.f, L.R. 65/2014"})),risorsa:I,variables:{codice:n,tipo:"individuazione_garante_informazione"}}))),i.a.createElement(dr,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"TERMINI SCADENZA PER LA RISPOSTA"),i.a.createElement(po,{minDate:Object(G.a)(new Date,1),popperPlacement:"left",selected:r?new Date(r):void 0,getInput:br(n,"dataScadenzaRisposta"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Li})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(dr,null,"SCELTA SOGGETTI ISTITUZIONALI"),i.a.createElement("div",{className:"font-weight-light pb-1 size-8"},i.a.createElement(ua,{text:"Soggetti istituzionali a cui si chiede il contributo tecnico",dataTip:"art. 17, lett.c, L.R. 65/2014"})),i.a.createElement(gr,{hideTitle:!0,contacts:C}),i.a.createElement("div",{className:"mt-4 pl-4 pb-4"},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:C.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:bt,getList:me,variables:{tipo:Ne},onChange:function(a,t){var n=t.tipologia,i=t.uuid,o=v.map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio,a=(e=void 0===e?{}:e).qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(o=o.filter(function(e){return e.ufficioUuid!==i})).length===v.length&&(o=o.concat({qualifica:n,ufficioUuid:i})),e({variables:{input:{pianoOperativo:{soggettiOperanti:o},codice:f}}})},size:"lg",label:"SOGGETTI ISTITUZIONALI",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(sa,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"rounded-pill",color:"serapide",icon:"add_circle",label:"Seleziona soggetti istituzionali"}))}})})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(dr,null,i.a.createElement(ua,{text:"RICHIESTA CONFERENZA DI COPIANIFICAZIONE",dataTip:"art. 25 L.R. 65/2014"})),i.a.createElement("div",{className:"row pl-2"},i.a.createElement("div",{className:"col-12 pt-2 size-13"},'Se si seleziona l\'opzione "Si" viene inviata a Regione Toscana la RICHIESTA di convocazione della Conferenza di Copianificazione.',i.a.createElement("br",null),'Se si seleziona l\'opzione "Non Adesso" il sistema inserisce nella lista delle attivit\xe0 la Conferenza di Copianificazione come attivit\xe0 da espletare.',i.a.createElement("br",null),'Se si seleziona l\'opzione "Non necessaria" il sistema invier\xe0 i documenti al Genio Civile per il deposito e nella lista delle attivit\xe0 verr\xe0 indicata la Ricezione del Protocollo dal Genio Civile come attivit\xe0 in attesa di risposta.')),i.a.createElement(l.b,{mutation:Li,onError:le},function(e){var a=function(a){e({variables:{input:{proceduraAvvio:{conferenzaCopianificazione:a.target.value.toLowerCase()},uuid:n}}})};return i.a.createElement("div",{className:"d-flex flex-column mt-4 pl-2 size-10"},i.a.createElement("div",{className:"d-flex"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(ua,{dataTip:"art. 25, comma 3 bis L.R. 65/2014",text:"SI"})),i.a.createElement("input",{onChange:a,value:"NECESSARIA",checked:"NECESSARIA"===o,className:"form-check-input position-static",type:"checkbox"})),i.a.createElement("div",{className:"d-flex"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(ua,{dataTip:"art. 25, comma 3 bis L.R. 65/2014",text:"NON ADESSO"})),i.a.createElement("input",{onChange:a,value:"POSTICIPATA",checked:"POSTICIPATA"===o,className:"form-check-input position-static",type:"checkbox"})),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(ua,{dataTip:"art.88, comma 7, lett. c,  e art. 90 comma 7, lett.b, L.R. 65/2014",text:"NON NECESSARIA"})),i.a.createElement("input",{onChange:a,value:"NON_NECESSARIA",checked:"NON_NECESSARIA"===o,className:"form-check-input position-static",type:"checkbox"}),i.a.createElement("i",{className:"ml-3 material-icons icon-13 ".concat("NON_NECESSARIA"===o?"text-serapide":"")},"check_circle_outline"),i.a.createElement("span",{className:"pl-1 ".concat("NON_NECESSARIA"===o?"text-serapide":"text-gray")},"NOTIFICA AL GENIO CIVILE")))}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:b,variables:{codice:n},mutation:ji,canCommit:z&&h&&I&&O&&C.length>0&&r&&c&&s})))}),Ar=function(e){return i.a.createElement(l.c,{query:ut,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(zr,Object.assign({},e,{proceduraAvvio:l}))})},hr=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,s=void 0===c?[]:c,d=e.scadenza,u=e.piano,m=(u=void 0===u?{}:u).soggettiOperanti,p=void 0===m?[]:m,v=u.codice,f=e.saveMutation,E=void 0===f?fi:f,g=s.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===_e}).map(function(e){return e.node}).shift(),b=p.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),N=p.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"!==(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Trasmissione Documento Preliminare Verifica VAS"),i.a.createElement(sr,{fontSize:"size-11",iconSize:"icon-15",scadenza:d&&oe(d,30)}),i.a.createElement(Co,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 mt-2",icon:"attach_file",resource:g}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,d&&ie(d,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(gr,{title:"SOGGETTI COMPETENTI SCA",contacts:b}),i.a.createElement("div",{className:"mt-3 pl-4 border-bottom-2 pb-5"},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:b.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:gt,variables:{tipo:"sca"},onChange:function(a,t){var n=t.tipologia,i=t.uuid,o=b.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(o=o.filter(function(e){return e.ufficioUuid!==i})).length===b.length&&(o=o.concat({qualifica:n,ufficioUuid:i})),e({variables:{input:{pianoOperativo:{soggettiOperanti:o.concat(N.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:v}}})},getList:me,label:"DEFINISCI SCA",size:"lg",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(sa,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"text-serapide rounded-pill",color:"dark",icon:"add_circle",label:"Soggetti competenti in materia ambientale (SCA)"}))}})})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{uuid:o},mutation:E,canCommit:b.length>0})))},Or=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(hr,Object.assign({},e,{vas:r}))})},Ir=Ke("checked","toggleSwitch",!1)(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.checked,d=e.toggleSwitch,u=ue(l,"parere_sca"),m=l.filter(function(e){return"documento_preliminare_vas"===e.node.tipo}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Avvia Esame Pareri SCA"),i.a.createElement(dr,{fontWeight:"font-weight-light"},"DOCUMENTO PRELIMINARE"),i.a.createElement(Co,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",icon:"attach_file",resource:m}),i.a.createElement(dr,{fontWeight:"font-weight-light"},"PARERI SCA"),i.a.createElement("div",{className:He()(" mb-5",{"border-bottom-2":u.length>0})},Object(W.map)(u,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{icon2Size:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))})),i.a.createElement("div",{className:"d-flex align-items-center switch-small "},i.a.createElement("i",{className:"material-icons text-serapide icon-15 pr-2"},"email"),i.a.createElement("div",{className:"bg-serapide px-2 size-12"},"Avvia Esame Pareri"),i.a.createElement(To,{labelClassName:"col-auto",checked:s,toggleSwitch:d,ignoreChecked:!0})),i.a.createElement("div",{className:"pt-2 size-13 text-justify"},"Nota: Selezionare l'opzione Avvia Esame Pareri non comporta nessuna comunicazione agli altri attori coinvolti nel procedimento VAS e nessuna scadenza predefinita. E' solo una funzione per tenere traccia e evidenziare lo stato di avanzamento del procedimento."),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,mutation:pi,variables:{uuid:o},canCommit:s})))}),Cr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(Ir,Object.assign({},e,{vas:l}))})},Sr=Ye("url","onUrlChange",""),Pr=se("proceduraVas"),yr=Sr(function(e){var a=e.back,t=e.qualificaRichiesta,n=(e.onUrlChange,e.vas.node),o=(n=void 0===n?{}:n).pubblicazioneProvvedimentoVerificaAc,r=n.pubblicazioneProvvedimentoVerificaAp,c=n.uuid,l=n.risorse,s=(l=void 0===l?{}:l).edges,d="AC"===t,u=(void 0===s?[]:s).filter(function(e){var a=e.node,t=a.tipo;a.user;return t===_e}).map(function(e){return e.node}).shift(),m=d?"pubblicazioneProvvedimentoVerificaAc":"pubblicazioneProvvedimentoVerificaAp",p=d?ci:ri;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Pubblicazione Provvedimento di Verifica"),i.a.createElement(Co,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",className:"border-0 mt-5",fileSize:!1,icon:"attach_file",resource:u}),i.a.createElement("span",{className:"mt-5 d-flex align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 text-serapide pr-2"},"link"),i.a.createElement(Jo,{getInput:Pr(c,m),mutation:oi,disabled:!1,className:"rounded-pill size-10",placeholder:"Inserire la URL della pagina dove \xe8 stato pubblicato il provvedimento di verifica",onChange:void 0,value:d?o:r,type:"text"})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,mutation:p,variables:{uuid:c},canCommit:o||r})))}),Rr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(yr,Object.assign({},e,{vas:r}))})},xr=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=l.filter(function(e){var a=e.node,t=a.tipo;a.user;return"rapporto_ambientale"===t}).map(function(e){return e.node}).shift(),d=l.filter(function(e){var a=e.node,t=a.tipo;a.user;return"sintesi_non_tecnica"===t}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Redazione Elaborati VAS"),i.a.createElement("div",{className:"d-flex pt-2 mb-5 size-13 text-justify"},"Il comune esamina i pareri, redige il Rapporto Ambientale e la Sintesi non tecnica. Gli elaborati vengono caricati nella piattaforma"),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom  border-top"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"Rapporto ambientale",mutation:Ht,resourceMutation:Qt,disabled:!1,isLocked:!1,risorsa:s,variables:{codice:o,tipo:"rapporto_ambientale"}})),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"Documento di sintesi",mutation:Ht,resourceMutation:Qt,disabled:!1,isLocked:!1,risorsa:d,variables:{codice:o,tipo:"sintesi_non_tecnica"}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{uuid:o},mutation:vi,canCommit:s&&d})))},Lr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(xr,Object.assign({},e,{vas:r}))})},jr=ea()(function(e){var a=e.back,t=e.piano,n=(t=void 0===t?{}:t).risorse,o=(n=void 0===n?{}:n).edges,r=void 0===o?[]:o,l=t.codice,s=e.proceduraAvvio,d=(s=void 0===s?{}:s).node,u=(d=void 0===d?{}:d).uuid,m=e.fileType,p=void 0===m?Pe:m,v=r.filter(function(e){return e.node.tipo===p}),f=Object(c.a)(v,1)[0],E=(f=void 0===f?{}:f).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Protocollo Genio Civile"),i.a.createElement(Er,{className:"size-13 pb-1 pt-5"},"Carica il documento del protocollo"),i.a.createElement("div",{className:"action-uploader mt-4 align-self-start border-bottom border-top"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"Documento Protocollo",disabled:!1,isLocked:!1,risorsa:E,variables:{codice:l,tipo:p}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",tipIconColor:"w",onCompleted:a,variables:{codice:u},mutation:gi,canCommit:!!E})))}),Tr=function(e){return i.a.createElement(l.c,{query:ut,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(jr,Object.assign({},e,{proceduraAvvio:l}))})},kr=ea()(function(e){var a=e.back,t=e.piano,n=(t=void 0===t?{}:t).codice,o=(t.redazioneNormeTecnicheAttuazioneUrl,t.compilazioneRapportoAmbientaleUrl,t.conformazionePitPprUrl,t.monitoraggioUrbanisticoUrl,t.risorse.edges),r=(void 0===o?[]:o).filter(function(e){var a=e.node,t=a.tipo;a.user;return"norme_tecniche_attuazione"===t}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Formazione del Piano"),i.a.createElement(Er,null,'Per la redazione della Disciplina del Piano \xe8 suggerito l\'utilizzo del software "Redazione Norme"'),i.a.createElement("div",{className:"action-uploader py-1 mt-3 align-self-start border-bottom"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"DISCIPLINA DEL PIANO",mutation:Gt,resourceMutation:Wt,disabled:!1,isLocked:!1,risorsa:r,variables:{codice:n,tipo:"norme_tecniche_attuazione"}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:mi,canCommit:!!r})))}),wr=function(e){return i.a.createElement(l.c,{query:Et,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(kr,Object.assign({},e,{vas:r}))})},Dr=Ke("isChecked","toggleCheck",!1)(function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node.uuid,o=e.isChecked,r=e.toggleCheck;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Conferenza di copianificazione"),i.a.createElement(dr,{fontWeight:"font-weight-light"},i.a.createElement("i",{className:"material-icons icon-15 pr-1"},"question_answer"),"RICHIESTA CONFERENZA COPIANIFICAZIONE"),i.a.createElement(_.e,{className:"pt-4 px-5",check:!0},i.a.createElement(_.g,{className:"size-12",check:!0},i.a.createElement(_.f,{className:"text-serapide size-11",type:"checkbox",checked:o,onChange:r}),"Selezionando questa opzione viene inviata richiesta a Regione Toscana di convocazione della Conferenza di Copianificazione.")),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:Di,canCommit:o})))}),Ur=function(e){return i.a.createElement(l.c,{query:ut,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(Dr,Object.assign({},e,{proceduraAvvio:l}))})},_r=se("proceduraAvvio"),Vr=ea()(function(e){var a,t,n=e.back,o=e.proceduraAvvio,r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).uuid,l=r.dataScadenzaRisposta,s=r.risorse,d=(s=void 0===s?{}:s).edges,u=(void 0===d?[]:d).filter(function(e){var a=e.node,t=a.tipo;a.user;return"integrazioni"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Integrazioni Richieste"),i.a.createElement("div",{className:"d-flex mt-4 align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 rounded-circle text-white bg-serapide"},"edit"),i.a.createElement("span",{className:"pl-1 text-serapide size-11"},"CARICA FILES PER L'INTEGRAZIONE")),i.a.createElement(xo,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",className:"border-0 mt-3",risorse:u,mutation:Yt,resourceMutation:Kt,variables:{codice:c,tipo:"integrazioni"},isLocked:!1}),i.a.createElement(dr,{className:"size-14 pb-1 d-flex justify-content-between align-items-center"},i.a.createElement("span",null,"TERMINI SCADENZA PER LA RISPOSTA"),i.a.createElement(po,{popperPlacement:"left",minDate:(a=new Date,t=1,Object(G.a)(ne(a),t)),selected:l?new Date(l):void 0,getInput:_r(c,"dataScadenzaRisposta"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Li})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:n,variables:{codice:c},mutation:wi,canCommit:u.length>0})))}),$r=function(e){return i.a.createElement(l.c,{query:ut,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(Vr,Object.assign({},e,{proceduraAvvio:l}))})},Mr=function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=(n.richiestaIntegrazioni,e.conferenza),c=(r=void 0===r?{}:r).node,l=(c=void 0===c?{}:c).uuid,s=c.risorse,d=(s=void 0===s?{}:s).edges,u=(void 0===d?[]:d).filter(function(e){var a=e.node,t=a.tipo;a.user;return"elaborati_conferenza"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Svolgimento Conf. Copianificazione"),i.a.createElement(dr,{fontWeight:"font-weight-light"},"Verbali e Allegati"),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:u,mutation:Jt,resourceMutation:Xt,variables:{codice:l,tipo:"elaborati_conferenza"},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:Ui,canCommit:u.length>0})))},qr=function(e){var a=de(e);return i.a.createElement(l.c,{query:ut,variables:{codice:a},onError:le},function(t){var n=t.loding,o=t.data,r=(o=void 0===o?{}:o).modello,s=(r=void 0===r?{}:r).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return i.a.createElement(l.c,{query:Nt,variables:{codice:a},onError:le},function(a){var t=a.loading,o=a.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||n?i.a.createElement(Xo,null):i.a.createElement(Mr,Object.assign({},e,{proceduraAvvio:d,conferenza:s}))})})},Fr=se("proceduraAvvio"),Br=ea()(function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.richiestaIntegrazioni,c=n.messaggioIntegrazione;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Richiesta Integrazioni"),i.a.createElement("div",{className:"d-flex pl-2 mt-4 align-items-center"},i.a.createElement("div",{className:" bg-serapide size-12 rounded-pill px-3 mr-2"},"Richiesta integrazioni"),i.a.createElement("div",{className:"ml-4 switch-small"},i.a.createElement(Do,{className:"",value:!r,getInput:Fr(o,"richiestaIntegrazioni"),ignoreChecked:!0,mutation:Li,checked:r}))),i.a.createElement("div",{className:"d-flex pl-2 mt-4 "},i.a.createElement(Jo,{className:"size-11",getInput:Fr(o,"messaggioIntegrazione"),mutation:Li,disabled:!1,placeholder:"Inserisci messaggio da inviare",onChange:void 0,value:c,type:"textarea"})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:ki,canCommit:!!c})))}),Zr=function(e){return i.a.createElement(l.c,{query:ut,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(Br,Object.assign({},e,{proceduraAvvio:l}))})},Gr=function(e,a){return e.order-a.order},Wr=function(e,a){return be(a,e)},Hr=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"picture_as_pdf";return e&&i.a.createElement(Co,{key:a,useLabel:!0,fileSize:!1,className:"border-0 mt-3",icon:t,resource:e})},Qr=function(e){var a=e.uuid,t=e.tipoPiano,n=void 0===t?"operativo":t,o=e.resources,r=e.mutation,c=e.resourceMutation,l=e.upload,s=void 0===l||l,d=e.fontSize,u=e.iconSize,m=e.vertical,p=void 0!==m&&m,v=e.useLabel,f=void 0!==v&&v,E=(ee[n]||{}).testuali,g=void 0===E?{}:E,b=(ee[n]||{}).cartografici,N=void 0===b?{}:b;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Er,{className:"size-13 mb-3"},"Elaborati Testuali"),i.a.createElement("div",{className:"container border",style:{maxHeight:200,minHeight:50,overflowY:"scroll"}},Object(W.map)(g,function(e,a){return Object(Q.a)({},e,{tipo:a})}).sort(Gr).map(function(e){var t=e.label,n=e.tooltip,l=e.tipo,m=Wr(l,o);return s?i.a.createElement(yo,{key:l,fontSize:d,iconSize:u,vertical:p,useLabel:f,mutation:r,resourceMutation:c,placeholder:i.a.createElement(ua,{text:t,dataTip:n}),risorsa:m,variables:{codice:a,tipo:l},className:"border-0",disabled:!1,isLocked:!1}):Hr(m,l)})),i.a.createElement(Er,{className:"size-13 my-3"},"Elaborati Cartografici"),i.a.createElement("div",{className:"container border",style:{maxHeight:200,minHeight:80,overflowY:"scroll"}},Object(W.map)(N,function(e,a){return Object(Q.a)({},e,{tipo:a})}).sort(Gr).map(function(e){var t=e.label,n=e.tooltip,l=e.tipo,m=Wr(l,o);return s?i.a.createElement(yo,{key:l,mutation:r,fontSize:d,iconSize:u,vertical:p,useLabel:f,resIcon:"map",fileType:"application/zip,application/x-zip-compressed,.zip",resourceMutation:c,placeholder:i.a.createElement(ua,{text:t,dataTip:n}),risorsa:Wr(l,o),variables:{codice:a,tipo:l},className:"border-0",disabled:!1,isLocked:!1}):Hr(m,l,"map")})))},Jr=function(e){var a=e.soggettiOperanti,t=void 0===a?[]:a,n=e.containerClass,o=void 0===n?"col-6 pt-3 mb-3":n,r=e.titleClass,c=void 0===r?"mb-3":r,l=e.elementClass,s=void 0===l?"col-12 px-0 py-1":l,d=ze(t);return i.a.createElement("div",{className:o},i.a.createElement("div",{className:c},"SOGGETTI ISTITUZIONALI"),d.length>0?d.map(function(e){var a=e.qualificaUfficio,t=(a=void 0===a?{}:a).ufficio,n=(t=void 0===t?{}:t).nome,o=t.uuid,r=t.ente.nome;return i.a.createElement("div",{className:s,key:o},"".concat(r," ").concat(n))}):i.a.createElement("div",{className:s},"Nessun soggetto selezionato"))},Xr=function(e){var a=e.soggettiOperanti,t=void 0===a?[]:a,n=e.title,o=void 0===n?"SOGGETTI ISTITUZIONALI":n;return i.a.createElement(gr,{title:o,contacts:ze(t).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio})})},Yr=se("proceduraAdozione"),Kr=function(e,a){return function(t){return{variables:{input:{pianoOperativo:Object(M.a)({},a,t),codice:e}}}}},ec={className:"border-0",mutation:en,resourceMutation:an,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},ac=ea({onUpdate:!1,log:!1,comp:"AdozioneProc"})(function(e){var a=e.vas,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).risorse,o=((n=void 0===n?{}:n).edges,e.proceduraAdozione),r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).uuid,l=r.dataDeliberaAdozione,s=(r.dataRicezioneOsservazioni,r.dataRicezionePareri,r.risorse),d=(s=void 0===s?{}:s).edges,u=void 0===d?[]:d,m=e.piano,p=m.codice,v=m.tipo,f=void 0===v?"":v,E=(m.redazioneNormeTecnicheAttuazioneUrl,m.conformazionePitPprUrl),g=m.monitoraggioUrbanisticoUrl,b=m.compilazioneRapportoAmbientaleUrl,N=m.soggettiOperanti,z=m.risorse,A=(z=void 0===z?{}:z).edges,h=void 0===A?[]:A,O=e.back,I=be(u,"delibera_adozione"),C=be(h,"norme_tecniche_attuazione");return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Trasmissione Adozione"),i.a.createElement(dr,null,"RIFERIMENTI DOCUMENTALI"),i.a.createElement(Er,null,"NORME TECNICHE DI ATTUAZIONE"),i.a.createElement(Co,{iconSize:"icon-15",fontSize:"size-11",useLabel:!0,fileSize:!1,className:"border-0 my-3",icon:"attach_file",resource:C}),i.a.createElement(Er,null,"COMPILAZIONE RAPPORTO AMBIENTALE"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(Jo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:Kr(p,"compilazioneRapportoAmbientaleUrl"),mutation:ti,disabled:!1,onChange:void 0,value:b,type:"text"}))),i.a.createElement(Er,null,"CONFORMAZIONE AL PIT-PPR"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(Jo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:Kr(p,"conformazionePitPprUrl"),mutation:ti,disabled:!1,onChange:void 0,value:E,type:"text"}))),i.a.createElement(Er,null,"MONITORAGGIO URBANISTICA"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(Jo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:Kr(p,"monitoraggioUrbanisticoUrl"),mutation:ti,disabled:!1,onChange:void 0,value:g,type:"text"}))),i.a.createElement("div",{className:"w-100 border-top m-0 mt-4"}),i.a.createElement(Er,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(Xr,{soggettiOperanti:N}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"action-uploader  mt-5 py-1 align-self-start border-bottom"},i.a.createElement(yo,Object.assign({},ec,{placeholder:"DELIBERA DI ADOZIONE",risorsa:I,variables:{codice:c,tipo:"delibera_adozione"}}))),i.a.createElement(dr,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"DATA ADOZIONE"),i.a.createElement(po,{popperPlacement:"left",placeholder:"SELEZIONA DATA ADOZIONE",selected:l?new Date(l):void 0,getInput:Yr(c,"dataDeliberaAdozione"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:bi})),i.a.createElement(dr,null,"ELABORATI DEL PIANO"),i.a.createElement(Qr,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:f.toLowerCase(),resources:u,mutation:en,resourceMutation:an,uuid:c}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:O,variables:{codice:c},mutation:Ni,canCommit:I&&l&&b&&E&&g})))}),tc=function(e){var a=de(e);return i.a.createElement(l.c,{query:mt,variables:{codice:a},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.modelloVas,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(ac,Object.assign({},e,{vas:u,proceduraAdozione:l}))})},nc=ea()(function(e){var a=e.disableSave,t=void 0!==a&&a,n=e.hideSave,o=void 0!==n&&n,r=e.showData,c=void 0===r||r,l=e.filterByUser,s=void 0===l||l,d=e.back,u=e.proceduraAdozione.node,m=(u=void 0===u?{}:u).uuid,p=u.dataRicezionePareri,v=u.risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=e.utente,b=(g=void 0===g?{}:g).fiscalCode,N=e.titolo,z=void 0===N?"Osservazioni Privati":N,A=e.tipo,h=void 0===A?"osservazioni_privati":A,O=e.label,I=void 0===O?"CARICA I FILES DELLE OSSERVAZIONI DEI PRIVATI":O,C=e.saveMutation,S=void 0===C?Ai:C,P=E.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===h&&(!s||b===(void 0===n?{}:n).fiscalCode)}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,z),c&&i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-18 pr-3"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-14"},i.a.createElement("span",null,p&&ie(p,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale inviare le osservazioni"))),i.a.createElement(dr,{fontWeight:"font-weight-light"},I),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:P,mutation:en,resourceMutation:an,variables:{codice:m,tipo:h},isLocked:!1}),!o&&i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:d,variables:{codice:m},mutation:S,canCommit:P.length>0&&!t})))}),ic=function(e){return i.a.createElement(l.c,{query:mt,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(nc,Object.assign({},e,{proceduraAdozione:l}))})},oc=se("proceduraAdozione"),rc=ea()(function(e){var a=e.back,t=e.proceduraAdozione.node,n=(t=void 0===t?{}:t).uuid,o=t.osservazioniConcluse,r=e.piano.conformazionePitPprUrl;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Osservazione della Regione Toscana"),i.a.createElement(dr,{fontWeight:"font-weight-light"},"Redazione delle Osservazioni"),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras venenatis risus quis blandit feugiat.\n                        Nunc pulvinar auctor sapien, a tincidunt nunc dignissim id. Fusce facilisis augue vel imperdiet molestie.\n                        Nulla a nisl metus. In vel sapien vel lacus finibus malesuada eget et mi.\n                        Praesent scelerisque dapibus tortor, a iaculis diam eleifend ac.  "),i.a.createElement("div",{className:"mt-3 row d-flex border-bottom"},i.a.createElement("div",{className:"col-12 align-items-center d-flex"},i.a.createElement("i",{className:"material-icons icon-15 text-serapide"},"link"),i.a.createElement("a",{href:r,target:"_balnk",className:"pl-1 text-serapide size-12  pointer"},r))),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras venenatis risus quis blandit feugiat.\n                        Nunc pulvinar auctor sapien, a tincidunt nunc dignissim id. Fusce facilisis augue vel imperdiet molestie.\n                        Nulla a nisl metus. In vel sapien vel lacus finibus malesuada eget et mi.\n                        Praesent scelerisque dapibus tortor, a iaculis diam eleifend ac.  "),i.a.createElement(Do,{ignoreChecked:!0,value:!o,labelClassName:"col-auto text-serapide",className:"switch-small mt-4",checked:o,label:"OSSERVAZIONI CONCLUSE",mutation:bi,getInput:oc(n,"osservazioniConcluse")}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:Ai,canCommit:o})))}),cc=function(e){return i.a.createElement(l.c,{query:mt,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(rc,Object.assign({},e,{proceduraAdozione:l}))})},lc=se("proceduraAdozione"),sc=function(e){var a=e.pianoContro,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).uuid,o=t.risorse,r=(o=void 0===o?{}:o).edges,c=void 0===r?[]:r,l=e.proceduraAdozione,s=(l=void 0===l?{}:l).node,d=(s=void 0===s?{}:s).uuid,u=s.richiestaConferenzaPaesaggistica,m=e.piano.tipo,p=void 0===m?"":m,v=e.back;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Piano Controdedotto"),i.a.createElement(Qr,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:p.toLowerCase(),resources:c,mutation:tn,resourceMutation:nn,uuid:n}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"row d-flex align-items-center pt-5"},i.a.createElement(Do,{className:"switch-small col-2 offset-1",value:!0,mutation:bi,getInput:lc(d,"richiestaConferenzaPaesaggistica"),checked:u}),i.a.createElement("div",{className:"col-9 bg-serapide mb-2"},i.a.createElement("div",{className:"px-1 py-1 size-14 "},"Richiesta Conferenza Paseaggistica")),i.a.createElement("div",{className:"col-11 offset-1 text-justify size-13"},"In base all'ART. 21 - Accordo Regione Toscana-MIBACT il Comune richiede a Regione Toscana di convocare la Conferenza Paesaggistica prima dell'Approvazione del Piano. della data di pubblicazione su B.U.R.T. e sul sito web")),i.a.createElement("div",{className:"row d-flex align-items-center pt-4"},i.a.createElement(Do,{className:"switch-small col-2 offset-1",value:!1,mutation:bi,getInput:lc(d,"richiestaConferenzaPaesaggistica"),checked:!u}),i.a.createElement("div",{className:"col-9 bg-serapide mb-2 "},i.a.createElement("div",{className:"pl-1 py-1 size-14"},"Approvazione")),i.a.createElement("div",{className:"col-11 offset-1 text-justify size-13"},"Il Comune richiede direttamente l'Approvazione del Piano.")),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:v,variables:{codice:d},mutation:Ii,canCommit:!0})))},dc=function(e){var a=de(e);return i.a.createElement(l.c,{query:zt,variables:{codice:a},onError:le},function(t){var n=t.loadingContro,o=t.data,r=(o=void 0===o?{}:o).modello,s=(r=void 0===r?[]:r).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return i.a.createElement(l.c,{query:mt,variables:{codice:a},onError:le},function(a){var t=a.loading,o=a.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||n?i.a.createElement(Xo,null):i.a.createElement(sc,Object.assign({},e,{pianoContro:d,proceduraAdozione:s}))})})},uc=ea()(function(e){var a=e.disableSave,t=void 0!==a&&a,n=e.showData,o=void 0===n||n,r=e.back,c=e.proceduraAdozione,l=(c=void 0===c?{}:c).node,s=(l=void 0===l?{}:l).uuid,d=l.dataRicezionePareri,u=l.risorse,m=(u=void 0===u?{}:u).edges,p=void 0===m?[]:m,v=e.utente,f=(v=void 0===v?{}:v).fiscalCode,E=e.titolo,g=void 0===E?"Osservazioni Privati":E,b=e.tipo,N=void 0===b?"osservazioni_privati":b,z=e.label,A=void 0===z?"CARICA I FILES DELLE OSSERVAZIONI DEI PRIVATI":z,h=e.filterByUser,O=void 0===h||h,I=e.saveMutation,C=void 0===I?Ai:I,S=p.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===N&&(!O||f===(void 0===n?{}:n).fiscalCode)}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,g),o&&i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-18 pr-3"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-14"},i.a.createElement("span",null,d&&ie(d,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale inviare le osservazioni"))),i.a.createElement(dr,{fontWeight:"font-weight-light"},A),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:S,mutation:en,resourceMutation:an,variables:{codice:s,tipo:N},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:r,variables:{codice:s},mutation:C,canCommit:S.length>0&&!t})))}),mc=function(e){return i.a.createElement(l.c,{query:mt,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(uc,Object.assign({},e,{proceduraAdozione:l}))})},pc=function(e){var a=e.back,t=e.saveM,n=void 0===t?hi:t,o=e.uploadM,r=void 0===o?en:o,c=e.deleteM,l=void 0===c?an:c,s=e.procedura,d=(s=void 0===s?{}:s).node,u=(d=void 0===d?{}:d).uuid,m=d.risorse,p=(m=void 0===m?{}:m).edges,v=(void 0===p?[]:p).filter(function(e){var a=e.node,t=a.tipo;a.user;return"elaborati_conferenza_paesaggistica"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Esisto Conferenza Paesaggistica"),i.a.createElement(dr,{fontWeight:"font-weight-light"},"Verbali e Allegati"),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:v,mutation:r,resourceMutation:l,variables:{codice:u,tipo:"elaborati_conferenza_paesaggistica"},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:u},mutation:n,canCommit:v.length>0})))},vc=function(e){var a=e.getM,t=void 0===a?mt:a,n=Object(D.a)(e,["getM"]);return i.a.createElement(l.c,{query:t,variables:{codice:de(n)},onError:le},function(e){var a=e.loading,t=e.data,o=(t=void 0===t?{}:t).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return a?i.a.createElement(Xo,null):i.a.createElement(pc,Object.assign({},n,{procedura:l}))})},fc=function(e){var a=e.back,t=e.deleteRes,n=void 0===t?rn:t,o=e.uploadRes,r=void 0===o?on:o,c=e.saveM,l=void 0===c?Ci:c,s=e.procedura,d=(s=void 0===s?{}:s).node,u=(d=void 0===d?{}:d).uuid,m=e.piano.tipo,p=void 0===m?"":m,v=e.elab,f=(v=void 0===v?{}:v).node,E=(f=void 0===f?{}:f).uuid,g=f.risorse,b=(g=void 0===g?{}:g).edges,N=void 0===b?[]:b;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Revisione Piano post C.P."),i.a.createElement(dr,{fontWeight:"font-weight-light"},"ELABORATI DEL PIANO"),i.a.createElement(Qr,{conSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:p.toLowerCase(),resources:N,mutation:r,resourceMutation:n,uuid:E}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:u},mutation:l,canCommit:!0})))},Ec=function(e){var a=e.outerQuery,t=void 0===a?mt:a,n=e.query,o=void 0===n?At:n,r=Object(D.a)(e,["outerQuery","query"]),s=de(r);return i.a.createElement(l.c,{query:t,variables:{codice:s},onError:le},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).modello,d=(n=void 0===n?[]:n).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return i.a.createElement(l.c,{query:o,variables:{codice:s},onError:le},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).modello,l=(o=void 0===o?[]:o).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||a?i.a.createElement(Xo,null):i.a.createElement(fc,Object.assign({},r,{procedura:u,elab:s}))})})},gc=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.utente,d=(s=void 0===s?{}:s).fiscalCode,u=e.scadenza,m=e.tipo,p=void 0===m?"parere_adozione_sca":m,v=e.label,f=void 0===v?"Pareri":v,E=e.saveMutation,g=void 0===E?yi:E,b=l.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===p&&d===(void 0===n?{}:n).fiscalCode}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Pareri SCA"),i.a.createElement(sr,{fontSize:"size-11",iconSize:"icon-15",scadenza:u&&oe(u,30)}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,u&&ie(u,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(dr,{fontWeight:"font-weight-light"},f),i.a.createElement(xo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:b,mutation:cn,resourceMutation:ln,variables:{codice:o,tipo:p},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:g,canCommit:b.length>0})))},bc=function(e){return i.a.createElement(l.c,{query:ht,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(gc,Object.assign({},e,{vas:r}))})},Nc=ea()(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=e.utente,u=((d=void 0===d?{}:d).fiscalCode,e.scadenza),m=e.tipo,p=void 0===m?"parere_motivato":m,v=e.label,f=void 0===v?"PARERE MOTIVATO AC":v,E=e.saveMutation,g=void 0===E?Ri:E,b=s.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===p}),N=Object(c.a)(b,1)[0],z=(N=void 0===N?{}:N).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Pareri Motivato AC"),i.a.createElement(sr,{fontSize:"size-11",iconSize:"icon-15",scadenza:u&&oe(u,30)}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,u&&ie(u,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(dr,{fontWeight:"font-weight-light"},f),i.a.createElement("div",{className:"action-uploader  py-2 align-self-start border-bottom"},i.a.createElement(yo,{className:"border-0",iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,placeholder:"Upload file parere",mutation:cn,resourceMutation:ln,disabled:!1,isLocked:!1,risorsa:z,variables:{codice:o,tipo:p}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:g,canCommit:z})))}),zc=function(e){return i.a.createElement(l.c,{query:ht,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?[]:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(Nc,Object.assign({},e,{vas:r}))})},Ac={className:"border-0",mutation:cn,resourceMutation:ln,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},hc=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=s.filter(function(e){return"documento_sintesi"===e.node.tipo}),u=Object(c.a)(d,1)[0],m=(u=void 0===u?{}:u).node,p=s.filter(function(e){return"rapporto_ambientale"===e.node.tipo}),v=Object(c.a)(p,1)[0],f=(v=void 0===v?{}:v).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Upload Elaborati VAS"),i.a.createElement("div",{className:"action-uploader mt-4 py-1 align-self-start border-bottom"},i.a.createElement(yo,Object.assign({},Ac,{placeholder:"Documento di sintesi",risorsa:m,variables:{codice:o,tipo:"documento_sintesi"}}))),i.a.createElement("div",{className:"action-uploader mt-4 py-1 align-self-start border-bottom"},i.a.createElement(yo,Object.assign({},Ac,{placeholder:"Rapporto ambientale",risorsa:f,variables:{codice:o,tipo:"rapporto_ambientale"}}))),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:xi,canCommit:f&&m})))},Oc=function(e){return i.a.createElement(l.c,{query:ht,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(Xo,null):i.a.createElement(hc,Object.assign({},e,{vas:r}))})},Ic=se("proceduraApprovazione"),Cc={className:"border-0",mutation:sn,resourceMutation:dn,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},Sc=ea({onUpdate:!1,log:!1,comp:"ApprovazioneProc"})(function(e){var a=e.proceduraApprovazione,t=(a=void 0===a?{}:a).uuid,n=a.dataDeliberaApprovazione,o=a.urlPianoPubblicato,r=a.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=e.piano,u=d.tipo,m=void 0===u?"":u,p=d.soggettiOperanti,v=void 0===p?[]:p,f=e.back,E=s.filter(function(e){return"delibera_approvazione"===e.node.tipo}),g=Object(c.a)(E,1)[0],b=(g=void 0===g?{}:g).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Trasmissione Approvazione"),i.a.createElement("div",{className:"action-uploader  mt-5 py-1 align-self-start"},i.a.createElement(yo,Object.assign({},Cc,{placeholder:"DELIBERA DI APPROVAZIONE",risorsa:b,variables:{codice:t,tipo:"delibera_approvazione"}}))),i.a.createElement(dr,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"DATA APPROVAZIONE"),i.a.createElement(po,{popperPlacement:"left",placeholder:"SELEZIONA DATA APPROVAZIONE",selected:n?new Date(n):void 0,getInput:Ic(t,"dataDeliberaApprovazione"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:_i})),i.a.createElement(dr,null,"ELABORATI DEL PIANO"),i.a.createElement(Qr,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:m.toLowerCase(),resources:s,mutation:sn,resourceMutation:dn,uuid:t}),i.a.createElement(dr,null,"PUBBLICAZIONE"),i.a.createElement("div",{className:"mt-4 row d-flex align-items-center"},i.a.createElement("div",{className:"col-2 size-12"},"URL "),i.a.createElement("div",{className:"col-9 "},i.a.createElement(Jo,{className:"size-10",placeholder:"COPIA URL PUBBLICAZIONE",getInput:Ic(t,"urlPianoPubblicato"),mutation:_i,disabled:!1,onChange:void 0,value:o,type:"url"}))),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(dr,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(Xr,{soggettiOperanti:v}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-5"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:f,variables:{codice:t},mutation:Vi,canCommit:b&&n&&o})))}),Pc=function(e){return i.a.createElement(l.c,{query:Ot,variables:{codice:de(e)},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=(l=void 0===l?{}:l).node;return t?i.a.createElement(Xo,null):i.a.createElement(Sc,Object.assign({},e,{proceduraApprovazione:s}))})},yc=function(e){var a=e.back,t=e.fileType,n=void 0===t?"rapporto_ambientale":t,o=e.title,r=void 0===o?"Upload file":o,l=e.subTitle,s=e.closeAction,d=e.placeholder,u=void 0===d?"Documento":d,m=e.uploadRes,p=e.deleteRes,v=e.modello,f=(v=void 0===v?{}:v).node,E=(f=void 0===f?{}:f).uuid,g=f.risorse,b=(g=void 0===g?{}:g).edges,N=void 0===b?[]:b,z=e.children,A=e.canCommit,h=void 0===A||A,O=N.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===n}),I=Object(c.a)(O,1)[0],C=(I=void 0===I?{}:I).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,r),i.a.createElement(Er,{className:"size-13 pb-1 pt-5"},l),i.a.createElement("div",{className:"action-uploader mt-4 align-self-start border-bottom border-top"},i.a.createElement(yo,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:u,mutation:m,resourceMutation:p,disabled:!1,isLocked:!1,risorsa:C,variables:{codice:E,tipo:n}})),z&&z,i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:E},mutation:s,canCommit:h&&C})))},Rc=function(e){var a=e.query,t=Object(D.a)(e,["query"]);return i.a.createElement(l.c,{query:a,variables:{codice:de(t)},onError:le},function(e){var a=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return a?i.a.createElement(Xo,null):i.a.createElement(yc,Object.assign({},t,{modello:r}))})},xc=function(e){var a=e.back,t=e.title,n=void 0===t?"Pubblicazione Piano":t,o=e.subTitle,r=e.procedura,c=void 0===r?"proceduraApprovazione":r,l=e.closeAction,s=e.urlLabel,d=void 0===s?"URL SITO":s,u=e.placeholder,m=void 0===u?"COPIA URL PIANO":u,p=e.updateM,v=e.piano.soggettiOperanti,f=void 0===v?[]:v,E=e.modello,g=(E=void 0===E?{}:E).node,b=(g=void 0===g?{}:g).uuid,N=g.pubblicazioneUrl,z=g.pubblicazioneUrlData,A=se(c);return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,n),i.a.createElement("p",{className:"mt-2"},o),i.a.createElement("div",{className:"mt-4 row d-flex align-items-center mb-1"},i.a.createElement("div",{className:"col-3 size-12"},d),i.a.createElement("div",{className:"col-9 "},i.a.createElement(Jo,{className:"size-10",placeholder:m,getInput:A(b,"pubblicazioneUrl"),mutation:p,disabled:!1,onChange:void 0,value:N,type:"text"}))),i.a.createElement(dr,{fontWeight:"font-weight-light",className:"pb-1 d-flex justify-content-between size-12"},i.a.createElement("span",{className:"my-auto"},"DATA PUBBLICAZIONE"),i.a.createElement(po,{popperPlacement:"left",placeholder:"SELEZIONA DATA",selected:z?new Date(z):void 0,getInput:A(b,"pubblicazioneUrlData"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:p})),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(dr,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(Xr,{soggettiOperanti:f}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:a,variables:{codice:b},mutation:l,canCommit:N&&z})))},Lc=function(e){var a=e.query,t=Object(D.a)(e,["query"]);return i.a.createElement(l.c,{query:a,variables:{codice:de(t)},onError:le},function(e){var a=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return a?i.a.createElement(Xo,null):i.a.createElement(xc,Object.assign({},t,{modello:r}))})},jc=function(e){var a=e.modello,t=e.back,n=e.piano,o=(n=void 0===n?{}:n).soggettiOperanti,r=void 0===o?[]:o,c=n.codice,s=r.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),d=r.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"!==(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio});return i.a.createElement(yc,{back:t,title:"Procedura VAS Ordinaria",placeholder:"Documento preliminare VAS",fileType:"documento_preliminare_vas",subTitle:"Caricare il file del Documento preliminare VAS",deleteRes:Qt,uploadRes:Ht,closeAction:Ei,modello:a},i.a.createElement(gr,{title:"SOGGETTI COMPETENTI SCA",contacts:s}),i.a.createElement("div",{className:"mt-3 pl-4 border-bottom-2 pb-5"},i.a.createElement(l.b,{mutation:ti,onError:le},function(e){return i.a.createElement(Mo,{selected:s.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:gt,variables:{tipo:"sca"},onChange:function(a,t){var n=t.tipologia,i=t.uuid,o=s.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(o=o.filter(function(e){return e.ufficioUuid!==i})).length===s.length&&(o=o.concat({qualifica:n,ufficioUuid:i})),e({variables:{input:{pianoOperativo:{soggettiOperanti:o.concat(d.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:c}}})},getList:me,label:"DEFINISCI SCA",size:"lg",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(sa,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"text-serapide rounded-pill",color:"dark",icon:"add_circle",label:"Soggetti competenti in materia ambientale (SCA)"}))}})})))},Tc=function(e){e.query;var a=Object(D.a)(e,["query"]);return i.a.createElement(l.c,{query:Et,variables:{codice:de(a)},onError:le},function(e){var t=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(jc,Object.assign({},a,{modello:r}))})},kc=se("proceduraAdozione"),wc=function(e){var a=e.proceduraAdozione,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).uuid,o=t.scadenzaPareriAdozioneSca,r=t.pubblicazioneBurtUrl,c=t.pubblicazioneBurtData,l=t.pubblicazioneSitoUrl,s=t.pubblicazioneBurtBollettino,d=(e.piano.codice,e.back);return i.a.createElement(i.a.Fragment,null,i.a.createElement(lr,null,"Pubblicazione Adozione"),i.a.createElement(dr,null,"B.U.R.T"),i.a.createElement("div",{className:"mt-2 row d-flex align-items-center"},i.a.createElement("div",{className:"col-3 size-12"},"NUMERO"),i.a.createElement("div",{className:"col-9 "},i.a.createElement(Jo,{className:"size-10",placeholder:"NUMERO BOLLETTINO B.U.R.T.",getInput:kc(n,"pubblicazioneBurtBollettino"),mutation:bi,disabled:!1,onChange:void 0,value:r,type:"text"})),i.a.createElement("div",{className:"col-3 size-12"},"DATA"),i.a.createElement("div",{className:"col-9 mt-2"},i.a.createElement(po,{placeholder:"SELEZIONA DATA PUBBLICAZIONE",selected:c?new Date(c):void 0,getInput:kc(n,"pubblicazioneBurtData"),className:"py-0 rounded-pill size-8 icon-13",mutation:bi})),i.a.createElement("div",{className:"col-3 size-12 mt-2"},"URL"),i.a.createElement("div",{className:"col-9 mt-2"},i.a.createElement(Jo,{className:"size-10",placeholder:"COPIA URL B.U.R.T.",getInput:kc(n,"pubblicazioneBurtUrl"),mutation:bi,disabled:!1,onChange:void 0,value:r,type:"text"}))),i.a.createElement(dr,null,"SITO"),i.a.createElement("div",{className:"mt-2 row d-flex align-items-center"},i.a.createElement("div",{className:"col-3 size-12"},"URL SITO"),i.a.createElement("div",{className:"col-9 "},i.a.createElement(Jo,{className:"size-10",placeholder:"COPIA URL SITO",getInput:kc(n,"pubblicazioneSitoUrl"),mutation:bi,disabled:!1,onChange:void 0,value:l,type:"text"}))),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(dr,{className:"mb-0 font-weight-light"},"INVIO A SCA E AC"),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Il sistema invier\xe0 i link ai Soggetti Compententi in materia ambientale e all'Autorit\xe0 compentente\n                    in materia ambientale (gi\xe0 selezionati nella fase di avvio) la documentazione necessaria affinch\xe9 i destinatari\n                    possano formulare i pareri entro 60gg dall'adozione"),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"row d-flex align-items-center pt-4"},i.a.createElement("div",{className:"col-1"},i.a.createElement("i",{className:"material-icons text-serapide icon-16"},"notifications_active")),i.a.createElement("div",{className:"col-7"},i.a.createElement("div",{className:"pl-1 py-1 bg-dark text-serapide size-13"},"ALERT RICEZIONI OSSERVAZIONI")),i.a.createElement("div",{className:"col-3 d-flex align-items-center p-0"},i.a.createElement("i",{className:"material-icons text-dark pr-1 icon-16"},"date_range"),i.a.createElement("span",null,o&&ie(o))),i.a.createElement("div",{className:"col-11 offset-1 size-12"},"Il sistema calcola automaticamente la data entro la quale ricevere le osservazioni sulla base della data di pubblicazione su B.U.R.T. e sul sito web")),i.a.createElement("div",{className:"row align-items-center pt-4"},i.a.createElement("div",{className:"col-1"},i.a.createElement("i",{className:"material-icons text-serapide icon-18"},"notifications_active")),i.a.createElement("div",{className:"col-7"},i.a.createElement("div",{className:"pl-1 py-1 bg-serapide size-13"},"ALERT RICEZIONI PARERI")),i.a.createElement("div",{className:"col-3 d-flex align-items-center p-0"},i.a.createElement("i",{className:"material-icons text-serapide pr-1 icon-16"},"date_range"),i.a.createElement("span",null,o&&ie(o))),i.a.createElement("div",{className:"col-11 offset-1 size-12"},"Il sistema calcola automaticamente la data entro la quale ricevere le osservazioni sulla base della data di adozione")),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(Bo,{fontSize:"size-8",onCompleted:d,variables:{codice:n},mutation:zi,canCommit:r&&c&&l&&s})))},Dc=function(e){var a=de(e);return i.a.createElement(l.c,{query:mt,variables:{codice:a},onError:le},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.modelloVas,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(wc,Object.assign({},e,{vas:u,proceduraAdozione:l}))})},Uc={avvioProcedimento:function(e){return i.a.createElement(Ar,e)},invioDocPreliminare:function(e){return i.a.createElement(Tc,e)},trasmissionePareriSca:function(e){return i.a.createElement(mr,Object.assign({tipo:$e,saveMutation:si,tipoVas:"documento_preliminare_vas",label:"Pareri SCA"},e))},trasmissionePareriAc:function(e){return i.a.createElement(mr,Object.assign({title:"Pareri Autorit\xe0 Competente (AC)",tipo:Me,saveMutation:di,tipoVas:"documento_preliminare_vas",label:"Pareri AC"},e))},redazioneDocumentiVas:function(e){return i.a.createElement(Lr,e)},trasmissioneDpvVas:function(e){return i.a.createElement(Or,e)},pareriVerificaSca:function(e){return i.a.createElement(mr,e)},emissioneProvvedimentoVerifica:function(e){return i.a.createElement(fr,e)},pubblicazioneProvvedimentoVerificaAc:function(e){return i.a.createElement(Rr,e)},pubblicazioneProvvedimentoVerificaAp:function(e){return i.a.createElement(Rr,e)},avvioEsamePareriSca:function(e){return i.a.createElement(Cr,e)},protocolloGenioCivile:function(e){return i.a.createElement(Tr,e)},formazioneDelPiano:function(e){return i.a.createElement(wr,e)},richiestaConferenzaCopianificazione:function(e){return i.a.createElement(Ur,e)},esitoConferenzaCopianificazione:function(e){return i.a.createElement(qr,e)},richiestaIntegrazioni:function(e){return i.a.createElement(Zr,e)},integrazioniRichieste:function(e){return i.a.createElement($r,e)},trasmissioneAdozione:function(e){return i.a.createElement(tc,e)},pubblicazioneBurt:function(e){return i.a.createElement(Dc,e)},uploadOsservazioniPrivati:function(e){return i.a.createElement(ic,e)},osservazioniEnti:function(e){return i.a.createElement(ic,Object.assign({hideSave:!0,disableSave:!0,label:"OSSERVAZIONI",titolo:"Osservazioni Soggetti Istituzionali",filterByUser:!1,tipo:"osservazioni_enti"},e))},controdeduzioni:function(e){return i.a.createElement(mc,Object.assign({filterByUser:!1,saveMutation:Oi,showData:!1,label:"Carica Files",titolo:"CONTRODEDUZIONI",tipo:"controdeduzioni"},e))},osservazioniRegione:function(e){return i.a.createElement(cc,e)},pianoControdedotto:function(e){return i.a.createElement(dc,e)},esitoConferenzaPaesaggistica:function(e){return i.a.createElement(vc,e)},revPianoPostCp:function(e){return i.a.createElement(Ec,e)},pareriAdozioneSca:function(e){return i.a.createElement(bc,e)},parereMotivatoAc:function(e){return i.a.createElement(zc,e)},uploadElaboratiAdozioneVas:function(e){return i.a.createElement(Oc,e)},trasmissioneApprovazione:function(e){return i.a.createElement(Pc,e)},esitoConferenzaPaesaggisticaAp:function(e){return i.a.createElement(vc,Object.assign({getM:Ot,saveM:$i,uploadM:sn,deleteM:dn},e))},pubblicazioneApprovazione:function(e){return i.a.createElement(Lc,Object.assign({title:"Pubblicazione Approvazione",query:Ot,closeAction:Si,updateM:_i},e))},attribuzioneConformitaPit:function(e){return i.a.createElement(Rc,Object.assign({title:"Conformit\xe0 PIT",placeholder:"Documento di conformit\xe0 Pit",fileType:"conformita-pit",subTitle:"Caricare il file di conformit\xe0",query:Ot,deleteRes:dn,uploadRes:sn,closeAction:Pi},e))},pubblicazionePiano:function(e){return i.a.createElement(Lc,Object.assign({title:"Pubblicazione Piano",procedura:"proceduraPubblicazione",query:It,updateM:Mi,closeAction:qi},e))},contributiTecnici:function(e){return i.a.createElement(Rc,Object.assign({title:"Contributi Tecnici",placeholder:"Contributi Tecnici",fileType:"contributi_tecnici",subTitle:"Caricare il file dei contributi tecnici",query:ut,deleteRes:Kt,uploadRes:Yt,closeAction:Ti},e))}},_c=aa(1e4),Vc=Object.keys(Uc).reduce(function(e,a){return Object(Q.a)({},e,Object(M.a)({},a,_c(Uc[a])))},{}),$c=function(){return i.a.createElement("div",{className:"p-6"},"Azione non implementata")},Mc=function(e){function a(){return Object(to.a)(this,a),Object(io.a)(this,Object(oo.a)(a).apply(this,arguments))}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){var e=this.props,a=e.match,t=(a=void 0===a?{}:a).url,n=a.path,o=e.location,r=(o=void 0===o?{}:o).pathname,c=e.history,l=e.utente,s=void 0===l?{attore:""}:l,m=e.piano,p=void 0===m?{}:m,v=e.azioni,f=void 0===v?[]:v,E=e.startPolling,g=e.stopPolling,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(e,"").split("/").filter(function(e){return""!==e}).shift()}(t,r),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;c.push("".concat(t,"/").concat(e.toLowerCase().replace(" ","_"),"/").concat(a))},z=p.fase,A=function(){c.push(t)};return i.a.createElement("div",{className:"d-flex flex-column pb-4"},i.a.createElement("div",{className:"legenda-azioni bg-white pb-4 border-piano border-bottom"},i.a.createElement("div",{className:"d-flex border-serapide border-top border-bottom py-4 justify-content-around legenda-azioni"},i.a.createElement("span",{className:"my-auto"},"LEGENDA"),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_add"),i.a.createElement("span",{className:"size-13 align-self-center"},"E\u2019 richiesta un\u2019azione")),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_on"),i.a.createElement("span",{className:"size-13 align-self-center"},"In attesa di risposta da altri attori")),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_off"),i.a.createElement("span",{className:"size-13 align-self-center"},"Nessuna azione richiesta")))),i.a.createElement("div",{className:"d-flex home-container "},i.a.createElement("div",{className:He()("lista-azioni bg-white border  d-flex flex-column flex-1",{"flex-fill":!b})},fe(z)&&i.a.createElement(cr,{initValue:"APPROVAZIONE"===z,fase:"pubblicazione",goToSection:function(){return c.push(t.replace("home","pubblicazione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(rr,{azioni:f,filtroFase:"approvazione",onExecute:N}))),ve(z)&&i.a.createElement(cr,{initValue:"ADOZIONE"===z,fase:"approvazione",goToSection:function(){return c.push(t.replace("home","approvazione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(rr,{azioni:f,filtroFase:"adozione",onExecute:N}))),pe(z)&&i.a.createElement(cr,{initValue:"AVVIO"===z,fase:"adozione",goToSection:function(){return c.push(t.replace("home","adozione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(rr,{azioni:f,filtroFase:"avvio",onExecute:N}))),i.a.createElement(cr,{initValue:"ANAGRAFICA"===z,fase:"avvio",goToSection:function(){return c.push(t.replace("home","avvio"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(rr,{azioni:f,onExecute:N})))),i.a.createElement("div",{className:He()("d-flex flex-column",{"action-container flex-1 border  border-piano overflow-auto bg-white":b})},b&&i.a.createElement("div",{className:"mb-3 close  align-self-end",onClick:function(){return c.push(t)}},"x"),i.a.createElement(d.a,null,f.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.uuid,o=e.tipologia,r=void 0===o?"":o,c=e.qualificaRichiesta,l=e.eseguibile,d=void 0!==l&&l,m=r.toLowerCase(),v=Vc[Object(W.camelCase)(m)];return v&&i.a.createElement(u.a,{exact:!0,key:m,path:"".concat(n,"/").concat(m,"/").concat(a)},d?i.a.createElement(v,{startPolling:E,stopPolling:g,piano:p,back:A,qualificaRichiesta:c,utente:s,azione:e}):i.a.createElement(nr.a,{to:t}))}),b&&i.a.createElement(u.a,{path:n},i.a.createElement($c,null))))))}}]),a}(i.a.PureComponent),qc=function(e){window.open(e,"_blank")},Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.utente,t=((a=void 0===a?{}:a).attore,e.piano),n=((t=void 0===t?{}:t).redazioneNormeTecnicheAttuazioneUrl,t.compilazioneRapportoAmbientaleUrl),o=t.conformazionePitPprUrl,r=t.monitoraggioUrbanisticoUrl,c=t.risorse.edges,l=(void 0===c?[]:c).filter(function(e){return"norme_tecniche_attuazione"===e.node.tipo}).map(function(e){return e.node}).shift(),s=l&&l.downloadUrl;return i.a.createElement(er,null,i.a.createElement(ar,{icon:"build",title:"STRUMENTI PER LA FORMAZIONE DEL PIANO"}),i.a.createElement("div",{className:"m-auto p-5 text-center",style:{maxWidth:1e3}},"Selezionando uno dei riquadri si accede agli strumenti operativi per la redazione della disciplina del Piano, la valutazione ambientale, la conformazione al PIT-PPR ed il monitoraggio del dimensionamento. del consumo di suolo e del recupero urbano."),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-auto d-flex flex-column py-2 m-auto"},i.a.createElement(_.b,{disabled:!s,onClick:function(){return qc(s)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"REDAZIONE DISCIPINA"),i.a.createElement("span",null,"DEL PIANO"),i.a.createElement("span",null,"[Minerva]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},s))),i.a.createElement("div",{className:"col-auto d-flex flex-column m-auto"},i.a.createElement(_.b,{disabled:!n,onClick:function(){return qc(n)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"VALUTAZIONE E MONITORAGGIO"),i.a.createElement("span",null,"DEGLI EFFETTI AMBIENTALI"),i.a.createElement("span",null,"[Minerva]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},n)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto d-flex flex-column py-2 m-auto"},i.a.createElement(_.b,{disabled:!o,onClick:function(){return qc(o)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"CONFORMAZIONE"),i.a.createElement("span",null,"AL PIT-PPR"),i.a.createElement("span",null,"[Crono]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},o))),i.a.createElement("div",{className:"col-auto d-flex flex-column m-auto"},i.a.createElement(_.b,{disabled:!r,onClick:function(){return qc(r)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"MONITORAGGIO"),i.a.createElement("span",null,"URBANISTICO"),i.a.createElement("span",null,"[Input]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},r)))))},Bc=ea({onUpdate:!1})(function(e){e.codice,e.consultazioneSCA,e.canUpdate,e.isLocked;var a=e.Vas,t=(void 0===a?{}:a).node,n=(t=void 0===t?{}:t).tipologia,o=t.dataAssoggettamento,r=t.assoggettamento,c=t.piano,l=(c=void 0===c?{}:c).soggettiOperanti,s=void 0===l?[]:l,d=t.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=(m.filter(function(e){return e.node.tipo===Ge[n]}).pop()||{}).node,v=(m.filter(function(e){return e.node.tipo===Fe}).pop()||{}).node,f=s.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"AC"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),E=s.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),g=ue(m,Ve),b=m.filter(function(e){return e.node.tipo===qe}).map(function(e){return e.node}).shift(),N=ue(m,$e),z=m.filter(function(e){return e.node.tipo===Me}).map(function(e){return e.node}),A=m.filter(function(e){return e.node.tipo===Be}).map(function(e){return e.node}).shift(),h=m.filter(function(e){return e.node.tipo===Ze}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ko,{tipologia:n,docInizialeVAS:p,pareriVerificaVAS:g,provvedimentoVerifica:b,assoggettamento:r,dataAssoggettamento:o}),(r||n===Ie)&&i.a.createElement("div",{className:"mt-6"},i.a.createElement("span",null,"PROCEDURA VAS FASE PRELIMINARE art. 23"),i.a.createElement("div",{className:"pl-2 pr-2"},i.a.createElement("div",{className:"mt-4 mb-4"},i.a.createElement(ua,{className:"mb-2 text-uppercase",dataTip:v.tooltip,text:v.label}),i.a.createElement(Co,{isLocked:!0,className:"mt-2",icon:"attach_file",resource:v}),!Object(W.isEmpty)(N)&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"mb-2"},"PARERI VAS SCA"),Object(W.map)(N,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{fileSize:!1,key:e.uuid,className:"border-0 mt-3",icon:"attach_file",resource:e})}))})),z.length>0&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"mb-2"},"PARERI VAS AC"),z.map(function(e){return i.a.createElement(Co,{fileSize:!1,key:e.uuid,className:"border-0 mt-3",icon:"attach_file",resource:e})})),(!Object(W.isEmpty)(A)||!Object(W.isEmpty)(h))&&i.a.createElement("div",{className:"mt-4"},i.a.createElement("div",{className:"mb-2"},"DOCUMENTI VAS"),i.a.createElement(Co,{useLabel:!0,isLocked:!0,className:"mt-2",icon:"attach_file",resource:A}),i.a.createElement(Co,{useLabel:!0,isLocked:!0,className:"mt-2",icon:"attach_file",resource:h}))))),i.a.createElement("div",{className:"d-flex mt-6 pt-2 justify-content-between mb-3"},i.a.createElement("div",{style:{minWidth:"30%"}},i.a.createElement("span",null,"AUTORITA\u2019 COMPETENTE VAS"),f.length>0?f.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))}):i.a.createElement("div",{className:"d-flex pt-3"},"AC non selezionato")),i.a.createElement("div",{style:{minWidth:"60%"}},i.a.createElement("span",null,"SOGGETTI COMPETENTI IN MATERIA AMBIENTALE"),E.length>0?E.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))}):i.a.createElement("div",{className:"d-flex pt-3"},"Soggeti SCA non selezionati"))))}),Zc=function(e){var a=e.codice,t=e.canUpdate,n=e.isLocked;return i.a.createElement(l.c,{query:Et,variables:{codice:a},onError:le},function(e){var o=e.loading,r=e.data,l=(r=void 0===r?{}:r).modello,s=(l=void 0===l?{}:l).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return o?i.a.createElement(Xo,null):i.a.createElement(Bc,{codice:a,canUpdate:t,isLocked:n,Vas:d})})},Gc=Ye("section","toggleSection","vas")(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.procedureAvvio,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).dataScadenzaRisposta,o=t.notificaGenioCivile,r=t.garanteNominativo,s=t.garantePec,d=t.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=e.piano,v=(p=void 0===p?{}:p).codice,f=p.dataProtocolloGenioCivile,E=p.soggettiOperanti,g=void 0===E?[]:E,b=p.risorse.edges,N=void 0===b?[]:b,z=p.dataDelibera,A=p.numeroDelibera,h=e.toggleSection,O=e.section,I=be(N,Se),C=be(N,Pe),S=be(m,Re),P=be(m,xe),y=be(m,Le),R=be(m,je),x=be(m,Te),L=ge(m,De),j=ge(m,we);return i.a.createElement(er,null,i.a.createElement(ar,{icon:"dashboard",title:"AVVIO DEL PROCEDIMENTO"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ie(z),"  \xa0 N\xb0 ",null!==A&&void 0!==A?A:" delibera non selezionato"," "),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:I,isLocked:!0})),i.a.createElement("div",{className:"col-12 pt-4 pb-2"},"ELABORATI DEL PIANO"),S&&P&&y&&R?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:S,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:P,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:y,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:R,isLocked:!0}))):i.a.createElement("div",{className:"col-12 py-2"},"Nessun elaborato presente"),i.a.createElement("div",{className:"col-12 pt-4"},"ALTRI ALLEGATI",L.length>0?L.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 px-0 py-2"},i.a.createElement(Co,{fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 px-0 py-2"},"Nessun allegato presente")),j.length>0&&i.a.createElement("div",{className:"col-12 pt-4"},"INTEGRAZIONI",j.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 px-0 py-2"},i.a.createElement(Co,{fileSize:!1,resource:e,isLocked:!0}))})),i.a.createElement("div",{className:"col-12 pt-4 pb-2"},"CONTRIBUTI TECNICI"),x?i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:x,isLocked:!0})):i.a.createElement("div",{className:"col-12 py-2"},"Contributi tecnici non presenti"),!!r&&!!s&&i.a.createElement("div",{className:"col-12 pt-4"},"GARANTE DELL'INFORMAZIONE E DELLA PARTECIAPZIONE",i.a.createElement("div",{className:"col-12 pt-2 pb-1"},r),i.a.createElement("div",{className:"col-12"},s)),!!n&&i.a.createElement("div",{className:"col-12 d-flex align-items-center pt-4"},"TERMINI SCADENZA PER LA PROPOSTA",!!n&&i.a.createElement("span",{className:"p-2 ml-4 border bg-serapide"},i.a.createElement("i",{className:"material-icons pr-1"},"date_range"),i.a.createElement("span",{style:{verticalAlign:"super"}},ie(n)))),i.a.createElement(Jr,{soggettiOperanti:g})),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"}),i.a.createElement(_.n,{tabs:!0},i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"vas"===O}]),onClick:function(){h("vas")}},"VAS")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"conferenza"===O}]),onClick:function(){h("conferenza")}},"CONFERENZA COPIANIFICAZIONE")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"genio"===O}]),onClick:function(){h("genio")}},"GENIO"))),i.a.createElement(_.q,{activeTab:O},i.a.createElement(_.r,{tabId:"vas"},"vas"===O&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 pt-4"},i.a.createElement(Zc,{codice:v,canUpdate:!1,isLocked:!0})))),i.a.createElement(_.r,{tabId:"conferenza"},"conferenza"===O&&i.a.createElement(l.c,{query:Nt,variables:{codice:v},onError:le},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0],l=void 0===r?{}:r;e.error;if(a)return i.a.createElement(Xo,null);var s=l.node,d=(s=void 0===s?{}:s).dataRichiestaConferenza,u=s.risorse,m=(u=void 0===u?{}:u).edges,p=ge(void 0===m?[]:m,ke);return i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-8 d-flex align-items-center"},i.a.createElement("span",{className:"pl-1"},"RICHIESTA CONFERENZA DI COPIANIFICAZIONE"),i.a.createElement("span",{className:"ml-3 font-weight-bold"},d?"del ".concat(ie(d)):"Nessuna richiesta")),i.a.createElement("div",{className:"w-100 border-top pt-2 my-3 mx-4 border-serapide"}),i.a.createElement("div",{className:"col-12 d-flex align-items-center"},i.a.createElement("span",{className:"pl-1 pb-2"},"DOCUMENTI ALLEGATI E VERBALI")),p.length>0?p.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12  py-2"},i.a.createElement(Co,{key:e.uuid,className:"border-0",fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 py-2"},"Nessun documento presente"))})),i.a.createElement(_.r,{tabId:"genio"},i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-12 d-flex"},i.a.createElement("span",null,"NOTIFICA DEL GENIO CIVILE"),i.a.createElement("span",{className:"ml-3 text-serapide font-weight-bold"},o?"INVIATA":"NON INVIATA"))),i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-12 d-flex"},i.a.createElement("span",null,"DOCUMENTO PROTOCOLLO"),i.a.createElement("span",{className:"ml-3 font-weight-bold"},!C&&"NON CARICATO")),!!C&&i.a.createElement("div",{className:"col-12"},i.a.createElement(Co,{className:"border-0 mt-3",fileSize:!1,useLabel:!0,resource:C,isLocked:!0}))),i.a.createElement("div",{className:"row pt-4"},!!f&&i.a.createElement("div",{className:"col-12 mb-3 d-flex"},i.a.createElement("span",null,"PROTOCOLLO INVIATO"),i.a.createElement("span",{className:"ml-3"},"il ".concat(ie(f))))))))}),Wc=function(e){e.back;var a=e.piano;return i.a.createElement(l.c,{query:St,variables:{codice:a.codice},onError:le},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).procedureAvvio,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.procedureVas,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return t?i.a.createElement(Xo,null):i.a.createElement(Gc,{procedureAvvio:l,vas:u,piano:a})})},Hc=Ye("section","toggleSection","adozione")(function(e){var a=e.risorseAdozione,t=void 0===a?[]:a,n=e.risorseControdeduzioni,o=void 0===n?[]:n,r=e.risorsePostCP,c=void 0===r?[]:r,l=e.section,s=e.toggleSection;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.n,{tabs:!0},i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()({active:"adozione"===l}),onClick:function(){s("adozione")}},"TRASMISSIONE")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()({active:"controdedotto"===l}),onClick:function(){s("controdedotto")}},"CONTRODEDOTTO")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()({active:"revisionePostCp"===l}),onClick:function(){s("revisionePostCp")}},"POST C.P."))),i.a.createElement(_.q,{activeTab:l},i.a.createElement(_.r,{tabId:"adozione"},i.a.createElement(Qr,{upload:!1,resources:t})),i.a.createElement(_.r,{tabId:"controdedotto"},i.a.createElement(Qr,{upload:!1,resources:o})),i.a.createElement(_.r,{tabId:"revisionePostCp"},i.a.createElement(Qr,{upload:!1,resources:c}))))}),Qc=Ye("section","toggleSection","art")(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.proceduraAdozione,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).dataDeliberaAdozione,o=t.pubblicazioneBurtUrl,r=t.pubblicazioneBurtData,l=t.pubblicazioneSitoUrl,s=(t.pubblicazioneBurtBollettino,t.richiestaConferenzaPaesaggistica),d=t.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=e.pianoContro,v=(p=void 0===p?{}:p).node,f=(v=void 0===v?{}:v).risorse,E=(f=void 0===f?{}:f).edges,g=void 0===E?[]:E,b=e.pianoRev,N=(b=void 0===b?{}:b).node,z=(N=void 0===N?{}:N).risorse,A=(z=void 0===z?{}:z).edges,h=void 0===A?[]:A,O=e.vas,I=(O=void 0===O?{}:O).node,C=(I=void 0===I?{}:I).risorse,S=(C=void 0===C?{}:C).edges,P=void 0===S?[]:S,y=e.piano,R=(y=void 0===y?{}:y).soggettiOperanti,x=void 0===R?[]:R,L=e.toggleSection,j=e.section,T=m.filter(function(e){var a=e.node,t=a.tipo;a.user;return"controdeduzioni"===t}).map(function(e){return e.node}),k=m.filter(function(e){return"delibera_adozione"===e.node.tipo}),w=Object(c.a)(k,1)[0],D=(w=void 0===w?{}:w).node,U=ue(m,"osservazioni_enti"),V=ue(P,"parere_sca"),$=P.filter(function(e){return"parere_motivato"===e.node.tipo}),M=Object(c.a)($,1)[0],q=(M=void 0===M?{}:M).node,F=P.filter(function(e){return"documento_sintesi"===e.node.tipo}),B=Object(c.a)(F,1)[0],Z=(B=void 0===B?{}:B).node,G=P.filter(function(e){return"rapporto_ambientale"===e.node.tipo}),H=Object(c.a)(G,1)[0],Q=(H=void 0===H?{}:H).node,J=m.filter(function(e){return"elaborati_conferenza_paesaggistica"===e.node.tipo}).map(function(e){return e.node});return i.a.createElement(er,null,i.a.createElement(ar,{icon:"library_add",title:"ADOZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ie(n)),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:D,isLocked:!0})),i.a.createElement("div",{className:"col-12 pt-4"},i.a.createElement(Hc,{upload:!1,risorseAdozione:m,risorseControdeduzioni:g,risorsePostCP:h})),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(Jr,{soggettiOperanti:x}),i.a.createElement("div",{className:"border-top w-100 my-4"}),i.a.createElement("div",{className:"col-4 pb-2"},"PUBBLICAZIONE B.U.R.T."),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},o)),i.a.createElement("div",{className:"col-2"},ie(r)),i.a.createElement("div",{className:"col-4"},"PUBBLICAZIONE SITO WEB"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},l)),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"})),i.a.createElement(_.n,{tabs:!0},i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"art"===j,"text-serapide":"art"===j}]),onClick:function(){L("art")}},"ART. 19")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"vas"===j,"text-serapide":"vas"===j}]),onClick:function(){L("vas")}},"VAS")),i.a.createElement(_.o,null,i.a.createElement(_.p,{className:He()(["pointer",{active:"cpAnte"===j,"text-serapide":"cpAnte"===j}]),onClick:function(){L("cpAnte")}},"CONFERENZA PAESAGGISTICA ANTE"))),i.a.createElement(_.q,{activeTab:j},i.a.createElement(_.r,{tabId:"art"},"art"===j&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"OSSERVAZIONI ENTI"),i.a.createElement("div",{className:"col-12 pt-1"},Object(W.isEmpty)(U)?i.a.createElement("div",{className:"col-12 samll"},"Nessuna Osservazione "):Object(W.map)(U,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))})),i.a.createElement("div",{className:"col-auto pt-4"},"OSSERVAZIONI PRIVATI"),m.filter(function(e){return"osservazioni_privati"===e.node.tipo}).map(function(e){var a=e.node;return i.a.createElement("div",{key:a.uuid,className:"col-12"},i.a.createElement(Co,{className:"border-0 mt-2",resource:a}))}),i.a.createElement("div",{className:"col-auto pt-4"},"CONTRODEDUZIONI"),T.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Co,{className:"border-0 mt-2",resource:e}))}))),i.a.createElement(_.r,{tabId:"vas"},"vas"===j&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"PARERI SCA"),i.a.createElement("div",{className:"col-12 pt-1"},V?Object(W.map)(V,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},re(e[0].user))),e.map(function(e){return i.a.createElement(Co,{key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))}):i.a.createElement("div",{className:"col-12 samll"},"Nessun parere ")),i.a.createElement("div",{className:"col-auto pt-4"},"PARERERE MOTIVATO"),i.a.createElement("div",{className:"col-12 pt-1"},q?i.a.createElement(Co,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:q,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun parere ")),i.a.createElement("div",{className:"col-auto pt-4"},"DOCUMENTI DI SINTESI"),i.a.createElement("div",{className:"col-12 pt-1"},Z?i.a.createElement(Co,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:Z,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun documento ")),i.a.createElement("div",{className:"col-auto pt-4"},"RAPPORTO AMBIENTALE"),i.a.createElement("div",{className:"col-12 pt-1"},Q?i.a.createElement(Co,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:Q,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun rapporto ")))),i.a.createElement(_.r,{tabId:"cpAnte"},s?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"ELABORATI CONFERENZA PAESAGGISTICA ANTE"),J.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Co,{className:"border-0 mt-2",resource:e}))})):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"CONFERENZA PAESAGGISTICA ANTE NON RICHIESTA")))))}),Jc=function(e){var a=e.piano;return i.a.createElement(l.c,{query:Ct,variables:{codice:a.codice},onError:le},function(e){var t=e.loading,n=e.data,o=n.pianoControdedotto,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.pianoRevPostCp,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0],m=n.procedureAdozione,p=(m=void 0===m?{}:m).edges;p=void 0===p?[]:p;var v=Object(c.a)(p,1)[0],f=n.procedureAdozioneVas,E=(f=void 0===f?{}:f).edges;E=void 0===E?[]:E;var g=Object(c.a)(E,1)[0];return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(Qc,{vas:g,proceduraAdozione:v,pianoRev:u,pianoContro:l,piano:a})})},Xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.approvazione,t=(a=void 0===a?{}:a).dataDeliberaApprovazione,n=a.urlPianoPubblicato,o=a.pubblicazioneUrl,r=a.pubblicazioneUrlData,l=a.risorse,s=(l=void 0===l?{}:l).edges,d=void 0===s?[]:s,u=e.adozione,m=(u=void 0===u?{}:u).richiestaConferenzaPaesaggistica,p=e.piano,v=(p=void 0===p?{}:p).soggettiOperanti,f=void 0===v?[]:v,E=d.filter(function(e){return"delibera_approvazione"===e.node.tipo}),g=Object(c.a)(E,1)[0],b=(g=void 0===g?{}:g).node,N=d.filter(function(e){return"elaborati_conferenza_paesaggistica"===e.node.tipo}).map(function(e){return e.node});return i.a.createElement(er,null,i.a.createElement(ar,{icon:"library_add",title:"APPROVAZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ie(t)),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Co,{fileSize:!1,useLabel:!0,resource:b,isLocked:!0})),i.a.createElement("div",{className:"col-12 mt-3 py-2"},"ELABORATI PIANO"),i.a.createElement("div",{className:"col-12 pt-3"},i.a.createElement(Qr,{upload:!1,resources:d})),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(Jr,{soggettiOperanti:f}),i.a.createElement("div",{className:"border-top w-100 my-4"}),i.a.createElement("div",{className:"col-5"},"PUBBLICAZIONE SITO WEB"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},n)),i.a.createElement("div",{className:"col-2"}),i.a.createElement("div",{className:"col-5"},"PUBBLICAZIONE APPROVAZIONE"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},o)),i.a.createElement("div",{className:"col-2"},ie(r)),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"})),m?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"CONFERENZA PAESAGGISTICA IN ADOZIONE")):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"ELABORATI CONFERENZA PAESAGGISTICA"),N.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Co,{className:"border-0 mt-2",resource:e}))})))},Yc=function(e){var a=e.piano;return i.a.createElement(l.c,{query:Pt,variables:{codice:a.codice},onError:le},function(e){var t=e.loading,n=e.data,o=n.pianoRevPostCp,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=(l=void 0===l?{}:l).node,d=n.procedureApprovazione,u=(d=void 0===d?{}:d).edges;u=void 0===u?[]:u;var m=Object(c.a)(u,1)[0],p=(m=void 0===m?{}:m).node,v=n.procedureAdozione,f=(v=void 0===v?{}:v).edges;f=void 0===f?[]:f;var E=Object(c.a)(f,1)[0],g=(E=void 0===E?{}:E).node;return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(Xc,{adozione:g,approvazione:p,pianoRev:s,piano:a})})},Kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.pubblicazione,t=(a=void 0===a?{}:a).pubblicazioneUrl,n=a.pubblicazioneUrlData,o=e.piano,r=(o=void 0===o?{}:o).soggettiOperanti,c=void 0===r?[]:r;return i.a.createElement(er,null,i.a.createElement(ar,{icon:"turned_in",title:"PUBBLICAZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-auto py-2"},"PUBBLICATOI IL ",ie(n)),i.a.createElement("div",{className:"col-auto py-2"},"URL"),i.a.createElement("div",{className:"col-auto py-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},t)),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(Jr,{soggettiOperanti:c}),i.a.createElement("div",{className:"border-top w-100 my-4"})))},el=function(e){var a=e.piano;return i.a.createElement(l.c,{query:It,variables:{codice:a.codice},onError:le},function(e){var t=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0],l=(r=void 0===r?{}:r).node;return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(Kc,{pubblicazione:l,piano:a})})},al=function(e){return e instanceof Element?e:document.getElementById(e)},tl=function(e){function a(e){var t;return Object(to.a)(this,a),(t=Object(io.a)(this,Object(oo.a)(a).call(this,e))).el=al(e.el),t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"render",value:function(){return this.el?r.a.createPortal(this.props.children,this.el):null}}]),a}(i.a.PureComponent),nl=t(446),il=Object(nl.a)(function(e){var a=e.title,t=e.subtitle,n=e.icon,o=(e.disabled,e.iconColor),r=e.active,c=void 0!==r&&r,l=e.locked,s=void 0!==l&&l,d=e.className,u=void 0===d?"":d,m=e.expanded,p=void 0!==m&&m,v=e.children,f=e.href,E=e.history;return i.a.createElement("li",{onClick:function(){f&&!s&&E.push(f)},className:He()("list-group-item",u,{"text-serapide":c,active:c,locked:s,collapsed:!p})},i.a.createElement("div",{"data-for":"sidebar-tooltip","data-tip-disable":p,"data-tip":a,className:"d-flex align-items-center icons"},s&&p&&i.a.createElement("i",{className:"material-icons icon-12"},"lock"),i.a.createElement("i",{className:He()("material-icons",{"icon-15":!p},o)},n)),p&&i.a.createElement("div",{className:"d-flex flex-column"},i.a.createElement("span",{className:"title"},a),i.a.createElement("span",{className:"sub-title"},t)),p&&v)}),ol=function(e){var a=e.piano,t=void 0===a?{}:a,n=e.expanded,o=e.url,r=e.active,c=e.toggleOpen;e.unreadMessages;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Xe.a,{id:"sidebar-tooltip"}),n?i.a.createElement("div",{className:"sidebar-header"},i.a.createElement("span",{className:"close text-serapide",onClick:c},i.a.createElement("i",{className:"material-icons"},"close")),i.a.createElement("div",{className:"d-flex flex-column pt-2"},i.a.createElement("div",{className:"title-portale"},"PORTALE DEL TERRITORIO"),i.a.createElement("div",{className:"piano-title text-capitalize"},"".concat(t.codice)))):i.a.createElement("div",{className:"sidebar-header collapsed",onClick:c},i.a.createElement("i",{className:"material-icons pointer"},"reorder")),i.a.createElement("ul",{className:"list-group"},i.a.createElement(il,{href:"home"!==r&&"".concat(o,"/home"),active:"home"===r,title:"HOME PIANO",icon:"home",expanded:n}),i.a.createElement(il,{href:"".concat(o,"/anagrafica"),active:"anagrafica"===r,title:"ANAGRAFICA",icon:"assignment",expanded:n}),i.a.createElement(il,{className:"border-bottom-3",href:"".concat(o,"/formazione"),active:"formazione"===r,title:"FORMAZIONE PIANO",subtitle:"Accesso agli strumenti",icon:"build",expanded:n}),i.a.createElement(il,{href:"".concat(o,"/avvio"),active:"avvio"===r,title:"AVVIO",subtitle:"Avvio del Procedimento",icon:"dashboard",expanded:n}),i.a.createElement(il,{locked:!pe(t.fase),href:"".concat(o,"/adozione"),active:"adozione"===r,title:"ADOZIONE",icon:"library_add",expanded:n}),i.a.createElement(il,{locked:!ve(t.fase),href:"".concat(o,"/approvazione"),active:"approvazione"===r,title:"APPROVAZIONE",icon:"offline_pin",expanded:n}),i.a.createElement(il,{locked:!fe(t.fase),href:"".concat(o,"/pubblicazione"),active:"pubblicazione"===r,title:"PUBBLICAZIONE",icon:"turned_in",expanded:n})))},rl=Ke("expanded","toggleOpen",!0),cl=rl(function(e){function a(){return Object(to.a)(this,a),Object(io.a)(this,Object(oo.a)(a).apply(this,arguments))}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.stopPolling(1e4)}},{key:"render",value:function(){var e=this.props,a=e.piano,t=e.url,n=e.path,o=e.location,r=(o=void 0===o?{}:o).pathname,c=e.utente,l=void 0===c?{}:c,s=e.startPolling,m=e.stopPolling,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(e,"").split("/").filter(function(e){return""!==e}).shift()}(t,r);return i.a.createElement(i.a.Fragment,null,i.a.createElement(tl,{el:"serapide-sidebar"},i.a.createElement(ol,{url:t,piano:a,active:p,expanded:this.props.expanded,toggleOpen:this.props.toggleOpen,unreadMessages:l.unreadThreadsCount})),i.a.createElement("div",{className:"".concat(this.props.expanded?"sidebar-open":"sidebar-closed"," d-flex flex-column ")},i.a.createElement("div",{className:"bg-white pt-5 pb-5 d-flex justify-content-between align-items-center piano-header"},i.a.createElement("div",{className:"flex-grow-1 pr-4"},i.a.createElement("h4",{className:"text-uppercase h-pre mb-0"},ae(a.ente)),i.a.createElement("div",{className:"text-capitalize h-title"},"".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"VARIANTE"===e?e.toLowerCase():"piano ".concat(e.toLowerCase())}(a.tipo)," ").concat(a.codice)),i.a.createElement("div",{className:"h-sub"},a.descrizione)),i.a.createElement(ta,{className:"stato-progress-xxl",stato:a.fase,legend:!0})),i.a.createElement(d.a,null,i.a.createElement(u.a,{path:"".concat(n,"/anagrafica"),component:tr}),i.a.createElement(u.a,{path:"".concat(n,"/formazione")},i.a.createElement(Fc,{utente:l,piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/avvio")},i.a.createElement(Wc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/adozione")},i.a.createElement(Jc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/approvazione")},i.a.createElement(Yc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/pubblicazione")},i.a.createElement(el,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/home"),render:function(e){return i.a.createElement(Mc,Object.assign({startPolling:s,stopPolling:m,utente:l,azioni:a.azioni,piano:a},e))}}),i.a.createElement(u.a,{path:n},i.a.createElement("div",{className:"p-6"},i.a.createElement("h1",null," Works in progress "),i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))))))))}}]),a}(i.a.PureComponent)),ll=function(e){var a=e.match,t=(a=void 0===a?{}:a).url,n=a.path,o=a.params,r=(o=void 0===o?{}:o).code,s=e.history,d=Object(D.a)(e,["match","history"]);return i.a.createElement(l.c,{query:ft,pollInterval:1e4,variables:{codice:r}},function(e){var a=e.loading,o=e.data,l=(o=void 0===o?{}:o).piani,u=(l=void 0===l?{}:l).edges;u=void 0===u?[]:u;var m=Object(c.a)(u,1)[0],p=(m=void 0===m?{}:m).node,v=(e.error,e.networkStatus),f=Object(D.a)(e,["loading","data","error","networkStatus"]);return a&&6!==v?i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):p?i.a.createElement(cl,Object.assign({},d,f,{piano:p,url:t,path:n})):(U.toast.error("Impossibile trovare il piano: ".concat(r),{autoClose:!0,onClose:function(){return s.back()}}),i.a.createElement("div",null))})},sl=function(e){var a=e.disabled,t=void 0!==a&&a,n=e.link,o=e.icon,r=void 0===o?"":o,c=e.iconColor,l=void 0===c?"":c,s=e.label,d=void 0===s?"":s,u=e.className,m=void 0===u?"":u,p=e.withBadge,v=void 0!==p&&p,f=e.badge,E=void 0===f?"":f,g=n?"a":"span";return i.a.createElement(g,{className:"".concat(m," link-icon nav-link"),href:t?"":n},v?i.a.createElement("span",{className:"d-inline-flex align-items-center"},i.a.createElement("i",{className:"material-icons ".concat(l)},r),i.a.createElement(_.a,{className:"nav-btn-badge",color:"light"},E)):i.a.createElement("i",{className:"material-icons ".concat(l)},r),i.a.createElement("div",{className:"link-icon-label"},d))},dl=function(e){e.disabled;var a=e.messaggi,t=void 0===a?[]:a;return i.a.createElement(_.t,{tag:"li",className:"first menumessaggi text-white",inNavbar:!0},i.a.createElement(_.d,{tag:"span"},i.a.createElement(sl,{className:"vertical-divider-right",icon:"email",iconColor:"text-serapide",withBadge:!0,badge:t.length,label:"Messaggi"})),i.a.createElement(_.c,{right:!0,className:"shadow"},t.map(function(e){var a=e.sentAt,t=(e.content,e.thread),n=(t=void 0===t?{}:t).id,o=t.absoluteUrl,r=t.subject,c=e.sender,l=(c=void 0===c?{}:c).email,s=c.firstName,d=c.lastName;return i.a.createElement("div",{key:n,className:"d-flex message-item pointer",onClick:function(){return window.location.href=o}},i.a.createElement("i",{className:"material-icons text-serapide"},"fiber_manual_record"),i.a.createElement("span",{className:"d-inline-flex flex-column"},i.a.createElement("span",{className:"text-nowrap"},"".concat(s," ").concat(d)),i.a.createElement("span",{className:"text-nowrap text-uppercase"},l),i.a.createElement("span",{className:"py-2"},"".concat(r," -- ").concat(ie(a)))))}),0===t.length?i.a.createElement("span",null,"Nessun messaggio"):i.a.createElement("a",{href:"/users/messages/inbox/",className:"d-block pt-4 text-center"},"Vai a utti i messagi")))},ul=Ke("isOpen","toggle",!1)(function(e){var a=e.canCreatePiano,t=void 0!==a&&a,n=(e.attore,e.isOpen,e.toggle,e.user,e.messaggi),o=void 0===n?[]:n,r=e.alertsCount,c=void 0===r?0:r;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.o,{className:"first"},i.a.createElement(sl,{className:"vertical-divider-left disabled",icon:"find_in_page",label:"Ricerca",link:"/serapide/#/search",disabled:!0})),i.a.createElement(_.o,{className:"first"},i.a.createElement(sl,{className:"disabled",icon:"view_list",label:"Archivio Piani",link:"/serapide/#/archivio",disabled:!0})),i.a.createElement(_.o,{className:"first"},i.a.createElement(sl,{className:He()("vertical-divider-right",{disabled:!t}),disabled:!t,icon:"note_add",label:"Crea Nuovo Piano",link:"/serapide/#/nuovo_piano"})),i.a.createElement(_.o,{className:"first"},i.a.createElement(sl,{className:"vertical-divider-right disabled",disabled:!0,icon:"today",label:"Calendario"})),i.a.createElement(_.o,{className:"first"},i.a.createElement(sl,{className:"default",link:"./#/",icon:"notification_important",iconColor:"text-danger",withBadge:!0,badge:c,label:"Alert"})),i.a.createElement(dl,{className:"first",messaggi:o}))}),ml={_attore_attivo:"",_ruolo:""},pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ml[e]=a},vl=function(e){function a(e){var t;return Object(to.a)(this,a),(t=Object(io.a)(this,Object(oo.a)(a).call(this,e))).inject=function(e){document.body.classList.contains(e)||t.el.classList.add(e)},t.el=document.body,t}return Object(ro.a)(a,e),Object(no.a)(a,[{key:"componentDidMount",value:function(){this.props.themeClass&&this.inject(this.props.themeClass)}},{key:"componentDidUpdate",value:function(){this.props.themeClass&&this.inject(this.props.themeClass)}},{key:"componentWillUnmount",value:function(){this.el=null}},{key:"render",value:function(){return null}}]),a}(i.a.PureComponent),fl=document.getElementById("only-nav-bar");fl?r.a.render(i.a.createElement(function(){return i.a.createElement(l.a,{client:w},i.a.createElement(l.c,{query:vt,pollInterval:1e4},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).utenti,o=(n=void 0===n?{}:n).edges,r=void 0===o?[{}]:o,c=(e.error,r[0].node),l=void 0===c?{}:c,s=l.attore,d=l.role,u=(d=void 0===d?{}:d).type;return a?null:(ml._attore_attivo=s,ml._ruolo=u,i.a.createElement(i.a.Fragment,null,i.a.createElement(vl,{themeClass:s}),i.a.createElement(tl,{el:"user-navbar-list"},i.a.createElement(ul,{messaggi:l.unreadMessages,alertsCount:l.alertsCount,attore:l.attore,roleType:u}))))}))},null),fl):r.a.render(i.a.createElement(function(){return i.a.createElement(l.a,{client:w},i.a.createElement(U.ToastContainer,null),i.a.createElement(l.c,{query:vt},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).auth,o=(n=void 0===n?{}:n).profili,r=void 0===o?[]:o,l=t.utenti,m=(l=void 0===l?{}:l).edges;m=void 0===m?[]:m;var p=Object(c.a)(m,1)[0],v=(p=void 0===p?{}:p).node,f=void 0===v?{}:v,E=(e.error,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ee(e).length>0}(r)),g=Ee(r);return pl("utente",f),pl("profile",r),pl("isAdminEnte",E),pl("entiAdmin",g),a?i.a.createElement("div",{className:"serapide-content pt-5 pb-5 pX-md px-1 serapide-top-offset position-relative overflow-x-scroll"},i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(tl,{el:"user-navbar-list"},i.a.createElement(ul,{messaggi:f.unreadMessages,alertsCount:f.alertsCount,attore:f.attore,canCreatePiano:!0})),i.a.createElement(Xe.a,null),i.a.createElement("div",{className:"serapide-content serapide-top-offset position-relative overflow-auto"},i.a.createElement(s.a,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{path:"/piano/:code",render:function(e){return i.a.createElement(ll,Object.assign({utente:f},e))}}),i.a.createElement(u.a,{path:"/crea_anagrafica/:code",component:Yo}),i.a.createElement(u.a,{path:"/nuovo_piano/"},E&&i.a.createElement(ao,{enti:g})),i.a.createElement(u.a,{path:"/",render:function(e){return i.a.createElement(Gi,Object.assign({canCreatePiano:!0,utente:f},e))}})))))}))},null),document.getElementById("serapide"))}},[[188,2,1]]]);
//# sourceMappingURL=main.0ec40f41.chunk.js.map