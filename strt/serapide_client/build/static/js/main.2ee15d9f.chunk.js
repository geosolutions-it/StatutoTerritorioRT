(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e){e.exports={__schema:{types:[{kind:"INTERFACE",name:"Node",possibleTypes:[{name:"UtenteNode"},{name:"UserThreadType"},{name:"UserMessageType"},{name:"RisorsaNode"},{name:"PianoNode"},{name:"ProceduraVASNode"},{name:"EnteNode"},{name:"ProceduraAvvioNode"},{name:"RisorseAvvioType"},{name:"ProceduraAdozioneNode"},{name:"RisorseAdozioneType"},{name:"ProceduraAdozioneVASNode"},{name:"RisorseAdozioneVASType"},{name:"ProceduraApprovazioneNode"},{name:"RisorseApprovazioneType"},{name:"ProceduraPubblicazioneNode"},{name:"RisorsePubblicazioneType"},{name:"RisorseVASType"},{name:"ConsultazioneVASNode"},{name:"SoggettoOperanteNode"},{name:"AzioneNode"},{name:"FasePianoStoricoType"},{name:"RisorsePianoType"},{name:"ConferenzaCopianificazioneNode"},{name:"RisorseCopianificazioneType"},{name:"PianoControdedottoNode"},{name:"RisorsePianoControdedottoType"},{name:"PianoRevPostCPNode"},{name:"RisorsePianoRevPostCPType"}]}]}}},188:function(e,a,t){e.exports=t(430)},193:function(e,a,t){},223:function(e,a){},225:function(e,a){},266:function(e,a){},267:function(e,a){},269:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=269},430:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(29),r=t.n(o),c=(t(193),t(9)),l=t(4),s=t(444),d=t(445),u=t(441),m=t(67),p=t(111),v=t(183),f=t(35),E=t(134),g=t.n(E),b=t(177),N=t(49),z=t(52),h=t(447),A=t(93),O=t.n(A),C=t(135),I=t(178),S=t.n(I);function P(){return(P=Object(b.a)(g.a.mark(function e(a,t){var n,i,o,r,l,s,d=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:{},"content-type"in(i=S()(n.headers,function(e,a){return a.toLowerCase()}))?n.body instanceof FormData&&(i["content-type"]="multipart/form-data"):i["content-type"]="text/plain;charset=UTF-8",o={url:t,method:n.method||"GET",data:n.body instanceof FormData?n.body:String(n.body),headers:i,validateStatus:function(){return!0},onUploadProgress:n.uploadProgres,cancelToken:n.cancelToken},e.next=6,a.request(o);case 6:return r=e.sent,l="object"===typeof r.data?JSON.stringify(r.data):r.data,s=new C.Headers,Object.entries(r.headers).forEach(function(e){var a=Object(c.a)(e,2),t=a[0],n=a[1];s.append(t,n)}),e.abrupt("return",new C.Response(l,{status:r.status,statusText:r.statusText,headers:s}));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var y,x=t(399),R=t(181),L=new p.b({introspectionQueryResultData:R}),j=O.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"}),T=new p.a({fragmentMatcher:L,dataIdFromObject:function(e){switch(e.__typename){case"UserNode":return e.fiscalCode;case"RisorsaNode":return e.uuid;case"PianoNode":return e.codice;case"ProceduraVASNode":return e.uuid;case"EnteNode":return e.ipa;case"UfficioNode":case"ConsultazioneVASNode":case"ProceduraAvvioNode":case"ConferenzaCopianificazioneNode":case"ProceduraAdozioneNode":case"PianoControdedottoNode":case"PianoRevPostCPNode":case"ProceduraAdozioneVASNode":case"ProceduraApprovazioneNode":case"ProceduraPubblicazioneNode":return e.uuid;default:return Object(p.c)(e)}}}),k=new m.a({link:f.a.from([Object(v.a)(function(e){var a=e.graphQLErrors,t=e.networkError;a&&a.map(function(e){var a=e.message,t=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(a,", Location: ").concat(t,", Path: ").concat(n))}),t&&console.log("[Network error]: ".concat(t))}),Object(x.a)({defaults:{},resolvers:{},typeDefs:"\n                type Authority {\n                    value: Int!\n                    label: String!\n                }\n                type Query {\n                    visibilityFilter: String\n                    authorities: [Authority]\n                }",cache:T}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.uri,t=void 0===a?"/graphql":a,n=e.fetch,i=void 0===n?fetch:n,o=e.fetchOptions,r=e.credentials,c=e.headers,l=e.includeExtensions,s=(e.a,{http:{includeExtensions:l},options:o,credentials:r,headers:c});return new f.a(function(e){var a=Object(z.e)(e,t),n=e.getContext(),o={http:n.http,options:n.fetchOptions,credentials:n.credentials,headers:n.headers},r=Object(z.d)(e,z.b,s,o),c=r.options,l=r.body,d=Object(h.a)(l),u=d.clone,m=d.files,p=Object(z.f)(u,"Payload");if(m.size){delete c.headers["content-type"];var v=new FormData;v.append("operations",p);var f={},E=0;m.forEach(function(e){f[++E]=e}),v.append("map",JSON.stringify(f)),E=0,m.forEach(function(e,a){v.append(++E,a,a.name)}),c.body=v}else c.body=p;return new N.a(function(t){var o=Object(z.a)(),r=o.controller,l=o.signal;r&&(c.signal=l);var s=O.a.CancelToken.source();c.cancelToken=s.token;var d=function(){s.cancel("Operation canceled"),n.uploadProgress=null};return m.size>0&&c.body instanceof FormData&&n.uploadProgress&&(c.uploadProgres=function(e){var a=e.loaded,t=e.isTrusted,i=e.total;t&&n.uploadProgress&&n.uploadProgress({loaded:a,total:i},d)}),i(a,c).then(function(a){return e.setContext({response:a}),a}).then(Object(z.c)(e)).then(function(e){t.next(e),t.complete()}).catch(function(e){n.uploadProgress=null,"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))}),function(){n.uploadProgress=null,s.cancel("Operation canceled"),r&&r.abort()}})})}({uri:"/serapide/graphql",credentials:"same-origin",fetch:(y=j,function(e,a){return P.apply(this,arguments)}.bind(void 0,y))})]),cache:T}),w=t(17),_=t(18),D=t(10),U=t(184),V=t.n(U),$=t(30),M=t(386),F=t(440),q=t(432),Z=(t(377),t(378)),B=t(64),G=t(19),W=t(442),H=t(31),Q={realzaione_generale:{order:0,label:"RELAZIONE GENERALE",tooltip:"art. 4 comma 2 Regolamento 4/R/2017 e art. 95 comma 5 l.r. 65/2014"},disciplina_piano:{order:1,label:"DISCIPLINA DEL PIANO",tooltip:"art. 95 della l.r. 65/2014"},indagini_geologiche_idrauliche_sismiche:{order:4,label:"RELAZIONE INDAGINI GEOLOGICHE IDRAULICHE SISMICHE",tooltip:"art.104 comma 9 l.r. 65/2014"},relazione_responsabile:{order:5,label:"RELAZIONE TECNICA RESPONSABILE DEL PROCEDIMENTO",tooltip:"art. 95 comma 7 l.r. 65/2014"},relazione_garante_informazione_partecipazione:{order:6,label:"RELAZIONE DEL GARANTE DELL\u2019INFORMAZIONE E DELLA PARTECIPAZIONE",tooltip:"art. 38 comma 2 l.r. 65/2014"},valutazioni:{order:7,label:"VALUTAZIONI",tooltip:"art. 14 l.r. 65/2014; l.r. 10/2010"}},X={piani_attuativi_beni_paseaggistici:{order:2,label:"SCHEDE NORMA PIANI ATTUATIVI BENI PAESAGGISTICI",tooltip:"art. 4 comma 5 Accordo MIBACT-Regione Toscana del 16.12.2016"},elaborati_adeguamento_conformazione:{order:8,label:"ELABORATI DI ADEGUAMENTO CONFORMAZIONE",tooltip:"art. 3 comma 4 Accordo MIBACT-Regione Toscana del 16.12.2016"}},J={elaborati_conformazione:{order:8,label:"ELABORATI DI CONFORMAZIONE",tooltip:"art. 3 comma 4 Accordo MIBACT-Regione Toscana del 16.12.2016"}},Y={supporto_previsioni_piano_carto:{order:0,label:"ELABORATI CARTOGRAFICI DI SUPPORTO ALLE PREVISIONI DEL PIANO",tooltip:"ai sensi art. 95 comma 5 della l.r. 65/2014"},disciplina_insediamenti_esistenti_carto:{order:1,label:"ELABORATI CARTOGRAFICI INERENTI LA DISCIPLINA PER LA GESTIONE DEGLI INSEDIAMENTI ESISTENTI",tooltip:"ai sensi art. 95 comma 2 della l.r. 65/2014"},assetti_insiedativi_infrastrutturali_edilizi_carto:{order:2,label:"ELABORATI CARTOGRAFICI INERENTI LE TRASFORMAZIONI DEGLI ASSETTI INSEDIATIVI, INFRASTRUTTURALI ED EDILIZI",tooltip:"ai sensi art. 95 comma 3 della l.r. 65/2014"}},K={operativo:{testuali:Object(H.a)({},Q,X),cartografici:Y},strutturale:{testuali:Object(H.a)({},Q,J),cartografici:Y},variante_operativo:{testuali:Object(H.a)({},Q,X),cartografici:Y},variante_strutturale:{testuali:Object(H.a)({},Q,J),cartografici:Y}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.nome,t=void 0===a?"":a,n=e.ipa,i=e.tipo;return"".concat(void 0===i?"":i).concat(n&&" di ").concat(t)},ae=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ipa;return"".concat(e&&"ID ").concat(e)},te=function(e){return Object(G.isDate)(e)?e:Object(F.a)(e)},ne=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy";return e?Object(q.a)(te(e),a,{locale:W.a}):null},ie=function(e,a){return Object(Z.a)(te(e),a)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.firstName,t=e.lastName,n=e.fiscalCode;return a||t?"".concat(a||""," ").concat(t||""):n},re=["anagrafica","avvio","adozione","approvazione","pubblicazione"],ce=function(e){var a=e.graphQLErrors,t=e.message,n=e.networkError,i=(n=void 0===n?{}:n).result,o=(i=void 0===i?{}:i).errors,r=void 0===o?[]:o,c=Object(M.a)(a).concat(Object(M.a)(r));t&&_.toast.error(t,{autoClose:!0}),c.map(function(e){var a=e.message;return _.toast.error(a,{autoClose:!0})})},le=function(e){return function(a,t){return function(n){var i;return{variables:{input:(i={},Object($.a)(i,e,Object($.a)({},t,Object(G.isDate)(n)?n.toISOString():n)),Object($.a)(i,"uuid",a),i)}}}}},se=function(e){return Object(G.get)(e,"piano.codice")},de=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,a){var t=a.node;return e[t.user.fiscalCode]?e[t.user.fiscalCode].push(t):e[t.user.fiscalCode]=[t],e},{})}(e.filter(function(e){return e.node.tipo===a}))},ue=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).uffici;return(void 0===e?[]:e).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio,n=(t=void 0===t?{}:t).uuid,i=(t.descrizione,t.nome),o=t.ente,r=(o=void 0===o?{}:o).nome;return{label:"Ente ".concat(r," ufficio ").concat(i),value:n,tipologia:a}})},me=function(e){return"AVVIO"===e||"ADOZIONE"===e||"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},pe=function(e){return"ADOZIONE"===e||"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},ve=function(e){return"APPROVAZIONE"===e||"PUBBLICAZIONE"===e},fe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return"ADMIN_ENTE"===e.profilo}).map(function(e){return e.ente})},Ee=["GC","PIAN"],ge=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio,a=(e=void 0===e?{}:e).qualifica;return Ee.includes(a)})},be=t(3),Ne=t.n(be),ze=t(33),he=t(60),Ae=t.n(he),Oe=function(e,a,t){return Object(ze.a)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t[a]&&!t[e]},Object(ze.g)(e,a,t))},Ce=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(ze.a)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t[a]&&!t[e]},Object(ze.b)(Object(ze.h)(function(a){return Object($.a)({},e,a.initValue||t)},Object($.a)({},a,function(a){return function(){return Object($.a)({},e,!a[e])}}))))},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(e.onUpdate,e.log),t=void 0!==a&&a,n=e.comp,i=void 0===n?"":n,o=t?function(e){console.log(i+" "+e+" ")}:function(){};return Object(ze.b)(ze.d,Object(ze.c)({componentDidUpdate:function(){Ae.a.rebuild(),o("Update")},componentDidMount:function(){Ae.a.rebuild(),o("Mount")}}))},Se=function(e){return Object(ze.c)({componentDidMount:function(){this.props.stopPolling&&this.props.stopPolling()},componentDidUpdate:function(){this.props.stopPolling&&this.props.stopPolling()},componentWillUnmount:function(){this.props.startPolling&&this.props.startPolling(e)}})},Pe=Ie({onUpdate:!0,log:!1,comp:"Stato Progres"})(function(e){var a=e.stato,t=void 0===a?"":a,n=e.className,o=void 0===n?"stato-progress":n,r=e.legend,c=void 0!==r&&r,l="_".concat(V.a.generate()),s=re.indexOf(t.toLocaleLowerCase())+1,d=re[s];return i.a.createElement("span",{className:o},i.a.createElement("i",{id:l,"data-tip":"".concat(Object(G.capitalize)(d)),className:"material-icons text-serapide ".concat(d)},"room"),i.a.createElement("ul",{className:"_icons _".concat(d)},re.map(function(e,a){return i.a.createElement("li",{key:"_".concat(e),"data-tip":"".concat(Object(G.capitalize)(e)),id:"_".concat(e),className:Ne()({"bg-serapide":s>=a})})})),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"_".concat(d," _labels")},re.map(function(e,a){return i.a.createElement("li",{key:"label_".concat(e),id:"label_".concat(e),className:Ne()("label_".concat(e),e)},e)}))))}),ye=function(e){var a=e.id,t=e.confirm,n=e.closeToast,o=e.label,r=void 0===o?"Elimina risorsa?":o;return i.a.createElement("div",{className:"px-1 text-dark d-flex  justify-content-around align-items-center"},i.a.createElement("span",{className:"pr-1"},r)," ",i.a.createElement(D.b,{style:{fontSize:"0.7rem"},color:"danger",onClick:function(){t(a),n()}},"Conferma"))},xe=i.a.Fragment,Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";return"draft"===e.toLowerCase()||"unknown"===e},Le=function(e,a){var t=e.node.lastUpdate,n=a.node.lastUpdate;return t===n?0:t>n?-1:1},je=function(e){var a=e.title,t=e.piani,n=void 0===t?[]:t,o=e.onDeletePiano,r=void 0===o?function(){return console.warn("Aggiungere query per eliminazione piano")}:o,c=function(e){return r({variables:{codice:e}})};return i.a.createElement(xe,null,i.a.createElement("h6",{className:"pb-3 text-uppercase"},a),i.a.createElement(D.s,{className:"pb-4",size:"sm",striped:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Notifiche"),i.a.createElement("th",null,"Nome Piano"),i.a.createElement("th",null,"Comune"),i.a.createElement("th",null,"Tipo"),i.a.createElement("th",null,"Ultima Modifica"),i.a.createElement("th",null,"Codice Unico"),i.a.createElement("th",null,"Anagrafica"),i.a.createElement("th",null,"Stato"),i.a.createElement("th",null,"RUP"),i.a.createElement("th",null,"Riprendi procedimento"))),i.a.createElement("tbody",null,n.sort(Le).map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node,a=e.alertsCount,t=void 0===a?0:a,n=e.ente,o=(n=void 0===n?{}:n).nome,r=void 0===o?"":o,l=e.descrizione,s=e.tipo,d=e.lastUpdate,u=e.codice,m=e.fase,p=e.responsabile,v=void 0===p?{}:p;return i.a.createElement("tr",{key:u},i.a.createElement("td",{className:"text-center"},t>0&&i.a.createElement("i",{className:"material-icons text-danger"},"notification_important")),i.a.createElement("td",{style:{maxWidth:350}},l),i.a.createElement("td",{style:{maxWidth:350}},r),i.a.createElement("td",{className:"text-center text-capitalize"},s),i.a.createElement("td",{className:"text-center"},ne(d)),i.a.createElement("td",{className:"text-center"},u),i.a.createElement("td",{className:"text-center",style:{cursor:"pointer"},onClick:function(){return function(e,a){window.location.href="DRAFT"===a?"#/crea_anagrafica/".concat(e):"#/piano/".concat(e,"/anagrafica")}(u,m)}},i.a.createElement("i",{className:"material-icons text-serapide"},"assignment")),i.a.createElement("td",null,i.a.createElement(Pe,{stato:m})),i.a.createElement("td",{className:"text-justify text-center"},v&&"".concat(v.firstName||""," ").concat(v.lastName||"")),i.a.createElement("td",{className:"text-center",style:{cursor:"pointer"},onClick:function(){return Re(m)?function(e){_.toast.isActive(e)||_.toast.warn(i.a.createElement(ye,{label:"Eliminare definitavmente il piano?",confirm:c,id:e}),{autoClose:!0,draggable:!0,id:e,onClose:function(){}})}(u):function(e){window.location.href="#/piano/".concat(e,"/home")}(u)}},i.a.createElement("i",{className:"material-icons text-serapide"},Re(m)?"delete":"play_circle_filled")))}))))},Te=function(e){e.title;var a=e.messaggi,t=void 0===a?[]:a;return i.a.createElement(D.s,{className:"pb-4",size:"sm",hover:!0},i.a.createElement("tbody",null,t.map(function(e){var a=e.sentAt,t=(e.content,e.thread),n=(t=void 0===t?{}:t).id,o=t.absoluteUrl,r=t.subject,c=e.sender,l=(c=void 0===c?{}:c).email,s=c.firstName,d=c.lastName;return i.a.createElement("tr",{key:n,onClick:function(){return window.location.href=o},className:"pointer"},i.a.createElement("td",{className:"text-center"},i.a.createElement("i",{className:"material-icons text-serapide"},"fiber_manual_record")),i.a.createElement("td",{className:"text-center"},ne(a)),i.a.createElement("td",{className:"text-center"},i.a.createElement("span",{className:"d-inline-flex flex-column"},i.a.createElement("span",{className:"text-nowrap"},"".concat(s," ").concat(d)),i.a.createElement("span",{className:"text-nowrap text-uppercase"},l))),i.a.createElement("td",null,r))}),0===t.length&&i.a.createElement("tr",null,i.a.createElement("td",null,"Nessun messaggio da leggere"))))},ke=function(e){var a=e.label,t=void 0===a?"":a,n=e.iconSize,o=e.icon,r=void 0===o?"":o,c=e.fontSize,l=void 0===c?"size-12":c,s=e.classNameLabel,d=void 0===s?"py-2":s,u=e.spinnerClass,m=void 0===u?"spinner-border spinner-border-sm ml-2":u,p=e.isLoading,v=void 0!==p&&p,f=Object(w.a)(e,["label","iconSize","icon","fontSize","classNameLabel","spinnerClass","isLoading"]);return i.a.createElement(D.b,f,i.a.createElement("span",{className:"".concat(d," ").concat(l," d-flex align-items-center justify-content-around")},i.a.createElement("i",{className:"material-icons ".concat(n&&n)},r),i.a.createElement("span",{className:"pl-1"},t),v&&i.a.createElement("div",{className:m,role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))))},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.length>1?function(e,a,t,n,o){return i.a.createElement("span",{className:a},e.slice(0,-1).join(" ")," ",i.a.createElement("span",{className:"text-nowrap"},e.slice(-1),i.a.createElement("i",{"data-tip":t,"data-tip-disable":n,className:"material-icons text-".concat(o," align-top icon-12")},"info")))}(e,a,t,n,o):function(e,a,t,n,o){return i.a.createElement("span",{className:"text-nowrap ".concat(a)},e[0],i.a.createElement("i",{"data-tip":t,"data-tip-disable":n,className:"material-icons text-".concat(o," align-top icon-12")},"info"))}(e,a,t,n,o)},_e=function(e){var a=e.dataTip,t=e.dataTipDisable,n=e.text,o=void 0===n?"":n,r=e.className,c=e.color,l=void 0===c?"serapide":c,s=o.replace(/ +(?= )/g,"").trim().split(" ");return o?we(s,r,a,t,l):i.a.createElement("i",{"data-tip":a,"data-tip-disable":t,className:"material-icons text-".concat(l," align-top icon-12")},"info")},De=t(7),Ue=t(8),Ve=t.n(Ue);function $e(){var e=Object(De.a)(["\nfragment CONFERENZA on ConferenzaCopianificazioneNode {\n        uuid\n        idPratica\n        dataRichiestaConferenza\n        dataScadenzaRisposta\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return $e=function(){return e},e}function Me(){var e=Object(De.a)(["\nfragment PUBBLICAZIONE on ProceduraPubblicazioneNode {\n        uuid\n        pubblicazioneUrl\n        pubblicazioneUrlData\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return Me=function(){return e},e}function Fe(){var e=Object(De.a)(["\nfragment APPROVAZIONE on ProceduraApprovazioneNode {\n        uuid\n        dataCreazione\n        dataDeliberaApprovazione\n        richiestaConferenzaPaesaggistica\n        urlPianoPubblicato\n        pubblicazioneUrl\n        pubblicazioneUrlData\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return Fe=function(){return e},e}function qe(){var e=Object(De.a)(["\nfragment ADOZIONE on ProceduraAdozioneNode {\n        uuid\n        dataCreazione\n        dataDeliberaAdozione\n        dataRicezioneOsservazioni\n        dataRicezionePareri\n        pubblicazioneBurtUrl\n        pubblicazioneBurtData\n        pubblicazioneSitoUrl\n        pubblicazioneSitoData\n        osservazioniConcluse\n        conclusa\n        richiestaConferenzaPaesaggistica\n        urlPianoControdedotto\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return qe=function(){return e},e}function Ze(){var e=Object(De.a)(["\nfragment AVVIO on ProceduraAvvioNode {\n        uuid\n        conferenzaCopianificazione\n        dataCreazione\n        dataScadenzaRisposta\n        garanteNominativo\n        garantePec\n        richiestaIntegrazioni\n        messaggioIntegrazione\n        risorse(archiviata: false) {\n            ...Risorse\n        }\n}\n","\n"]);return Ze=function(){return e},e}function Be(){var e=Object(De.a)(["\nfragment  ConsultazioneVAS on ConsultazioneVASNode {\n          uuid\n          avvioConsultazioniSca\n          dataCreazione\n          dataScadenza\n          dataAvvioConsultazioniSca\n          dataRicezionePareri\n          proceduraVas{\n            uuid\n            tipologia\n            dataAssoggettamento\n            risorse(archiviata: false) {\n            ...Risorse\n            }\n          }\n}\n  ","\n"]);return Be=function(){return e},e}function Ge(){var e=Object(De.a)(["\nfragment Piano on PianoNode {\n    codice\n    tipo: tipologia\n    descrizione\n    lastUpdate\n    dataDelibera\n    numeroDelibera\n    dataCreazione\n    dataAccettazione\n    dataAvvio\n    dataApprovazione\n    alertsCount\n    numeroProtocolloGenioCivile\n    dataProtocolloGenioCivile\n    redazioneNormeTecnicheAttuazioneUrl\n    compilazioneRapportoAmbientaleUrl\n    conformazionePitPprUrl\n    monitoraggioUrbanisticoUrl \n    azioni {\n        ...Azioni\n    }\n    ente {\n      ipa\n      nome\n      tipo\n    }\n    fase\n    responsabile{\n        ...User\n    }\n    risorse(archiviata: false){\n        ...Risorse\n      }\n    soggettoProponente {\n        qualifica\n        ufficio {\n          uuid\n          nome\n          ente{\n              ipa\n               nome\n          }\n        }\n    }\n    soggettiOperanti {\n      qualificaUfficio{\n\t\t\t\t\t          qualifica\n          ufficio{\n            uuid\n            nome\n            ente {\n              ipa\n               nome\n            }\n          }\n        }\n  }\n  proceduraVas {uuid}\n  proceduraAvvio {uuid}\n  \n}\n","\n","\n","\n"]);return Ge=function(){return e},e}function We(){var e=Object(De.a)(["\nfragment VAS on ProceduraVASNode {\n        uuid\n        tipologia\n        dataVerifica\n        dataCreazione\n        dataProcedimento\n        dataApprovazione\n        dataAssoggettamento\n        verificaEffettuata\n        procedimentoEffettuato\n        assoggettamento\n        nonNecessaria\n        piano {\n          codice\n            soggettoProponente {\n              qualifica\n              ufficio {\n                  uuid\n                  nome\n                  ente {\n                    ipa\n                    nome\n                  }\n                }\n              }\n          soggettiOperanti {\n            qualificaUfficio {\n              qualifica\n                ufficio {\n                uuid\n                nome\n                ente {\n                    ipa\n                    nome\n                  }\n              }\n            }\n          }\n        }\n        risorse(archiviata: false){\n            ...Risorse\n        }\n        documentoPreliminareVerifica{\n          ...Risorsa \n        }\n        relazioneMotivataVasSemplificata{\n          ...Risorsa \n        }\n}\n","\n"]);return We=function(){return e},e}function He(){var e=Object(De.a)(["\nfragment AzioniPiano on PianoNode {\n  codice\n  fase \n  azioni {\n      ...Azioni\n  }\n\n}\n","\n"]);return He=function(){return e},e}function Qe(){var e=Object(De.a)(["\nfragment Risorse on RisorsaNodeConnection{\n  edges {\n    node {\n      ...Risorsa\n    }\n  }\n}\n",""]);return Qe=function(){return e},e}function Xe(){var e=Object(De.a)(["\nfragment Azioni on AzioneNode {\n      order\n      tipologia\n      stato\n      qualificaRichiesta\n      data\n      uuid\n      label\n      tooltip\n      fase\n      eseguibile\n}\n"]);return Xe=function(){return e},e}function Je(){var e=Object(De.a)(["\nfragment Contatto on QualificaUfficioNode{\n        id\n        qualifica \n        ufficio{\n          uuid\n          descrizione\n          email\n          nome\n        ente{\n          descrizione\n          ipa\n          nome\n    }\n  }\n}\n"]);return Je=function(){return e},e}function Ye(){var e=Object(De.a)(["\nfragment Risorsa on RisorsaNode {\n    nome\n    uuid\n    tipo\n    dimensione\n    downloadUrl\n    lastUpdate\n    user{\n      fiscalCode\n      firstName\n      lastName\n    }\n    label\n    tooltip\n}\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(De.a)(["\nfragment Profiles on ProfiloChoiceNode {\n      ente{\n        ipa\n        nome\n        descrizione\n        tipo\n      }\n      profilo\n      qualifiche{\n        qualifica\n        ufficio\n        qualificaUfficio{\n          qualifica\n        }\n      }\n    \n    }\n"]);return Ke=function(){return e},e}function ea(){var e=Object(De.a)(["\nfragment User on UtenteNode {\n      fiscalCode\n    \tfirstName\n    \tlastName\n    \temail\n    \tisStaff\n      unreadThreadsCount\n      unreadMessages {\n          thread {\n            id\n            subject\n            absoluteUrl\n          }\n          sender {\n            email\n            firstName\n            lastName\n          }\n          sentAt\n          content\n        }\n}\n"]);return ea=function(){return e},e}var aa=Ve()(ea()),ta=Ve()(Ke()),na=Ve()(Ye()),ia=Ve()(Je()),oa=Ve()(Xe()),ra=Ve()(Qe(),na),ca=Ve()(He(),oa),la=Ve()(We(),ra),sa=Ve()(Ge(),ra,aa,oa),da=Ve()(Be(),ra),ua=Ve()(Ze(),ra),ma=Ve()(qe(),ra),pa=Ve()(Fe(),ra),va=Ve()(Me(),ra),fa=Ve()($e(),ra);function Ea(){var e=Object(De.a)(["\nquery getAuth{\n    authorities @client\n    {\n        value\n    label   \n    }\n}\n"]);return Ea=function(){return e},e}function ga(){var e=Object(De.a)(["\n\nquery RisorsePaginaApprovazione($codice: String!){\n  pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n        }\n    }\n  }\n  procedureAdozione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    }\n  procedureApprovazione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...APPROVAZIONE \n            }\n            \n        }\n    }\n}\n","\n","\n","\n"]);return ga=function(){return e},e}function ba(){var e=Object(De.a)(["\n\nquery RisorsePaginaAvvio($codice: String){\n  procedureAvvio(piano_Codice: $codice) {\n        edges{\n          node{\n            ...AVVIO \n            }\n            \n        }\n    }\n  procedureVas(piano_Codice: $codice) {\n        edges{\n          node{\n            uuid\n            risorse{...Risorse}\n            }\n            \n        }\n    }\n}\n","\n","\n"]);return ba=function(){return e},e}function Na(){var e=Object(De.a)(["\n\nquery RisorsePaginaAdozione($codice: String!){\n  pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n        }\n    }\n  }\n  pianoControdedotto(piano_Codice: $codice){\n      edges{\n        node{\n            uuid\n            risorse(archiviata: false){...Risorse}\n            }\n      }        \n  }\n\n  procedureAdozione(piano_Codice: $codice) {\n      edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    }\n  procedureAdozioneVas(piano_Codice: $codice){\n      edges{\n        node{\n            uuid\n            risorse(archiviata: false) {...Risorse}\n        }\n      }\n    }\n}\n","\n","\n"]);return Na=function(){return e},e}function za(){var e=Object(De.a)(["\nquery GetPubblicazione($codice: String!) {\n  modello: procedurePubblicazione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...PUBBLICAZIONE \n            }  \n        }\n    }\n}\n","\n"]);return za=function(){return e},e}function ha(){var e=Object(De.a)(["\nquery GetApprovazione($codice: String!) {\n  modello: procedureApprovazione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...APPROVAZIONE \n            }  \n        }\n    }\n}\n","\n"]);return ha=function(){return e},e}function Aa(){var e=Object(De.a)(["\nquery AdozioneVas($codice: String!){\n  modello: procedureAdozioneVas(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false) {...Risorse}\n    }\n  }\n}}\n","\n"]);return Aa=function(){return e},e}function Oa(){var e=Object(De.a)(["\nquery PianoRevPostCp($codice: String!){\n    modello: pianoRevPostCp(piano_Codice: $codice){\n      edges{\n        node{\n          uuid\n          risorse(archiviata: false){...Risorse}\n    }\n  }\n}}\n","\n"]);return Oa=function(){return e},e}function Ca(){var e=Object(De.a)(["\nquery GetRisorsePianoControdedotto($codice: String!) {\n      modello: pianoControdedotto(piano_Codice: $codice){\n          edges{node{\n            uuid\n          risorse(archiviata: false){...Risorse}\n\n          }}        \n          \n      }\n}\n","\n"]);return Ca=function(){return e},e}function Ia(){var e=Object(De.a)(["\nquery GetConferenzaCopianificazione($codice: String!) {\n    modello: conferenzaCopianificazione(piano_Codice: $codice) {\n          edges {\n              node {\n                  ...CONFERENZA\n              }\n          }\n    }\n}\n","\n"]);return Ia=function(){return e},e}function Sa(){var e=Object(De.a)(["\nquery getUffici($tipo: [String]){\n  uffici(qualifiche: $tipo) {\n      ...Contatto\n    }\n  }\n  ","\n"]);return Sa=function(){return e},e}function Pa(){var e=Object(De.a)(["\nquery getUffici($tipo: String){\n  uffici(qualifica: $tipo) {\n      ...Contatto\n    }\n  }\n  ","\n"]);return Pa=function(){return e},e}function ya(){var e=Object(De.a)(["\nquery getVas($codice: String!) {\n    modello: procedureVas(piano_Codice: $codice) {\n        edges{\n          node{\n            ...VAS \n            }\n            \n        }\n    }\n}\n","\n"]);return ya=function(){return e},e}function xa(){var e=Object(De.a)(["\nquery getPiani($faseCodice: String, $codice: String){\n    piani(fase_Codice: $faseCodice, codice: $codice){\n        edges{\n            node{\n                ...Piano\n            }\n          }\n        }\n}\n    ","\n"]);return xa=function(){return e},e}function Ra(){var e=Object(De.a)(["\nquery {\n\tauth: userChoices{\n    profili {\n      ...Profiles\n    }\n  }\n  utenti {\n  edges{\n    node{\n      ...User\n  \t}\n  }\n  }}\n","\n",""]);return Ra=function(){return e},e}function La(){var e=Object(De.a)(["\nquery CreaPianoPage{\n    tipologiaPiano{\n        value\n        label\n      }\n}\n"]);return La=function(){return e},e}function ja(){var e=Object(De.a)(["\nquery ConsultazioniVas($codice: String){\n  modello: consultazioneVas(proceduraVas_Piano_Codice: $codice){\n  edges{\n    node{\n      ...ConsultazioneVAS\n    }\n  }\n  }\n}\n","\n"]);return ja=function(){return e},e}function Ta(){var e=Object(De.a)(["\nquery GetAdozione($codice: String!) {\n    modello: procedureAdozione(piano_Codice: $codice) {\n        edges{\n          node{\n            ...ADOZIONE \n            }\n            \n        }\n    }\n}\n","\n"]);return Ta=function(){return e},e}function ka(){var e=Object(De.a)(["\nquery GetAvvio($codice: String!) {\n    modello: procedureAvvio(piano_Codice: $codice) {\n        edges{\n          node{\n            ...AVVIO \n            }\n            \n        }\n    }\n}\n","\n"]);return ka=function(){return e},e}function wa(){var e=Object(De.a)(["\nquery GetTipoContatto{\n  tipologiaContatto {\n    label\n    value\n  }\n}\n"]);return wa=function(){return e},e}function _a(){var e=Object(De.a)(["\nquery {\n    enti{\n        edges{\n            node{\n                name\n                code\n                type{\n                    tipo: name\n                }\n            }\n        }\n    }\n}"]);return _a=function(){return e},e}Ve()(_a()),Ve()(wa());var Da=Ve()(ka(),ua),Ua=Ve()(Ta(),ma),Va=Ve()(ja(),da),$a=Ve()(La()),Ma=Ve()(Ra(),ta,aa),Fa=Ve()(xa(),sa),qa=Ve()(ya(),la),Za=Ve()(Pa(),ia),Ba=Ve()(Sa(),ia),Ga=Ve()(Ia(),fa),Wa=Ve()(Ca(),ra),Ha=Ve()(Oa(),ra),Qa=Ve()(Aa(),ra),Xa=Ve()(ha(),pa),Ja=Ve()(za(),va),Ya=Ve()(Na(),ma,ra),Ka=Ve()(ba(),ua,ra),et=Ve()(ga(),ma,pa,ra);Ve()(Ea());function at(){var e=Object(De.a)(["\n  mutation DeleteRisorsaApprovazione($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaApprovazione(risorsaId: $id, codice: $codice){\n              success\n              proceduraApprovazioneAggiornata{\n                  uuid\n                  risorse(archiviata: false){\n                    ...Risorse\n                  }\n              }\n      }\n  }\n  ","\n  "]);return at=function(){return e},e}function tt(){var e=Object(De.a)(["\n  mutation ApprovazioneFileUpload($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaApprovazione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraApprovazioneAggiornata{\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return tt=function(){return e},e}function nt(){var e=Object(De.a)(["\n  mutation DeleteRisorsaAdozioneVas($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAdozioneVas(risorsaId: $id, codice: $codice){\n              success\n              proceduraVasAggiornata{\n                  uuid\n                  risorse(archiviata: false){\n                    ...Risorse\n                  }\n              }\n      }\n  }\n  ","\n  "]);return nt=function(){return e},e}function it(){var e=Object(De.a)(["\n  mutation AozioneVasFileUpload($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAdozioneVas(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraVasAggiornata{\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return it=function(){return e},e}function ot(){var e=Object(De.a)(["\n  mutation DeleteRisorsaPianoRevPostCp($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaPianoRevPostCp(risorsaId: $id, codice: $codice){\n          success\n          pianoRevPostCpAggiornato {\n              uuid\n              risorse(archiviata: false){\n                ...Risorse\n              }\n          }\n      }\n  }\n  ","\n  "]);return ot=function(){return e},e}function rt(){var e=Object(De.a)(["\n  mutation PianoRevPortCpUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaPianoRevPostCp(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoRevPostCpAggiornato {\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return rt=function(){return e},e}function ct(){var e=Object(De.a)(["\n  mutation DeleteRisorsaControdedotto($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaPianoControdedotto(risorsaId: $id, codice: $codice){\n          success\n          pianoControdedottoAggiornatoAggiornato{\n              uuid\n              risorse(archiviata: false){\n                ...Risorse\n              }\n          }\n      }\n  }\n  ","\n  "]);return ct=function(){return e},e}function lt(){var e=Object(De.a)(["\n  mutation ControdedottoUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaPianoControdedotto(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoControdedottoAggiornato {\n            uuid\n            risorse(archiviata: false){\n              ...Risorse\n            }\n        }\n      }\n    }\n    ","\n  "]);return lt=function(){return e},e}function st(){var e=Object(De.a)(["\n  mutation DeleteRisorsaAdozione($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAdozione(risorsaId: $id, codice: $codice){\n          success\n          proceduraAdozioneAggiornata {\n              ...ADOZIONE\n          }\n      }\n  }\n  ","\n  "]);return st=function(){return e},e}function dt(){var e=Object(De.a)(["\n  mutation AdozioneUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAdozione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraAdozioneAggiornata {\n            ...ADOZIONE\n        }\n      }\n    }\n    ","\n  "]);return dt=function(){return e},e}function ut(){var e=Object(De.a)(["\n  mutation DeleteRisorsaAvvio($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaAvvio(risorsaId: $id, codice: $codice){\n          success\n          proceduraAvvioAggiornata {\n              ...AVVIO\n          }\n      }\n  }\n  ","\n  "]);return ut=function(){return e},e}function mt(){var e=Object(De.a)(["\n  mutation AvvioUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaAvvio(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraAvvioAggiornata {\n            ...AVVIO\n        }      \n      }\n    }\n    ","\n  "]);return mt=function(){return e},e}function pt(){var e=Object(De.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaCopianificazione(risorsaId: $id, codice: $codice){\n          success\n          conferenzaCopianificazioneAggiornata {\n              ...CONFERENZA\n          }\n      }\n  }\n  ","\n  "]);return pt=function(){return e},e}function vt(){var e=Object(De.a)(["\n  mutation ConferenzaUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaCopianificazione(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        conferenzaCopianificazioneAggiornata {\n            ...CONFERENZA\n        }\n      }\n    }\n    ","\n  "]);return vt=function(){return e},e}function ft(){var e=Object(De.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa: deleteRisorsaVas(risorsaId: $id, codice: $codice){\n          success\n          proceduraVasAggiornata {\n              ...VAS\n          }\n      }\n  }\n  ","\n  "]);return ft=function(){return e},e}function Et(){var e=Object(De.a)(["\n  mutation VasUploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload: uploadRisorsaVas(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        proceduraVasAggiornata {\n            ...VAS\n        }\n      }\n    }\n    ","\n  "]);return Et=function(){return e},e}function gt(){var e=Object(De.a)(["\n  mutation($id: ID!, $codice: String!) {\n      deleteRisorsa(risorsaId: $id, codice: $codice){\n          success\n          pianoAggiornato {\n              ...Piano\n          }\n      }\n  }\n  ","\n  "]);return gt=function(){return e},e}function bt(){var e=Object(De.a)(["\n  mutation UploadFile($file: Upload!, $codice: String!, $tipo: String!) {\n      upload(file: $file, codice: $codice, tipoFile: $tipo) {\n        success\n        fileName\n        pianoAggiornato {\n            ...Piano\n        }\n      }\n    }\n    ","\n  "]);return bt=function(){return e},e}var Nt=Ve()(bt(),sa),zt=Ve()(gt(),sa),ht=Ve()(Et(),la),At=Ve()(ft(),la),Ot=Ve()(vt(),fa),Ct=Ve()(pt(),fa),It=Ve()(mt(),ua),St=Ve()(ut(),ua),Pt=Ve()(dt(),ma),yt=Ve()(st(),ma),xt=Ve()(lt(),ra),Rt=Ve()(ct(),ra),Lt=Ve()(rt(),ra),jt=Ve()(ot(),ra),Tt=Ve()(it(),ra),kt=Ve()(nt(),ra),wt=Ve()(tt(),ra),_t=Ve()(at(),ra);function Dt(){var e=Object(De.a)(["\nmutation CreaContatto($input: CreateContattoInput!){\n  createContatto(input: $input){\n    nuovoContatto{\n      ...Contatto\n    }\n  }\n\t\n}\n","\n"]);return Dt=function(){return e},e}function Ut(){var e=Object(De.a)(["\nmutation PubblicazionePiano($codice: String!) {\n  pubblicazionePiano(uuid: $codice){\n    errors\n    pubblicazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Ut=function(){return e},e}function Vt(){var e=Object(De.a)(["\nmutation UpdatePubblicazione($input: UpdateProceduraPubblicazioneInput!) {\n  updateProceduraPubblicazione(input: $input) {\n    proceduraPubblicazioneAggiornata {\n            ...PUBBLICAZIONE\n        }\n    }\n}\n","\n"]);return Vt=function(){return e},e}function $t(){var e=Object(De.a)(["\nmutation EsitoConferenzaPaesaggisticaAp($codice: String!){\n  esitoConferenzaPaesaggisticaAp(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return $t=function(){return e},e}function Mt(){var e=Object(De.a)(["\nmutation TrasmissioneApprovazione($codice: String!){\n  trasmissioneApprovazione(uuid: $codice){\n      errors\n      approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Mt=function(){return e},e}function Ft(){var e=Object(De.a)(["\nmutation UpdateApprovazione($input: UpdateProceduraApprovazioneInput!) {\n  updateProceduraApprovazione(input: $input) {\n    proceduraApprovazioneAggiornata {\n            ...APPROVAZIONE\n        }\n    }\n}\n","\n"]);return Ft=function(){return e},e}function qt(){var e=Object(De.a)(["\nmutation ChiusuraConferenzaCopianificazione($codice: String!) {\n    chiusuraConferenzaCopianificazione(uuid: $codice) {\n      errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    \n  }\n}\n","\n"]);return qt=function(){return e},e}function Zt(){var e=Object(De.a)(["\nmutation RichiestaConferenzaCopianificazione($codice: String!) {\n  richiestaConferenzaCopianificazione(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Zt=function(){return e},e}function Bt(){var e=Object(De.a)(["\nmutation IntegrazioniRichieste($codice: String!) {\n  integrazioniRichieste(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Bt=function(){return e},e}function Gt(){var e=Object(De.a)(["\nmutation RichiestaIntegrazioni($codice: String!) {\n  richiestaIntegrazioni(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Gt=function(){return e},e}function Wt(){var e=Object(De.a)(["\nmutation ContirbutiTecnici($codice: String!) {\n  contributiTecnici(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Wt=function(){return e},e}function Ht(){var e=Object(De.a)(["\nmutation AvvioPiano($codice: String!) {\n    avviaPiano(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano {\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return Ht=function(){return e},e}function Qt(){var e=Object(De.a)(["\nmutation UpdateProceduraAvvio($input: UpdateProceduraAvvioInput!) {\n    updateProceduraAvvio(input: $input) {\n        proceduraAvvioAggiornata {\n            ...AVVIO\n        }\n    }\n}\n","\n"]);return Qt=function(){return e},e}function Xt(){var e=Object(De.a)(["\nmutation UploadElaboratiAdozioneVAS($codice: String!) {\n    uploadElaboratiAdozioneVas(uuid: $codice){\n        errors\n        vasAggiornata {\n            piano{\n                ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return Xt=function(){return e},e}function Jt(){var e=Object(De.a)(["\nmutation InvioParereMotivatoAc($codice: String!) {\n    invioParereMotivatoAc(uuid: $codice){\n        errors\n        vasAggiornata {\n            piano{\n                ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return Jt=function(){return e},e}function Yt(){var e=Object(De.a)(["\nmutation InvioPareriAdozione($codice: String!) {\n  invioPareriAdozioneVas(uuid: $codice){\n    errors\n    vasAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Yt=function(){return e},e}function Kt(){var e=Object(De.a)(["\nmutation  AttribuzioneConformitaPit($codice: String!) {\n  attribuzioneConformitaPit(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return Kt=function(){return e},e}function en(){var e=Object(De.a)(["\nmutation PubblicazioneApprovazione($codice: String!) {\n  pubblicazioneApprovazione(uuid: $codice){\n    errors\n    approvazioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return en=function(){return e},e}function an(){var e=Object(De.a)(["\nmutation RevisioneConferenzaPaesaggistica($codice: String!) {\n  revisioneConferenzaPaesaggistica(uuid: $codice){\n    errors\n    adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return an=function(){return e},e}function tn(){var e=Object(De.a)(["\nmutation PianoControdedotto($codice: String!) {\n  pianoControdedotto(uuid: $codice){\n    errors\n    adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return tn=function(){return e},e}function nn(){var e=Object(De.a)(["\nmutation Contorodeduzioni($codice: String!){\n  controdeduzioni(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return nn=function(){return e},e}function on(){var e=Object(De.a)(["\nmutation EsitoConferenzaPaesaggistica($codice: String!){\n  esitoConferenzaPaesaggistica(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return on=function(){return e},e}function rn(){var e=Object(De.a)(["\nmutation TrasmissioneOsservazioni($codice: String!){\n  trasmissioneOsservazioni(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return rn=function(){return e},e}function cn(){var e=Object(De.a)(["\nmutation TrasmissioneAdozione($codice: String!){\n  trasmissioneAdozione(uuid: $codice){\n      errors\n        adozioneAggiornata {\n              piano{\n                ...AzioniPiano\n              }\n        }\n  }\n}\n","\n"]);return cn=function(){return e},e}function ln(){var e=Object(De.a)(["\nmutation UpdateProceduraAdozione($input: UpdateProceduraAdozioneInput!) {\n    updateProceduraAdozione(input: $input) {\n        proceduraAdozioneAggiornata {\n            ...ADOZIONE\n        }\n    }\n}\n","\n"]);return ln=function(){return e},e}function sn(){var e=Object(De.a)(["\nmutation InvioProtocolloGenioCivile($codice: String!) {\n    invioProtocolloGenioCivile(uuid: $codice) {\n        errors\n        avvioAggiornato {\n              piano{\n                codice\n                numeroProtocolloGenioCivile,\n                dataProtocolloGenioCivile\n                ...AzioniPiano\n              }\n        }\n    }\n}\n","\n"]);return sn=function(){return e},e}function dn(){var e=Object(De.a)(["\nmutation AvvioConsultazioniVAS($codice: String!) {\n    avvioConsultazioniVas(uuid: $codice) {\n        errors\n        consultazioneVasAggiornata {\n            proceduraVas{\n              piano{\n                ...AzioniPiano\n              }\n            }\n        }\n    }\n}\n","\n"]);return dn=function(){return e},e}function un(){var e=Object(De.a)(["\nmutation CreaConsultazione($input: CreateConsultazioneVASInput!){\n    createConsultazioneVas(input: $input){\n        nuovaConsultazioneVas{     \n            ...ConsultazioneVAS\n        }\n    }\n}\n","\n"]);return un=function(){return e},e}function mn(){var e=Object(De.a)(["\nmutation UploadElaboratiVas($uuid: String!) {\n    uploadElaboratiVas(uuid: $uuid) {\n        vasAggiornata{\n            piano{  \n              ...AzioniPiano\n            }\n        }\n    }\n}\n","\n"]);return mn=function(){return e},e}function pn(){var e=Object(De.a)(["\nmutation AvvioEsamePareriSCA($uuid: String!) {\n    avvioEsamePareriSca(uuid: $uuid){\n        vasAggiornata{\n            piano{\n              ...AzioniPiano \n            }\n        }\n    }\n}\n","\n"]);return pn=function(){return e},e}function vn(){var e=Object(De.a)(["\nmutation ForamzioneDelPiano($codice: String!) {\n  formazioneDelPiano(codicePiano: $codice){\n        pianoAggiornato{\n              ...AzioniPiano \n        }\n    }\n}\n","\n"]);return vn=function(){return e},e}function fn(){var e=Object(De.a)(["\nmutation ProvveddimentoVerificaVAS($uuid: String!) {\n    assoggettamentoVas(uuid: $uuid){\n        vasAggiornata{\n          uuid\n          verificaEffettuata\n          dataAssoggettamento\n          piano{\n            ...AzioniPiano\n          }\n      }\n    }\n  }\n","\n"]);return fn=function(){return e},e}function En(){var e=Object(De.a)(["\nmutation InvioPareriVAS($codice: String!) {\n  invioPareriVas(uuid: $codice) {\n        vasAggiornata {\n          ...VAS\n          piano {\n            ...AzioniPiano\n          }\n        }\n    }\n}\n","\n","\n"]);return En=function(){return e},e}function gn(){var e=Object(De.a)(["\nmutation InvioPareriVerifica($codice: String!) {\n  invioPareriVerificaVas(uuid: $codice) {\n        vasAggiornata {\n          ...VAS\n          piano {\n            ...AzioniPiano\n          }\n        }\n    }\n}\n","\n","\n"]);return gn=function(){return e},e}function bn(){var e=Object(De.a)(["\nmutation UpdateProceduraVas($input: UpdateProceduraVASInput!) {\n    updateProceduraVas(input: $input) {\n        proceduraVasAggiornata {\n              piano {\n                ...AzioniPiano\n              }\n            }\n        }\n    }\n  ","\n"]);return bn=function(){return e},e}function Nn(){var e=Object(De.a)(["\nmutation UpdateConsultazioneVas($input: UpdateConsultazioneVASInput!) {\n  updateConsultazioneVas(input: $input) {\n      consultazioneVasAggiornata {\n            ...ConsultazioneVAS\n        }\n    }\n}\n","\n"]);return Nn=function(){return e},e}function zn(){var e=Object(De.a)(["\nmutation UpdateProceduraVas($input: UpdateProceduraVASInput!) {\n    updateProceduraVas(input: $input) {\n        proceduraVasAggiornata {\n            ...VAS\n        }\n    }\n}\n","\n"]);return zn=function(){return e},e}function hn(){var e=Object(De.a)(["\n  mutation($codice: String!) {\n    deletePiano(codicePiano: $codice){\n        success\n        codicePiano\n    }\n}\n"]);return hn=function(){return e},e}function An(){var e=Object(De.a)(["\nmutation PromozionePiano($codice: String!){\n  promozionePiano(codicePiano: $codice){\n    pianoAggiornato {\n      ...Piano\n  }\n  }\n}\n","\n"]);return An=function(){return e},e}function On(){var e=Object(De.a)(["\nmutation UpdatePiano($input: UpdatePianoInput!) {\n    updatePiano(input: $input) {\n        pianoAggiornato {\n            ...Piano\n        }\n    }\n}\n","\n"]);return On=function(){return e},e}function Cn(){var e=Object(De.a)(["mutation CreatePiano($input: CreatePianoInput!) {\n    createPiano(input: $input) {\n        nuovoPiano {\n            ...Piano\n      }\n    }\n  }\n  ","\n"]);return Cn=function(){return e},e}var In=Ve()(Cn(),sa),Sn=Ve()(On(),sa),Pn=Ve()(An(),sa),yn=Ve()(hn()),xn=Ve()(zn(),la),Rn=Ve()(Nn(),da),Ln=Ve()(bn(),ca),jn=Ve()(gn(),ca,la),Tn=Ve()(En(),ca,la),kn=Ve()(fn(),ca),wn=Ve()(vn(),ca),_n=Ve()(pn(),ca),Dn=Ve()(mn(),ca),Un=Ve()(un(),da),Vn=Ve()(dn(),ca),$n=Ve()(sn(),ca),Mn=Ve()(ln(),ma),Fn=Ve()(cn(),ca),qn=Ve()(rn(),ca),Zn=Ve()(on(),ca),Bn=Ve()(nn(),ca),Gn=Ve()(tn(),ca),Wn=Ve()(an(),ca),Hn=Ve()(en(),ca),Qn=Ve()(Kt(),ca),Xn=Ve()(Yt(),ca),Jn=Ve()(Jt(),ca),Yn=Ve()(Xt(),ca),Kn=Ve()(Qt(),ua),ei=Ve()(Ht(),ca),ai=Ve()(Wt(),ca),ti=Ve()(Gt(),ca),ni=Ve()(Bt(),ca),ii=Ve()(Zt(),ca),oi=Ve()(qt(),ca),ri=Ve()(Ft(),pa),ci=Ve()(Mt(),ca),li=Ve()($t(),ca),si=Ve()(Vt(),va),di=Ve()(Ut(),ca),ui=(Ve()(Dt(),ia),function(e){_.toast.error(e.message,{autoClose:!0})}),mi=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data,t=(a=void 0===a?{}:a).deletePiano,n=t.success,i=t.codicePiano;if(n){var o=(e.readQuery({query:Fa})||{}).piani,r=void 0===o?{}:o,c=(r.edges.filter(function(e){return e.node.codice===i}).pop(),r.edges.filter(function(e){return e.node.codice!==i}));r.edges=c,e.writeQuery({query:Fa,data:{piani:r}})}},pi=function(){return i.a.createElement(l.c,{query:Fa},function(e){e.loading;var a=e.data,t=(a=void 0===a?{}:a).piani,n=(t=void 0===t?[]:t).edges,o=void 0===n?[]:n,r=e.error;return r&&_.toast.error(r.message,{autoClose:!0}),i.a.createElement(l.b,{mutation:yn,update:mi,onError:ui},function(e,a){return i.a.createElement(je,{title:"piani in formazione",piani:o,onDeletePiano:e})})})},vi=function(e){var a=e.utente,t=(a=void 0===a?{}:a).firstName,n=a.lastName,o=a.unreadMessages,r=e.canCreatePiano,c=void 0!==r&&r;Object(w.a)(e,["utente","canCreatePiano"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("h1",null,"Portale della pianificazione"),i.a.createElement("h3",{className:"pb-5"},i.a.createElement(_e,{dataTip:"(L.R. 65/2014)",text:"Software per la formazione e gestione dei piani"})),i.a.createElement("hr",{className:"border-serapide border-bottom"}),i.a.createElement("div",{className:"py-4 d-flex flex-row"},i.a.createElement("div",{className:"d-flex flex-column "},i.a.createElement("h2",null,"".concat(t||""," ").concat(n||""))),c&&i.a.createElement(ke,{size:"md",tag:"a",href:"./#/nuovo_piano",className:"ml-auto my-auto text-uppercase",color:"serapide",icon:"note_add",label:"Crea nuovo piano"})),i.a.createElement("h5",{className:"py-5"},"I MIEI PIANI"),i.a.createElement(pi,null),i.a.createElement("span",{className:"legenda"},"LEGENDA NOTIFICHE"),i.a.createElement("div",{className:"mr-4 pt-2 pb-5 d-flex flex-row justify-content-start legenda"},i.a.createElement("i",{className:"material-icons mr-1 urgente"},"notification_important"),i.a.createElement("span",null,"Il piano ha della azioni necessarie o in attesa")),i.a.createElement("h6",{className:"py-5"},"MESSAGGI "),i.a.createElement(Te,{messaggi:o}),i.a.createElement("a",{href:"/users/messages/inbox/",className:"mr-4 pt-4 pb-5 d-flex flex-row justify-content-end nav-link text-dark"},i.a.createElement("i",{className:"material-icons mr-2"},"email"),i.a.createElement("span",null,"Tutti i messaggi"))))},fi=t(108),Ei=function(e){var a=e.value,t=e.onChange,n=void 0===t?function(e,a){}:t,o=e.className,r=e.error,c=e.isLoading,l=void 0!==c&&c,s=e.tipiPiano,d=void 0===s?[]:s,u=e.placeholder,m=void 0===u?"Selezionare il tipo piano...":u;return i.a.createElement(fi.a,{placeholder:m,isDisabled:!!r,onChange:n,value:a,isLoading:l,className:o,options:d,classNamePrefix:"tipo",filter:!0})},gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.tipo,t=e.nome;return"".concat(a," - ").concat(t)},bi=function(e){return e.ipa},Ni=Object(ze.a)(function(e){e.enti;var a=e.value,t=e.showSelected;return!a||!(void 0===t||t)},Object(ze.e)(function(e){var a=e.value,t=e.onChange,n=void 0===t?function(){}:t,o=e.className,r=e.enti,c=e.isLoading,l=void 0!==c&&c;return i.a.createElement(fi.a,{getOptionLabel:gi,getOptionValue:bi,placeholder:"Selezionare ente",onChange:n,value:a,className:o,options:r,classNamePrefix:"tipo",isLoading:l})}),Object(ze.e)(function(e){var a=e.className,t=e.enti,n=void 0===t?[]:t,o=e.value,r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).code,l=r.type,s=(l=void 0===l?{}:l).tipo,d=e.onChange,u=void 0===d?function(){}:d;e.isLoading;return i.a.createElement("span",{className:"".concat(a," d-flex flex-row justify-content-between text-uppercase")},i.a.createElement("span",null,"id ".concat(s," ").concat(c)),n.length>1&&i.a.createElement("span",{className:"link-icon",onClick:function(){return u()}},"X"))}))(function(){return null}),zi=Object(ze.b)(Ie({onUpdate:!1}),Object(ze.h)({},{selectTipo:function(){return function(e){return{tipo:e}}},selectEnte:function(){return function(e){return{ente:e}}}}),Object(ze.f)(["isLoading","isSaving","tipiPiano","tipo","ente"],function(e){var a=e.tipiPiano,t=void 0===a?[]:a,n=e.tipo,i=e.enti,o=e.ente,r=Object(w.a)(e,["tipiPiano","tipo","enti","ente"]);return Object(H.a)({tipo:!n&&t.length>0?t[0]:n,ente:!o&&i.length>0?i[0]:o},r)})),hi=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data,t=(a=void 0===a?{}:a).createPiano.nuovoPiano;try{var n=(e.readQuery({query:Fa})||{}).piani,i=void 0===n?{}:n,o="".concat(t.__typename,"Edge");i.edges=i.edges.concat([{__typename:o,node:t}]),e.writeQuery({query:Fa,data:{piani:i}})}catch(r){console.warn("Query piani non inizializzata")}},Ai=zi(function(e){var a=e.creaPiano,t=e.selectTipo,n=e.tipo,o=e.isLoading,r=e.isSaving,c=e.enti,l=e.ente,s=e.selectEnte,d=e.tipiPiano;return i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("h4",{className:"text-uppercase"},ee(l)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row pb-4 pt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h3",{className:"mb-0 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-34"},"assignment")," FORMAZIONE DI UN NUOVO ATTO DEL TERRITORIO")),i.a.createElement("div",{style:{paddingLeft:49,maxWidth:400},className:"col-sm-12"},i.a.createElement("span",{className:"pt-6 d-flex flex-row justify-content-between text-uppercase"},ae(l)),c&&i.a.createElement(Ni,{className:"",enti:c,onChange:s,isLoading:o,value:l,showSelected:!1}),i.a.createElement("div",{className:"pt-4 pb-2 font-weight-bold"},"Atto di governo del territorio"),i.a.createElement("br",null),i.a.createElement("div",{className:"pb-1 small"},"Seleziona il tipo di atto"),i.a.createElement(Ei,{className:"mb-5 text-capitolize",onChange:t,tipiPiano:d,value:n,isLoading:o}),i.a.createElement(ke,{disabled:!function(e,a,t,n){return e&&!a&&t&&!n}(l.ipa,o,n,r),onClick:function(){return a(function(e){return{variables:{input:{pianoOperativo:{ente:{ipa:e.ipa},tipologia:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).value}}}}}(l,n))},size:"md",tag:"a",href:"./#/nuovo_piano",className:"mt-5 flex-column d-flex ext-uppercase align-items-center",color:"serapide",label:"CREA PIANO",isLoading:r})))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row pb-4 pt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Istruzioni per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify"}},"In questa sezione \xe8 possibile creare un nuovo atto di governo del Territorio e di conseguenza, aprire il relativo procedimento amministrativo.",i.a.createElement("br",null),"Dal men\xf9 \xe8 possibile selezionare il tipo di atto per il quale si intende avviare il procedimento  ",i.a.createElement(_e,{dataTip:"es: Piano Strutturale, Piano Operativo, Variante"}))),i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Documenti richiesti per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify"}},'Per poter creare l\'atto di governo del territorio \xe8 necessario compilare una anagrafica del Piano selezionato nella successiva sezione "CREA ANAGRAFICA". A tal fine \xe8 necessario inserire  l\u2019atto amministrativo di avvio del procedimento, specificandone il numero e la sua denominazione. Inoltre, sar\xe0 necessario indicare se l\u2019atto \xe8 assoggettato a VAS (ordinaria o semplificata, secondo le procedure previste dalla L.R. 10/2010) o se \xe8 necessario avviare la procedura di verifica di assoggettabilit\xe0 ',i.a.createElement(_e,{dataTip:"ordinaria o semplificata, secondo le procedure previste dalla L.R. 10/2010"})," ed allegare. In ogni caso, i relativii documenti richiesti di avvio alla procedura di VAS dovranno essere caricati in questo momento.",i.a.createElement(_e,{dataTip:"Documento preliminare o relazione motivata"}))),i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",{className:"text-uppercase"},"Informazioni richieste per la creazione del piano"),i.a.createElement("p",{style:{textAlign:"justify",marginBottom:0}},"Per poter procedere correttamente alla creazione del procedimento amministrativo finalizzato all\u2019approvazione dell\u2019atto di governo del territorio, \xe8 necessario essere in possesso delle seguenti informazioni:"),i.a.createElement("ul",{className:"pt-2"},i.a.createElement("li",null,"nominativo RUP"),i.a.createElement("li",null,"individuazione garante della comunicazione"),i.a.createElement("li",null,"estremi identificativi dell\u2019atto di avvio del procedimento"),i.a.createElement("li",null,"procedura di VAS necessaria ",i.a.createElement(_e,{dataTip:"secondo quanto previsto dalla L.R. 10/2010"}))))))))}),Oi=function(e){var a=e.enti;return i.a.createElement(l.c,{query:$a},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).tipologiaPiano,r=void 0===o?[]:o,c=e.error;return c&&_.toast.error(c.message,{autoClose:!0}),i.a.createElement(l.b,{mutation:In,onCompleted:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).createPiano.nuovoPiano;return window.location.href="#/crea_anagrafica/".concat(e.codice)},update:hi},function(e,n){var o=n.loading,c=n.error;Object(w.a)(n,["loading","error"]);return c&&_.toast.error(c.message),i.a.createElement(Ai,{enti:a,tipiPiano:r.filter(function(e){return"UNKNOWN"!==e.value}),creaPiano:e,isLoading:t,isSaving:o})})})},Ci=t(23),Ii=t(24),Si=t(26),Pi=t(25),yi=t(27),xi=t(385),Ri=(t(387),function(e){return{variables:{input:{data:e.toISOString()}}}}),Li=function(e){function a(){return Object(Ci.a)(this,a),Object(Si.a)(this,Object(Pi.a)(a).apply(this,arguments))}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onClick,t=e.value,n=e.disabled,o=e.readOnly,r=e.className,c=e.placeholder;return i.a.createElement(ke,{iconSize:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return e.startsWith("icon-")}).pop()}(r),fontSize:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return e.startsWith("size-")}).pop()}(r),disabled:n,className:"".concat(o&&"read-only"," ").concat(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return!e.startsWith("icon-")&&!e.startsWith("size-")}).join(" ")}(r)),label:t||c,color:"serapide",icon:"date_range",onClick:a})}}]),a}(i.a.PureComponent),ji=function(e){function a(){return Object(Ci.a)(this,a),Object(Si.a)(this,Object(Pi.a)(a).apply(this,arguments))}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onClick,t=e.value,n=void 0===t?"":t,o=n.trim().split(" ").slice(0,1).pop(),r=n.trim().split(" ").slice(1).join(" ");return i.a.createElement("div",{className:"row flex-fill p-2 text-serapide border pointer",onClick:a},i.a.createElement("div",{className:"col-6"},o||"Data"),i.a.createElement("div",{className:"col-6"},r||"Ora"))}}]),a}(i.a.PureComponent),Ti=function(e,a){_.toast.error(e.message,{autoClose:!0})},ki=function(e){var a=e.placeholder,t=void 0===a?"Seleziona Data":a,n=e.minDate,o=e.popperPlacement,r=e.useDateTime,c=void 0!==r&&r,s=e.showTimeSelect,d=void 0!==s&&s,u=e.className,m=e.isLocked,p=e.mutation,v=e.update,f=e.selected,E=e.disabled,g=e.iconSize,b=e.getInput,N=void 0===b?Ri:b,z=Object(w.a)(e,["placeholder","minDate","popperPlacement","useDateTime","showTimeSelect","className","isLocked","mutation","update","selected","disabled","iconSize","getInput"]);return i.a.createElement(l.b,Object.assign({mutation:p,update:v,onError:Ti},z),function(e,a){return i.a.createElement(xi.a,{popperPlacement:o,placeholderText:t,calendarClassName:c?"d-flex":void 0,showTimeSelect:d,readOnly:m,className:u,disabled:E,selected:f,iconSize:g,customInput:c?i.a.createElement(ji,null):i.a.createElement(Li,null),onChange:function(a){e(N(a))},timeFormat:"HH:mm",timeIntervals:15,minDate:n,dateFormat:c?"dd-MM-yyyy h:mm aa":"dd-MM-yyyy"})})},wi=t(397),_i=function(e){function a(e){var t;return Object(Ci.a)(this,a),(t=Object(Si.a)(this,Object(Pi.a)(a).call(this,e))).onDrop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.length>0&&(t.toggleOpen(),t.props.onFilesChange(e))},t.toggleOpen=function(){t.props.toggleOpen?t.props.toggleOpen():t.setState(function(){return{isOpen:!t.state.isOpen}})},t.getTitle=function(){return t.props.multiple?"Trascina i Files qui":"Trascina il File qui"},t.getLabel=function(){return t.props.multiple?"Seleziona i Files":"Seleziona il File"},t.renderChooser=function(){return i.a.createElement(wi.a,{disabled:t.props.isLocked,onDrop:t.onDrop,accept:t.props.fileType,multiple:t.props.multiple},function(e){var a=e.getRootProps,n=e.getInputProps,o=e.isDragActive,r=e.isDragAccept,c=e.isDragReject,l=e.rejectedFiles,s=void 0===l?[]:l,d=e.acceptedFiles,u=void 0===d?[]:d;return i.a.createElement("div",Object.assign({},a(),{style:{width:t.props.width||"auto"},className:Ne()("d-flex","align-items-center","flex-fill justify-content-around","dropzone","".concat(t.props.sz),{isRejected:o?c:s.length>0,isAccept:o?r:u.length>0},"".concat(t.props.fontSize))}),i.a.createElement("input",n()),i.a.createElement("i",{className:"material-icons text-serapide"},"cloud_upload"),i.a.createElement("span",{className:"title"},t.getTitle()),i.a.createElement("span",{className:"sub-title"},"oppure"),i.a.createElement(D.b,{className:t.props.fontSize,color:"serapide",size:t.props.sz},t.getLabel()))})},t.state=e.toggleOpen?{}:{isOpen:e.isOpen},t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){var e=this.props,a=e.modal,t=e.sz,n=e.isOpen,o=e.toggleOpen,r=e.showBtn,c=e.isLocked,l=e.fontSize,s=o?n:this.state.isOpen;if(a&&!s&&r)return i.a.createElement(D.b,{className:l,disabled:c,color:"serapide",onClick:this.toggleOpen},"Upload");var d=this.renderChooser();return a?i.a.createElement(D.j,{toggle:this.toggleOpen,isOpen:s,centered:!0,size:"".concat("lg"===t?"md":"sm"),wrapClassName:"serapide",autoFocus:!0},i.a.createElement(D.k,{className:"d-flex justify-content-center modal-body-file-chooser"},d)):d}}]),a}(i.a.Component);_i.defaultProps={sz:"sm",modal:!1,isOpen:!1,multiple:!0,showBtn:!1,onFilesChange:function(e){console.log(e)}};var Di=_i,Ui=function(e){var a=e.placeholder,t=e.isLoading,n=e.progress,o=e.icon,r=void 0===o?"picture_as_pdf":o,c=e.fontSize,l=e.iconSize,s=e.onCancel,d=e.file,u=void 0===d?{}:d,m=e.error,p=void 0!==m&&m,v=e.onRetry;return i.a.createElement("div",{className:"file-loader d-flex justify-content-between align-items-center flex-1 "},i.a.createElement("div",{className:"d-flex"},u.name&&i.a.createElement("i",{className:"material-icons text-serapide ".concat(l)},r),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(c)},i.a.createElement("span",null,u.name||a),i.a.createElement("span",{style:{fontSize:"0.8em"}},function(e){return e.size?"".concat(Math.round(e.size/1e5)/10," MB"):null}(u)))),t&&i.a.createElement("div",{className:"d-flex justify-content-center align-items-center loading ".concat(c)},i.a.createElement("div",{className:"prog text-dark"},Math.round(n),"%"),i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),i.a.createElement("i",{className:"material-icons text-danger pointer ".concat(l),onClick:s},"cancel")),p&&u.name&&!t&&i.a.createElement(D.b,{className:c,color:"danger",onClick:v},"Riprova"))},Vi=function(e){function a(e){var t;return Object(Ci.a)(this,a),(t=Object(Si.a)(this,Object(Pi.a)(a).call(this,e))).retry=function(){var e=t.props,a=e.file,n=e.variables;a&&t.props.upload({variables:Object(H.a)({file:a},n),context:{uploadProgress:t.uploadProgress}})},t.abort=function(){t.state.abort&&(t.state.abort(),t.props.onAbort(t.props.file.name))},t.state={},t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.hasMounted=!0,this.uploadProgress=function(a,t){a&&e.hasMounted&&e.setState(function(){return Object(H.a)({},a,{abort:t})})};var a=this.props,t=a.file,n=a.variables;t&&this.props.upload({variables:Object(H.a)({file:t},n),context:{uploadProgress:this.uploadProgress}})}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.file,n=a.variables,i=a.error;(!e.file&&this.props.file||i&&e.file!==this.props.file)&&this.props.upload({variables:Object(H.a)({file:t},n),context:{uploadProgress:this.uploadProgress}})}},{key:"render",value:function(){var e=this.state,a=e.loaded,t=void 0===a?0:a,n=e.total,o=void 0===n?1:n;return i.a.createElement(Ui,Object.assign({onRetry:this.retry,onCancel:this.abort,progress:t/o*100},this.props))}},{key:"componentWillUnmount",value:function(){this.uploadProgress=null,this.hasMounted=!1}}]),a}(i.a.Component);Vi.defaultProps={placeholder:"",isLoading:!1,variables:{},upload:function(){return console.warn("mutation function required")},onAbort:function(){}};var $i=Vi,Mi=function(e){e&&-1===e.message.indexOf("Operation canceled")&&_.toast.error(e.message,{autoClose:!0})},Fi=function(e){var a=e.mutation,t=e.update,n=e.variables,o=e.file,r=e.placeholder,c=e.fontSize,s=e.iconSize,d=e.onAbort,u=e.renderChooser,m=Object(w.a)(e,["mutation","update","variables","file","placeholder","fontSize","iconSize","onAbort","renderChooser"]);return i.a.createElement(l.b,Object.assign({mutation:a,update:t,onError:Mi},m),function(e,a){var t=a.error,l=a.data,m=(l=void 0===l?{}:l).upload,p=a.loading,v=!p&&(m&&!m.success||!!t);return p||!m||m.success||Mi({message:"Impossibile uplodare il file"}),i.a.createElement(i.a.Fragment,null,i.a.createElement($i,{isLoading:p,file:o,placeholder:r,upload:e,variables:n,error:v,onAbort:d,fontSize:c,iconSize:s}),u&&u(p))})},qi=function(e){return e?"".concat(Math.round(parseFloat(e)/100)/10," MB"):null},Zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.resource,t=(a=void 0===a?{}:a).downloadUrl,n=a.label,o=void 0===n?"":n,r=a.tooltip,c=void 0===r?"":r,l=a.nome,s=e.useLabel,d=e.fontSize,u=s&&o?o:l,m=i.a.createElement(_e,{dataTip:c,className:d,dataTipDisable:!s,text:u});return t?i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"text-dark ".concat(d),href:t,download:l},s&&c?m:u):i.a.createElement("span",{className:d},s&&c?m:u)},Bi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.downloadUrl,t=e.downloadIcon,n=e.nome,o=e.isLocked,r=e.iconClasses,c=e.confirm;return i.a.createElement(i.a.Fragment,null,a?i.a.createElement("a",{className:"text-dark d-flex",target:"_blank",rel:"noopener noreferrer",href:a,download:n},t," "):t,o?i.a.createElement("i",{className:r},"lock"):i.a.createElement("i",{className:"".concat(r," pointer"),onClick:c},"cancel"))},Gi=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.resource,n=void 0===t?{}:t,o=a.className,r=void 0===o?"resource":o,c=a.icon,l=void 0===c?"picture_as_pdf":c,s=a.iconSize,d=a.fontSize,u=a.codice,m=a.isLoading,p=a.isLocked,v=void 0===p||p,f=a.useLabel,E=void 0!==f&&f,g=a.fileSize,b=void 0===g||g,N=a.vertical,z=void 0!==N&&N,h=a.onDeleteResource,A=void 0===h?function(){console.warn("Delete mutation non passata")}:h,O=n.nome,C=n.uuid,I=n.lastUpdate,S=n.dimensione,P=n.downloadUrl,y=function(){return A({variables:{id:C,codice:u}})},x=function(){_.toast.isActive(e)||(e=_.toast.warn(i.a.createElement(ye,{confirm:y,id:C}),{autoClose:!0,draggable:!0,onClose:function(){e=null}}))},R="material-icons text-serapide ".concat(s),L=i.a.createElement("i",{className:" ".concat(R," pointer ")},v?"cloud_download":"check_circle");return Object(G.isEmpty)(n)?i.a.createElement("div",{className:"".concat(r," row align-items-center")}):z?i.a.createElement("div",{className:"".concat(r," row align-items-center")},i.a.createElement("div",{className:"col-10 d-flex"},i.a.createElement("i",{className:"".concat(R," align-self-center ")},l),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(d)},i.a.createElement(Zi,{fontSize:d,resource:n,useLabel:E}),E&&n.label&&i.a.createElement("span",null,n.nome),i.a.createElement("span",{className:"d-flex align-items-center"},I&&i.a.createElement("span",null,ne(I,"dd/MM/yyyy")),b&&i.a.createElement("span",{className:"offset-4 text-nowrap",style:{fontSize:"0.8em"}},qi(S))))),i.a.createElement("div",{className:"col-2 d-flex justify-content-end"},m?i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")):i.a.createElement(Bi,{downloadUrl:P,downloadIcon:L,nome:O,isLocked:v,iconClasses:R,confirm:x}))):i.a.createElement("div",{className:"".concat(r," row align-items-center")},i.a.createElement("div",{className:"col-6 d-flex"},i.a.createElement("i",{className:"".concat(R," align-self-center ")},l),i.a.createElement("div",{className:"pl-1 d-flex flex-column justify-content-between ".concat(d)},i.a.createElement(Zi,{fontSize:d,resource:n,useLabel:E}),b&&i.a.createElement("span",{style:{fontSize:"0.8em"}},qi(S)))),i.a.createElement("div",{className:"col-3 ".concat(d)},I&&ne(I,"dd/MM/yyyy")),i.a.createElement("div",{className:"col-3 d-flex justify-content-end"},m?i.a.createElement("div",{className:"spinner-grow text-serapide",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")):i.a.createElement(Bi,{downloadUrl:P,downloadIcon:L,nome:O,isLocked:v,iconClasses:R,confirm:x})))},Wi=function(e){var a=e.className,t=e.icon,n=e.resource,o=e.iconSize,r=e.fontSize,c=e.vertical,s=e.useLabel,d=e.codice,u=e.isLocked,m=e.mutation,p=void 0===m?zt:m,v=Object(w.a)(e,["className","icon","resource","iconSize","fontSize","vertical","useLabel","codice","isLocked","mutation"]);return i.a.createElement(l.b,Object.assign({mutation:p},v),function(e,l){var m=l.error,p=l.data,v=(p=void 0===p?{}:p).deleteRisorsa,f=l.loading;return m&&!f?_.toast.error(m.message,{autoClose:!0}):f||!v||v.success||_.toast.error("Impossibile eliminare la risorsa ",{autoClose:!0}),i.a.createElement(Gi,{icon:t,iconSize:o,fontSize:r,vertical:c,useLabel:s,className:a,isLoading:f,onDeleteResource:e,resource:n,codice:d,isLocked:u})})},Hi=function(e){function a(){var e,t;Object(Ci.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(Si.a)(this,(e=Object(Pi.a)(a)).call.apply(e,[this].concat(i)))).onFilesChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e[0]?t.setState(function(){return{file:e[0]}}):t.setState(function(){return{file:void 0}})},t.updateCache=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data;t.props.getSuccess(a)&&t.removeFile()},t.removeFile=function(){t.state&&t.state.file&&t.setState(function(){return{file:void 0}})},t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){var e=this,a=(this.state||{}).file,t=this.props,n=t.risorsa,o=t.variables,r=t.placeholder,c=t.isLocked,l=t.disabled,s=t.mutation,d=t.resourceMutation,u=t.modal,m=t.showBtn,p=t.sz,v=t.className,f=void 0===v?"":v,E=t.fileType,g=t.resIcon,b=t.fontSize,N=t.iconSize,z=t.vertical,h=t.useLabel;return n?i.a.createElement(Wi,{vertical:z,useLabel:h,fontSize:b,iconSize:N,icon:g,className:f,codice:o.codice,mutation:d,resource:n,isLocked:c}):i.a.createElement("div",{style:{minHeight:"3.813rem"},className:"".concat(f," file-loader d-flex justify-content-between border-top border-bottom align-items-center")},i.a.createElement(Fi,{mutation:s,file:a,placeholder:r,variables:o,update:this.updateCache,onAbort:this.removeFile,fontSize:b,iconSize:N,renderChooser:function(a){return i.a.createElement(Di,{fontSize:b,isLocked:l||!!a||c,multiple:!1,fileType:E,onFilesChange:e.onFilesChange,modal:u,showBtn:m,sz:p})}}))}},{key:"componentWillUnmount",value:function(){this.setState({file:void 0})}}]),a}(i.a.PureComponent);Hi.defaultProps={placeholder:"",variables:{},fileType:"application/pdf",isLocked:!0,disabled:!1,mutation:Nt,resourceMutation:zt,modal:!0,showBtn:!0,vertical:!1,useLabel:!1,getSuccess:function(e){return e.upload.success},sz:"lg",iconSize:"icon-15",fontSize:"size-11"};var Qi=Hi,Xi=function(e){function a(){var e,t;Object(Ci.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(Si.a)(this,(e=Object(Pi.a)(a)).call.apply(e,[this].concat(o)))).onFilesChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0?t.setState(function(){return{files:e}}):t.setState(function(){return{files:void 0}})},t.updateCache=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data;t.props.getSuccess(a)&&t.removeFile(t.props.getFileName(a))},t.renderRisorse=function(){var e=t.props,a=e.variables,n=e.resourceMutation,o=e.isLocked,r=e.iconSize,c=e.fontSize,l=e.vertical,s=e.useLabel;return t.props.risorse.map(function(e){return i.a.createElement(Wi,{vertical:l,useLabel:s,fontSize:c,iconSize:r,codice:a.codice,mutation:n,key:e.uuid,resource:e,isLocked:o})})},t.removeFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=t.state.files.filter(function(a){return a.name!==e});t.setState(function(){return{files:a}})},t.renderLoader=function(){var e=(t.state||{}).files,a=void 0===e?[]:e,n=t.props,o=n.variables,r=n.placeholder,c=n.fontSize,l=n.iconSize;return a.map(function(e){return i.a.createElement(Fi,{key:e.name,update:t.updateCache,mutation:t.props.mutation,file:e,placeholder:r,variables:o,onAbort:t.removeFile,fontSize:c,iconSize:l})})},t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"multiple-upload mt-3 pb-2 d-flex flex-column justify-content-between"},this.renderRisorse(),this.renderLoader()),i.a.createElement("div",{className:"align-self-start"},!this.props.isLocked&&i.a.createElement(Di,{fontSize:this.props.fontSize,isLocked:this.props.isLocked,disabled:this.props.isLocked,fileType:this.props.fileType,multiple:this.props.multiple,onFilesChange:this.onFilesChange,sz:"sm"})))}}]),a}(i.a.PureComponent);Xi.defaultProps={placeholder:"",variables:{},fileType:"application/pdf",risorse:[],isLocked:!0,disabled:!1,multiple:!0,mutation:Nt,resourceMutation:zt,getSuccess:function(e){return e.upload.success},getFileName:function(e){return e.upload.fileName}};var Ji=Xi,Yi=Ce("checked","toggleSwitch",!1),Ki=function(e){var a=e.isLocked,t=e.label,n=e.value,o=e.toggleSwitch,r=void 0===o?function(e){console.log(e)}:o,c=e.className,l=e.children,s=e.checked,d=e.labelClassName,u=void 0===d?"col-xl-4 col-lg-6 col-md-6 col-10":d;return!a||s?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{key:n,className:Ne()("strt-switch","row",c,{"mt-3":a})},i.a.createElement("span",{className:u},t),!a&&i.a.createElement("div",{className:"switch-label custom-control custom-switch col-1"},i.a.createElement("label",{onClick:function(){a||r(!s,n)},style:{cursor:a?"not-allowed":"pointer"},className:Ne()("custom-control-label",{"border-serapide bg-serapide":s,checked:s})}))),Object(G.isFunction)(l)&&l(s)):null},eo=Ki,ao=function(e,a){_.toast.error(e.message,{autoClose:!0})},to=function(){return{variables:{input:{}}}},no=function(e){var a=e.isLocked,t=e.mutation,n=e.update,o=e.getInput,r=void 0===o?to:o,c=e.label,s=e.value,d=e.className,u=e.children,m=e.checked,p=e.labelClassName,v=e.ignoreChecked,f=void 0!==v&&v,E=Object(w.a)(e,["isLocked","mutation","update","getInput","label","value","className","children","checked","labelClassName","ignoreChecked"]);return i.a.createElement(l.b,Object.assign({mutation:t,update:n,onError:ao},E),function(e,t){return i.a.createElement(Ki,{isLocked:a,toggleSwitch:function(a,t){(a||f)&&e(r(t))},label:c,value:s,className:d,children:u,checked:m,labelClassName:p})})},io=(Yi(Ki),Ce("isOpen","toggleOpen",!1)),oo=function(e){var a=e.option,t=(a=void 0===a?{}:a).value,n=a.label,o=a.tipologia,r=e.selected,c=void 0!==r&&r,l=e.onClick;return i.a.createElement(D.i,{onClick:function(){return l(t,{uuid:t,tipologia:o})}},i.a.createElement("span",{className:"row d-flex pointer"},i.a.createElement("span",{className:"col-1"},i.a.createElement("i",{className:Ne()("material-icons",{"text-serapide":c})},c?"radio_button_checked":"radio_button_unchecked")),i.a.createElement("span",{className:"col-4"},n),i.a.createElement("span",{className:"col-4"},i.a.createElement("small",null,o))))},ro=io(function(e){var a=e.size,t=e.children,n=e.label,o=e.selected,r=void 0===o?[]:o,c=e.isOpen,l=e.toggleOpen,s=e.onChange,d=void 0===s?function(){}:s,u=e.btn,m=e.items,p=void 0===m?[]:m,v=e.getOption,f=void 0===v?function(e){return{value:e.value,label:e.label,tipologia:e.tipologia}}:v;return i.a.createElement(i.a.Fragment,null,u&&u(l),i.a.createElement(D.j,{size:a,isOpen:c,toggle:l,wrapClassName:"serapide",autoFocus:!0},i.a.createElement(D.m,{toggle:l},n),i.a.createElement(D.k,null,i.a.createElement("div",{style:{maxHeight:"60vh",overflowY:"scroll"}},i.a.createElement(D.h,null,p.map(function(e){var a=f(e)||{};return i.a.createElement(oo,{key:a.value,option:a,onClick:d,selected:-1!==r.indexOf(a.value)})})))),i.a.createElement(D.l,{style:{display:"block"}},t)))}),co=function(e){return[]},lo=function(e){var a=e.query,t=e.variables,n=e.getList,o=void 0===n?co:n,r=Object(w.a)(e,["query","variables","getList"]);return i.a.createElement(l.c,{query:a,variables:t},function(e){var a=e.loading,t=e.data,n=e.error;return n&&_.toast.error(n.message,{autoClose:!0}),i.a.createElement(ro,Object.assign({isLoading:a,items:o(t)},r))})},so=Ce("isOpen","toggleOpen",!1),uo=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,"STAI PER INVIARE I DOCUMENTI"),i.a.createElement("h4",null," AL SISTEMA"),i.a.createElement("h6",null,"Attenzione! La procedura non \xe8 reversibile"))},mo=so(function(e){var a=e.mutation,t=e.variables,n=e.fontSize,o=e.iconSize,r=e.toggleOpen,c=e.isOpen,s=e.canCommit,d=void 0!==s&&s,u=e.onCompleted,m=e.label,p=void 0===m?"SALVA ED INVIA":m,v=e.tipIconColor,f=void 0===v?"danger":v,E=e.messaggio,g=void 0===E?i.a.createElement(uo,null):E,b=d?p:i.a.createElement(_e,{color:f,dataTip:"Informazioni mancanti",text:p});return i.a.createElement(l.b,{mutation:a,onError:ce,onCompleted:u},function(e,a){var l=a.loading;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ke,{isLoading:l,fontSize:n,iconSize:o,onClick:r,className:"my-auto text-uppercase",disabled:!d,color:"serapide",label:b}),c&&i.a.createElement(D.j,{isOpen:c,centered:!0,size:"md",wrapClassName:"serapide salva-invia",autoFocus:!0},i.a.createElement(D.m,{className:"d-flex justify-content-center"},i.a.createElement("i",{className:"material-icons text-serapide icon-34"},"notifications_active")),i.a.createElement(D.k,{className:"d-flex justify-content-center flex-column pt-0 px-5 pb-5  align-items-center justify-item-center"},g,i.a.createElement("div",{className:"sv-button pt-5 d-flex justify-content-around"},i.a.createElement(ke,{label:"ANNULLA",color:"serapide",disabled:l,onClick:r}),i.a.createElement(ke,{label:"SALVA",isLoading:l,disabled:l,color:"serapide",onClick:function(){e({variables:t})}})))))})}),po=le("proceduraVas"),vo={className:"col-xl-12",iconSize:"icon-24",fontSize:"size-15",mutation:ht,resourceMutation:At},fo=Ie({onUpdate:!1})(function(e){var a=e.codice,t=e.consultazioneSCA,n=void 0===t?{}:t,o=e.canUpdate,r=e.isLocked,c=e.Vas,s=(void 0===c?{}:c).node,d=(s=void 0===s?{}:s).uuid,u=s.tipologia,m=s.dataAssoggettamento,p=s.assoggettamento,v=s.piano,f=(v=void 0===v?{}:v).soggettoProponente,E=v.soggettiOperanti,g=void 0===E?[]:E,b=s.risorse,N=(b=void 0===b?{}:b).edges,z=void 0===N?[]:N,h=(f||{}).ufficio,A=void 0===h?{}:h,O=n.node,C=(O=void 0===O?{}:O).avvioConsultazioniSca,I=O.dataAvvioConsultazioniSca,S=(z.filter(function(e){return"vas_semplificata"===e.node.tipo}).pop()||{}).node,P=(z.filter(function(e){return"vas_verifica"===e.node.tipo}).pop()||{}).node,y=(z.filter(function(e){return"doc_proc_semplificato"===e.node.tipo}).pop()||{}).node,x="SEMPLIFICATA"===u||"NON_NECESSARIA"===u,R=g.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"AC"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),L=g.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio;return"SCA"===(e=void 0===e?{}:e).qualifica}).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio}),j=!r&&o&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;switch(e.toLowerCase()){case"semplificata":return i&&t.length>0&&!!a;case"verifica":return o&&t.length>0&&n.length>0&&!!a;case"procedimento":return t.length>0&&n.length>0&&!!a;case"non_necessaria":return!!a;case"procedimento_semplificato":return r&&t.length>0&&n.length>0&&!!a;default:return!1}}(u,A,R,L,S,P,y),T=po(d,"tipologia"),k=z.filter(function(e){return"parere_sca"===e.node.tipo}).reduce(function(e,a){var t=a.node;return e[t.user.fiscalCode]?e[t.user.fiscalCode].push(t):e[t.user.fiscalCode]=[t],e},{});return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"pt-4"},"PROCEDIMENTO VAS"),!r&&i.a.createElement("span",{className:"p-3 pb-5"},"NOTA : Le opzioni sono escludenti. Se viene selezionata la richiesta della VAS semplificata \xe8 richiesto l\u2019upload della Relazione Motivata; se viene selezionata la Richiesta di Verifica VAS \xe8 richiesto l\u2019upload del documento preliminare di verifica; se si seleziona il Procedimento Vas si decide di seguire il procedimento VAS esteso."),i.a.createElement(no,{isLocked:r,getInput:T,mutation:xn,value:"semplificata",checked:"SEMPLIFICATA"===u,label:i.a.createElement(_e,{dataTip:"art.5 co.3ter L.R. 10/2010",text:"PROCEDIMENTO DI VERIFICA SEMPLIFICATA"}),className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(Qi,Object.assign({},vo,{disabled:!e,isLocked:!e||r,risorsa:S,placeholder:i.a.createElement(_e,{dataTip:"art.5 co.3ter L.R. 10/2010",text:"Relazione motivata per VAS semplificata"}),variables:{codice:d,tipo:"vas_semplificata"}})))}),i.a.createElement(no,{isLocked:r,getInput:T,mutation:xn,value:"verifica",checked:"VERIFICA"===u,label:i.a.createElement(_e,{dataTip:"art.22 L.R. 10/2010",text:"RICHIESTA VERIFICA DI  ASSOGGETTABILITA'"}),className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(Qi,Object.assign({},vo,{disabled:!e,isLocked:!e||r,risorsa:P,placeholder:i.a.createElement(_e,{dataTip:"art.22 L.R. 10/2010",text:"Documento preliminare"}),variables:{codice:d,tipo:"vas_verifica"}})))}),i.a.createElement(no,{isLocked:r,getInput:T,mutation:xn,value:"procedimento_semplificato",label:i.a.createElement(_e,{dataTip:"art.8 co.5 L.R. 10/2010",text:"PROCEDIMENTO SEMPLIFICATO"}),checked:"PROCEDIMENTO_SEMPLIFICATO"===u,className:"mt-5 mb-4"},function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(Qi,Object.assign({},vo,{disabled:!e,isLocked:!e||r,risorsa:y,placeholder:i.a.createElement(_e,{dataTip:"art. 8, 22 e 23 L.R. 10/2010",text:"Documento preliminare"}),variables:{codice:d,tipo:"doc_proc_semplificato"}})))}),i.a.createElement(no,{isLocked:r,getInput:T,mutation:xn,value:"procedimento",checked:"PROCEDIMENTO"===u,label:"PROCEDIMENTO VAS (AVVIO)",className:"mt-5"},function(){return i.a.createElement("div",{className:"row"},i.a.createElement("span",{className:"p-3 col-xl-12"},"Scegliendo \u201cProcedura VAS\u201d verr\xe0 inviata una comunicazione all\u2019autorit\xe0 procedente e proponente (AP/P) che avvier\xe0 le consultazioni degli Soggetti Competenti in Materia Ambientale (SCA)"))}),i.a.createElement(no,{isLocked:r,getInput:T,mutation:xn,value:"non_necessaria",checked:"NON_NECESSARIA"===u,label:"VAS NON NECESSARIA",className:"mt-5"},function(){return i.a.createElement("div",{className:"row"},i.a.createElement("span",{className:"p-3 mb-5 col-xl-12"},"In questo caso per il piano non \xe8 necessaria alcuna VAS "))}),i.a.createElement("div",{className:"d-flex mt-2 pt-2 justify-content-between mb-3"},i.a.createElement("div",{style:{minWidth:"33%"}},r?i.a.createElement("span",null,"SOGGETTO PROPONENTE"):i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:A?[A.uuid]:[],query:Za,variables:{tipo:"resp"},getList:ue,label:"DEFINISCI SOGGETTO PROPONENTE",size:"lg",onChange:function(t){var n=t;A&&A.uuid===t&&(n=null),e({variables:{input:{pianoOperativo:{soggettoProponenteUuid:n},codice:a}}})},btn:function(e){return i.a.createElement(ke,{iconSize:"icon-20",fontSize:"size-11",disabled:r,onClick:e,className:"my-auto text-uppercase",color:"serapide",icon:"add_circle",label:"SOGGETTO PROPONENTE"})}})}),A&&A.nome&&i.a.createElement("div",{className:"d-flex pt-3",key:A.uuid},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(A.ente&&A.ente.nome," ").concat(A.nome))),i.a.createElement("div",{style:{minWidth:"33%"}},r?i.a.createElement("span",null,"AUTORITA\u2019 COMPETENTE VAS"):i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:R.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:Za,getList:ue,onChange:function(t,n){var i=n.tipologia,o=n.uuid,r=R.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(r=r.filter(function(e){var a=e.ufficioUuid;return o!==a})).length===R.length&&(r=[{qualifica:i,ufficioUuid:o}]),e({variables:{input:{pianoOperativo:{soggettiOperanti:r.concat(L.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:a}}})},variables:{tipo:"ac"},size:"lg",label:"SELEZIONA AUTORITA\u2019 COMPETENTE VAS",btn:function(e){return i.a.createElement(ke,{iconSize:"icon-20",fontSize:"size-11",disabled:r,onClick:e,className:"text-uppercase",color:"serapide",icon:"add_circle",label:"AUTORITA\u2019 COMPETENTE VAS (AC)"})}})}),R.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))})),i.a.createElement("div",{style:{minWidth:"33%"}},r?i.a.createElement("span",null,"SOGGETTI COMPETENTI IN MATERIA AMBIENTALE"):i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:L.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:Za,variables:{tipo:"sca"},getList:ue,label:"DEFINISCI SCA",size:"lg",onChange:function(t,n){var i=n.tipologia,o=n.uuid,r=L.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(r=r.filter(function(e){return e.ufficioUuid!==o})).length===L.length&&(r=r.concat({qualifica:i,ufficioUuid:o})),e({variables:{input:{pianoOperativo:{soggettiOperanti:r.concat(R.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}}))},codice:a}}})},btn:function(e){return i.a.createElement(ke,{iconSize:"icon-20",fontSize:"size-11",onClick:e,className:"my-auto text-uppercase",disabled:x||r,color:"serapide",icon:"add_circle",label:"SOGGETTI COMPETENTI IN MATERIA AMBIENTALE (SCA)"})}})}),L.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente,r=(o=void 0===o?{}:o).nome;return i.a.createElement("div",{className:"d-flex pt-3",key:n},i.a.createElement("i",{className:"material-icons text-serapide"},"bookmark"),"".concat(r," ").concat(t))}))),!r&&i.a.createElement("div",{className:"d-flex mt-5 pt-5  justify-content-end"},i.a.createElement(mo,{mutation:Pn,variables:{codice:a},canCommit:j})),r&&!!m&&i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},p?"check_box":"check_box_outline_blank"),i.a.createElement("span",{className:"pl-1"},"ESITO: ",p?"Assoggettamento VAS":"Esclusione VAS")),i.a.createElement("span",{className:"col-4"},m&&ne(m))),C&&i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},"check_box"),i.a.createElement("span",{className:"pl-1"},"Avvio Consultazioni SCA")),i.a.createElement("span",{className:"col-4"},I&&ne(I)),i.a.createElement("div",{className:"col-12 pt-2"}),Object(G.map)(k,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"col-12 pt-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},oe(e[0].user))),e.map(function(e){return i.a.createElement(Gi,{key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))})))}),Eo=function(e){var a=e.codice,t=e.canUpdate,n=e.isLocked;return i.a.createElement(l.c,{query:qa,variables:{codice:a},onError:ce},function(e){var o=e.loading,r=e.data,s=(r=void 0===r?{}:r).modello,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return i.a.createElement(l.c,{query:Va,variables:{codice:a},onError:ce},function(e){var r=e.loadingC,c=e.data,l=(c=void 0===c?{}:c).modello,s=(l=void 0===l?{}:l).edges,d=void 0===s?[]:s;return o||r?i.a.createElement("div",{className:"serapide-content pt-5 pb-5 pX-md px-1 serapide-top-offset position-relative overflow-x-scroll"},i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))):i.a.createElement(fo,{codice:a,consultazioneSCA:d[0],canUpdate:t,isLocked:n,Vas:u})})})},go=Object(G.debounce)(function(e,a,t){e(a(t))},500),bo=function(e){var a=e.className,t=e.rows,n=e.disabled,o=e.mutation,r=e.value,c=e.update,s=(e.selected,e.type),d=void 0===s?"textarea":s,u=e.placeholder,m=e.getInput,p=void 0===m?function(e){return{variables:{input:{descrizione:e}}}}:m,v=Object(w.a)(e,["className","rows","disabled","mutation","value","update","selected","type","placeholder","getInput"]);return i.a.createElement(l.b,Object.assign({mutation:o,onError:ce,update:c},v),function(e,o){var c=o.error;return i.a.createElement(D.f,{rows:t,className:a,invalid:c,disabled:n,onChange:function(a){var t=a.target.value;go(e,p,t)},type:d,name:"text",defaultValue:c?"":r,placeholder:u})})},No=function(e){var a=e.match,t=(a=void 0===a?{}:a).params,n=(t=void 0===t?{}:t).code,o=(e.selectDataDelibera,e.dataDelibera,e.numeroDelibera);Object(w.a)(e,["match","selectDataDelibera","dataDelibera","numeroDelibera"]);return i.a.createElement(l.c,{query:Fa,variables:{codice:n},fetchPolicy:"network-only"},function(e){var a=e.loading,t=e.data,r=(t=void 0===t?{}:t).piani,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0],d=(s=void 0===s?{}:s).node,u=void 0===d?{}:d;e.error;if(a)return i.a.createElement("div",{className:"serapide-content pt-5 pb-5 pX-md px-1 serapide-top-offset position-relative overflow-x-scroll"},i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))));if(!u.codice)return _.toast.error("Impossobile trovare il piano: ".concat(n),{autoClose:!0}),i.a.createElement("div",null);var m=u.ente,p=u.fase,v=u.risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=u.tipo,b=void 0===g?"":g,N=u.codice,z=void 0===N?"":N,h=u.dataDelibera,A=u.descrizione,O="DRAFT"!==p,C=(E.filter(function(e){return"delibera"===e.node.tipo}).pop()||{}).node,I=E.filter(function(e){return"delibera_opts"===e.node.tipo}).map(function(e){return e.node})||{};return O&&(window.location.href="#/pino/".concat(n,"/anagrafica")),i.a.createElement("div",{className:"py-5 px-7"},i.a.createElement("div",{className:"d-flex flex-column "},i.a.createElement("h4",{className:"text-uppercase"},ee(m)),i.a.createElement("div",{className:"pb-4 pt-3 d-flex flex-row"},i.a.createElement("i",{className:"material-icons text-serapide icon-34 pr-4 "},"assignment"),i.a.createElement("div",{className:"d-flex flex-column flex-fill"},i.a.createElement("h3",{className:"mb-0"},"CREA ANAGRAFICA"),i.a.createElement("h3",{className:"mb-0 text-capitalize"},"".concat(function(e){return"variante"===e?"".concat(e," piano"):"piano ".concat(e)}(b.toLowerCase())," ").concat(z)),i.a.createElement("span",{className:"pt-5"},ae(m)),i.a.createElement("h5",{className:"pt-5 pb-2"},"Delibera di Consiglio/Giunta"),i.a.createElement("div",{className:"row d-flex align-items-center"},i.a.createElement("span",{className:"col-4 "},"DELIBERA DEL"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(ki,{disabled:O,selected:h?new Date(h):void 0,mutation:Sn,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{dataDelibera:a.toISOString()},codice:e}}}}}(z)}))),i.a.createElement("div",{className:"row d-flex pt-5 align-items-center "},i.a.createElement("span",{className:"col-4"},"DENOMINAZIONE DELL\u2019ATTO"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(bo,{disabled:O,value:A,mutation:Sn,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{descrizione:a},codice:e}}}}}(z)}))),i.a.createElement("div",{className:"row d-flex pt-5 align-items-center "},i.a.createElement("span",{className:"col-4"},"NUMERO DELIBERA"),i.a.createElement("div",{className:"col-8 "},i.a.createElement(bo,{disabled:O,rows:1,value:o,mutation:Sn,getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{numeroDelibera:a},codice:e}}}}}(z)}))),i.a.createElement("span",{className:"pt-5"},"DELIBERA DI AVVIO DEL PROCEDIMENTO"),i.a.createElement("span",{className:"pb-2 font-weight-light"},"Caricare delibera, formato obbligatorio pdf"),i.a.createElement(Qi,{useLabel:!0,iconSize:"icon-24",fontSize:"size-15",placeholder:"Delibera (obbligatoria)",variables:{codice:z,tipo:"delibera"},risorsa:C,isLocked:O}),i.a.createElement("span",{className:"pt-5"},"ALTRI DOCUMENTI"),i.a.createElement("span",{className:"font-weight-light"},"Caricare eventuali allegati trascinando i files nel riquadro, formato obbligatorio pdf"),i.a.createElement(Ji,{risorse:I,variables:{codice:z,tipo:"delibera_opts"},isLocked:O}),i.a.createElement("div",{style:{borderBottom:"2px dashed"},className:"mt-5 text-serapide"}),i.a.createElement(Eo,{codice:z,canUpdate:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e&&a&&t}(h,C,A),isLocked:O})))))})},zo=function(e){var a=e.children,t=void 0===a?[]:a,n=e.className;return i.a.createElement("div",{className:"d-flex border-top pb-4"},i.a.createElement("div",{className:"piano-page-content border flex-fill ".concat(n)},t))},ho=function(e){var a=e.icon,t=e.title,n=e.iconClassName,o=void 0===n?"material-icons icon-30 text-white bg-serapide p-2 mr-2 rounded-circle":n;return i.a.createElement("span",{className:"d-flex align-items-center justify-content-center mb-5"},i.a.createElement("i",{className:o},a),i.a.createElement("div",{className:"size-26"},t))},Ao=function(e){var a=e.match,t=(a=void 0===a?{}:a).params,n=(t=void 0===t?{}:t).code;Object(w.a)(e,["match"]);return i.a.createElement(l.c,{query:Fa,variables:{codice:n}},function(e){var a=e.loading,t=e.data,o=(t=void 0===t?{}:t).piani,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];e.error;if(a)return i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")));if(!l)return _.toast.error("Impossobile trovare il piano: ".concat(n),{autoClose:!0}),i.a.createElement("div",null);var s=l.node,d=(s=void 0===s?{}:s).ente,u=s.fase.nome,m=s.risorse,p=(m=void 0===m?{}:m).edges,v=void 0===p?[]:p,f=s.codice,E=void 0===f?"":f,g=s.dataDelibera,b=s.numeroDelibera,N="DRAFT"!==u,z=(v.filter(function(e){return"delibera"===e.node.tipo}).pop()||{}).node,h=v.filter(function(e){return"delibera_opts"===e.node.tipo}).map(function(e){return e.node})||[];return N||(window.location.href="#/crea_anagrafica/".concat(n)),i.a.createElement(zo,null,i.a.createElement(ho,{icon:"assignment",title:"ANAGRAFICA"}),i.a.createElement("div",{className:"d-flex flex-column flex-fill"},i.a.createElement("div",{className:"pt-5 row"},i.a.createElement("div",{className:"col-12 py-2"},"ID ",ae(d)),i.a.createElement("div",{className:"col-12 py-2 pt-4"},"DELIBERA DEL ",ne(g),"  \xa0 N\xb0 ",null!==b&&void 0!==b?b:"N\xb0 delibera non selezionato"),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:z,isLocked:!0})," "),i.a.createElement("div",{className:"col-12 pt-4 pb2"},"ALTRI DOCUMENTI",h.length>0?h.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 px-0 py-2"},"Nessun allegato presente"))),i.a.createElement("div",{style:{borderBottom:"2px dashed"},className:"mt-5 text-serapide"}),i.a.createElement(Eo,{codice:E,canUpdate:!1,isLocked:N})))})},Oo=t(443),Co=function(e,a){var t=e.order;return a.order-t},Io=Ie()(function(e){var a=e.azioni,t=void 0===a?[]:a,n=e.filtroFase,o=void 0===n?"anagrafica":n,r=e.className,c=e.onExecute,l=void 0===c?function(){}:c;return i.a.createElement(D.s,{size:"sm",className:r,hover:!0},i.a.createElement("thead",null,i.a.createElement("tr",{className:"size-11"},i.a.createElement("th",null,"Stato"),i.a.createElement("th",null,"Azione"),i.a.createElement("th",null,"Attori"),i.a.createElement("th",null,"Data"),i.a.createElement("th",null))),i.a.createElement("tbody",null,t.filter(function(e){var a=e.fase;return(void 0===a?"":a).toLowerCase()===o}).sort(Co).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.stato,t=void 0===a?"":a,n=e.qualificaRichiesta,o=void 0===n?"":n,r=e.tipologia,c=void 0===r?"":r,s=e.label,d=void 0===s?"":s,u=e.eseguibile,m=void 0!==u&&u,p=e.tooltip,v=void 0===p?"":p,f=e.data,E=e.uuid,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return"nessuna"===e.toLowerCase()?e.toLowerCase():a?"necessaria":"attesa"}(t,m);return i.a.createElement("tr",{key:E},i.a.createElement("td",null,i.a.createElement("i",{className:"icon-18 material-icons ".concat(function(e){switch(e){case"NECESSARIA":case"ATTESA":return"text-serapide";default:return""}}(g))},function(e){switch(e){case"NECESSARIA":return"alarm_add";case"ATTESA":return"alarm_on";default:return"alarm_off"}}(g))),i.a.createElement("td",null,v?i.a.createElement(_e,{className:"size-11",dataTip:v,dataTipDisable:!v,text:d}):i.a.createElement("span",{className:"size-11"},d)),i.a.createElement("td",null,i.a.createElement("span",{className:"size-11"},o)),i.a.createElement("td",{className:"".concat("attesa"===g?"text-serapide":"")},i.a.createElement("span",{className:"d-flex size-11"},"attesa"===g&&i.a.createElement("i",{className:"material-icons icon-18 text-serapide"},"notifications_activex"),i.a.createElement("span",{className:"my-auto size-11"},f&&ne(f)))),i.a.createElement("td",{className:"".concat("nessuna"!==g&&m?"pointer":"")},"nessuna"!==g&&m&&i.a.createElement("i",{className:"material-icons text-serapide",onClick:function(){return l(c,E)}},"play_circle_filled")))})))}),So=Ce("checked","toggle",!1)(function(e){var a=e.fase,t=e.className,n=e.checked,o=e.toggle,r=e.goToSection,c=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()("d-flex","flex-column",t)},i.a.createElement("div",{className:"d-flex pb-1"},i.a.createElement("i",{className:"material-icons icon-20"},"folder_open"),i.a.createElement("span",{className:"pl-2 text-uppercase"},a)),i.a.createElement("div",{className:"d-flex strt-switch"},i.a.createElement("div",{className:"custom-control custom-switch border-top pt-2 d-flex"},i.a.createElement("label",{onClick:o,className:Ne()("custom-control-label pointer",{"border-serapide bg-serapide":n,checked:n})}),i.a.createElement("span",{className:"size-10 my-auto"},"Visualizza attivit\xe0")),i.a.createElement("div",{className:"d-flex border-top pl-2 pt-2"},i.a.createElement("i",{className:"material-icons pointer text-serapide icon-22",onClick:r},"exit_to_app"),i.a.createElement("label",{className:"control-label pl-1 size-10 my-auto"},"Vai alla sezione")))),n&&c)}),Po=function(e){function a(){return Object(Ci.a)(this,a),Object(Si.a)(this,Object(Pi.a)(a).apply(this,arguments))}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"componentDidMount",value:function(){this.props.called||this.props.loading||this.props.triggerMutation()}},{key:"componentDidUpdate",value:function(){this.props.called||this.props.loading||this.props.triggerMutation()}},{key:"render",value:function(){return null}}]),a}(i.a.PureComponent),yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.a.createElement(l.b,e,function(a,t){var n=t.loading,o=t.called,r=Object(w.a)(t,["loading","called"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Po,{loading:n,called:o,triggerMutation:a}),Object(G.isFunction)(e.children)&&e.children(a,Object(H.a)({loading:n,called:o},r)))})},xo=function(e){var a=e.label,t=e.children,n=e.className,o=void 0===n?"py-3 border-bottom-2 border-top-2":n;return i.a.createElement("div",{className:o},i.a.createElement("div",{className:"action-title"},t||a))},Ro=function(e){var a=e.scadenza,t=e.iconSize,n=void 0===t?"":t,o=e.fontSize,r=void 0===o?"":o,c=e.formato,l=void 0===c?"dd MMMM yyyy":c,s=e.label,d=void 0===s?"Richiesta Comune":s,u=e.icon,m=void 0===u?"check_circle_outline":u,p=e.className,v=void 0===p?"row d-flex mb-3 mt-3":p;return i.a.createElement("div",{className:v},i.a.createElement("div",{className:"col-6 d-flex align-item-center"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(n)},m),i.a.createElement("span",{className:"pl-2 ".concat(r)},d)),i.a.createElement("div",{className:"col-6 ".concat(r)},a&&ne(a,l)))},Lo=function(e){var a=e.label,t=e.children,n=e.fontWeight,o=void 0===n?"font-weight-bold":n,r=e.className,c=void 0===r?"size-14 pb-1":r;return i.a.createElement("div",{className:"pt-5 ".concat(o||""," ").concat(c||"")},t||a)},jo=function(){return i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))},To=function(e){var a=e.label,t=e.children,n=e.className,o=void 0===n?"size-13":n,r=e.fontWeight,c=void 0===r?"font-weight-light":r;return i.a.createElement("div",{className:"pt-4 ".concat(c||""," ").concat(o||"")},t||a)},ko=function(e){var a=e.hideTitle,t=void 0!==a&&a,n=e.title,o=void 0===n?"SOGGETTI ISTITUZIONALI":n,r=e.contacts,c=void 0===r?[]:r,l=e.icon,s=void 0===l?"bookmark":l;return i.a.createElement(i.a.Fragment,null,!t&&i.a.createElement(To,{className:"pb-1 size-13 mt-2"},o),i.a.createElement("div",{className:"d-flex flex-wrap mt-2"},c.map(function(e){var a=e.ufficio,t=(a=void 0===a?{}:a).nome,n=a.uuid,o=a.ente.nome;return i.a.createElement("div",Object($.a)({key:n,className:"d-flex mr-2 flex-fill align-items-center size-11"},"key",n),i.a.createElement("i",{className:"material-icons text-serapide icon-13"},s),"".concat(o," ").concat(t))})))},wo=le("consultazioneVas"),_o=Ie()(function(e){var a=e.consultazioneSCA,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).avvioConsultazioniSca,o=t.dataCreazione,r=t.dataRicezionePareri,c=t.proceduraVas,s=(c=void 0===c?{}:c).uuid,d=c.dataAssoggettamento,u=c.tipologia,m=c.risorse,p=(m=void 0===m?{}:m).edges,v=void 0===p?[]:p,f=t.uuid,E=e.piano,g=(E=void 0===E?{}:E).codice,b=E.autoritaCompetenteVas,N=(b=void 0===b?{}:b).edges,z=void 0===N?[]:N,h=E.soggettiSca,A=(h=void 0===h?{}:h).edges,O=void 0===A?[]:A,C=e.back,I="SEMPLIFICATA"===u||"VERIFICA"===u,S=v.filter(function(e){return"provvedimento_verifica_vas"===e.node.tipo}).map(function(e){return e.node}).shift(),P=v.filter(function(e){return"documento_preliminare_vas"===e.node.tipo}).map(function(e){return e.node}).shift(),y=z.map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node;return(e=void 0===e?{}:e).uuid}),x=O.map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).node;return(e=void 0===e?{}:e).uuid}),R=wo(f,"avvioConsultazioniSca");return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Avvio Consultazioni SCA"),I?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"py-3 border-bottom"},i.a.createElement(Gi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 mt-4",icon:"attach_file",resource:S}),i.a.createElement("div",{className:"row mt-4 size-11"},i.a.createElement("div",{className:"col-6 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-15 self-align-center"},"assignment_turned_in"),i.a.createElement("span",{className:"pl-1 "},"ESITO: Assoggettamento VAS")),i.a.createElement("span",{className:"col-3"},d&&ne(d)))),i.a.createElement(ko,{title:"AUTORITA' COMPETENTE (AC)",contacts:z}),i.a.createElement("div",{className:"mt-3 pl-4 "},i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:y,query:Za,getList:ue,onChange:function(a){var t=-1!==y.indexOf(a)?[]:[a];e({variables:{input:{pianoOperativo:{autoritaCompetenteVas:t},codice:g}}})},variables:{tipo:"acvas"},size:"lg",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(ke,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"text-serapide rounded-pill",color:"dark",icon:"add_circle",label:"Autorit\xe0 competente VAS (AC)"}))}})})),i.a.createElement(ko,{title:"SOGGETTI COMPETENTI SCA",contacts:O}),i.a.createElement("div",{className:"mt-3 pl-4 border-bottom-2 pb-5"},i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:x,query:Za,variables:{tipo:"sca"},onChange:function(a){var t=[];t=-1!==x.indexOf(a)?x.filter(function(e){return e!==a}):x.concat(a),e({variables:{input:{pianoOperativo:{soggettiSca:t},codice:g}}})},getList:ue,label:"DEFINISCI SCA",size:"lg",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(ke,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"text-serapide rounded-pill",color:"dark",icon:"add_circle",label:"Soggetti competenti in materia ambientale (SCA)"}))}})}))):i.a.createElement(Ro,{fontSize:"size-11",iconSize:"icon-15",scadenza:o}),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"DOCUMENTO PRELIMINARE"),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start"},i.a.createElement(Qi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 ".concat(P?"":"flex-column"),sz:"sm",modal:!1,showBtn:!1,mutation:ht,resourceMutation:At,disabled:!1,isLocked:!1,risorsa:P,variables:{codice:s,tipo:"documento_preliminare_vas"}})),i.a.createElement("div",{className:"row pt-4 pl-0 "},i.a.createElement("div",{className:"col-7 d-flex align-items-center switch-small "},i.a.createElement("i",{className:"material-icons text-serapide icon-15 pr-2"},"email"),i.a.createElement("div",{className:"bg-serapide px-2 size-12"},"Avvia consultazione SCA"),i.a.createElement(no,{value:!n,getInput:R,ignoreChecked:!0,labelClassName:"col-auto",mutation:Rn,checked:n})),i.a.createElement("div",{className:"col-5 d-flex align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 pr-2"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-10"},i.a.createElement("span",null,r&&ne(r,"dd MMMM yyyy")),i.a.createElement("span",null,"90 giorni per ricevere i pareri sca"))),i.a.createElement("div",{className:"col-8 pt-3 text-justify pr-2 size-13"},"Selezionando l\u2019opzione e cliccando \u201cSalva e Invia\u201d verr\xe0 inviata comunicazione e documento preliminare agli SCA selezionati e per conoscenza all\u2019Autorit\xe0 Competente in materia ambientale identificati all\u2019atto di creazione del Piano.")),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:C,variables:{codice:f},mutation:Vn,canCommit:n&&P&&(!I||y.length>0&&x.length>0)})))}),Do=function(e){var a=se(e);return i.a.createElement(l.c,{query:Va,variables:{codice:a},onError:ce},function(t){var n=t.loading,o=t.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0],d=t.error;return n||d||s||!a?n?i.a.createElement(jo,null):i.a.createElement(_o,Object.assign({},e,{consultazioneSCA:s})):i.a.createElement(yo,{variables:{input:{codicePiano:a}},mutation:Un,onError:ce,update:function(e){return function(a){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).data,n=(t=void 0===t?{}:t).createConsultazioneVas.nuovaConsultazioneVas;if(n){var i={__typename:"ConsultazioneVASNodeConnection",edges:[{__typename:"ConsultazioneVASNodeEdge",node:n}]};a.writeQuery({query:Va,data:{modello:i},variables:{codice:e}})}}}(a)},function(){return i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))})})},Uo=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.utente,d=(s=void 0===s?{}:s).fiscalCode,u=e.scadenza,m=e.tipo,p=void 0===m?"parere_verifica_vas":m,v=e.tipoVas,f=void 0===v?"vas_verifica":v,E=e.label,g=void 0===E?"PARERI":E,b=e.saveMutation,N=void 0===b?jn:b,z=l.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===p&&d===(void 0===n?{}:n).fiscalCode}).map(function(e){return e.node}),h=l.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===f}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Pareri SCA"),i.a.createElement(Ro,{fontSize:"size-11",iconSize:"icon-15",scadenza:u&&ie(u,30)}),i.a.createElement(Gi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 mt-2",icon:"attach_file",resource:h}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,u&&ne(u,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(Lo,{fontWeight:"font-weight-light"},g),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:z,mutation:ht,resourceMutation:At,variables:{codice:o,tipo:p},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:N,canCommit:z.length>0})))},Vo=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Uo,Object.assign({},e,{vas:r}))})},$o=function(e){var a=e.uuid,t=e.assoggettamento,n=e.fontSize,o=e.iconSize,r=void 0===o?"icon-34":o;return i.a.createElement(l.b,{mutation:xn,onError:ce},function(e){var o=function(n){n!==t&&e({variables:{input:{proceduraVas:{assoggettamento:!t},uuid:a}}})};return i.a.createElement("div",{className:"d-flex mt-3 justify-content-around"},i.a.createElement("span",{className:"d-flex justify-content-start pointer"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(r," ").concat(t?"pointer":""),onClick:function(){return o(!1)}},t?"radio_button_unchecked":"radio_button_checked"),i.a.createElement("span",{className:"pl-2 align-self-center ".concat(n)},"esclusione da VAS")),i.a.createElement("span",{className:"d-flex justify-content-start pointer"},i.a.createElement("i",{className:"material-icons text-serapide ".concat(r," ").concat(t?"":"pointer"),onClick:function(){return o(!0)}},t?"radio_button_checked":"radio_button_unchecked"),i.a.createElement("span",{className:"pl-2 align-self-center ".concat(n)},"assoggettamento VAS")))})},Mo=Ie()(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.assoggettamento,c=n.relazioneMotivataVasSemplificata,l=n.documentoPreliminareVerifica,s=n.tipologia,d=n.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=e.scadenza,v="SEMPLIFICATA"===s,f=de(m,"parere_verifica_vas"),E=m.filter(function(e){return"provvedimento_verifica_vas"===e.node.tipo}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,i.a.createElement(_e,{text:"Provvedimento di Verifica",dataTip:"art.22 L.R. 10/2010"})),i.a.createElement(Ro,{iconSize:"icon-15",fontSize:"size-11",scadenza:p&&ie(p,v?30:90)}),i.a.createElement(Gi,{useLabel:!0,iconSize:"icon-15",fileSize:!1,fontSize:"size-11",className:"border-0 mt-3",icon:"attach_file",resource:v?c:l}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,p&&ne(p,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement("div",{className:Ne()(" mt-4",{"border-bottom-2":f.length>0})},Object(G.map)(f,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},oe(e[0].user))),e.map(function(e){return i.a.createElement(Gi,{useLabel:!0,iconSize:"icon-15",fileSize:!1,fontSize:"size-11",key:e.uuid,className:"border-0 mt-3",icon:"attach_file",resource:e})}))})),i.a.createElement(Lo,null,"Emissione Provvedimento di Verifica"),i.a.createElement($o,{fontSize:"size-11",iconSize:"icon-15",assoggettamento:r,uuid:o}),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"PROVVEDIMENTO DI VERIFICA"),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom"},i.a.createElement(Qi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0 ".concat(E?"":"flex-column"),sz:"sm",modal:!1,showBtn:!1,mutation:ht,resourceMutation:At,disabled:!1,isLocked:!1,risorsa:E,variables:{codice:o,tipo:"provvedimento_verifica_vas"}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,mutation:kn,variables:{uuid:o},canCommit:!!E})))}),Fo=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(Mo,Object.assign({},e,{vas:l}))})},qo=le("proceduraAvvio"),Zo={className:"border-0",mutation:It,resourceMutation:St,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},Bo=Ie({onUpdate:!1,log:!1,comp:"AvvioProc"})(function(e){var a=e.proceduraAvvio,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).uuid,o=t.conferenzaCopianificazione,r=t.dataScadenzaRisposta,c=t.garanteNominativo,s=t.garantePec,d=t.risorse,u=(d=void 0===d?{}:d).edges,m=void 0===u?[]:u,p=e.piano,v=(p=void 0===p?{}:p).soggettiOperanti,f=p.codice,E=p.risorse.edges,g=void 0===E?[]:E,b=e.back,N=(g.filter(function(e){return"delibera"===e.node.tipo}).pop()||{}).node,z=m.filter(function(e){return"obiettivi_piano"===e.node.tipo}).map(function(e){return e.node}).shift(),h=m.filter(function(e){return"altri_allegati_avvio"===e.node.tipo}).map(function(e){return e.node}),A=m.filter(function(e){return"quadro_conoscitivo"===e.node.tipo}).map(function(e){return e.node}).shift(),O=m.filter(function(e){return"programma_attivita"===e.node.tipo}).map(function(e){return e.node}).shift(),C=m.filter(function(e){return"individuazione_garante_informazione"===e.node.tipo}).map(function(e){return e.node}).shift(),I=ge(v).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Avvio del Procedimento | ",i.a.createElement("span",{className:"text-nowrap"},"(Atto di Avvio)",i.a.createElement(_e,{dataTip:"art. 17 L.R. 65/2014"}))),i.a.createElement(Gi,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",fileSize:!1,className:"border-0 mt-3",icon:"attach_file",resource:N}),i.a.createElement(Lo,null,i.a.createElement(_e,{text:"Elaborati allegati alla delibera di avvio del procedimento",dataTip:"ai sensi dell\u2019art. 17 comma 3, lett. a,b,c,d,e,f, L.R. 65/2014"})),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom"},i.a.createElement(Qi,Object.assign({},Zo,{placeholder:"Obiettivi del piano",risorsa:z,variables:{codice:n,tipo:"obiettivi_piano"}}))),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom "},i.a.createElement(Qi,Object.assign({},Zo,{placeholder:i.a.createElement("span",null,"Quadro Conoscitivo",i.a.createElement(_e,{dataTip:"art. 17, lett.b, L.R. 65/2014"})),risorsa:A,variables:{codice:n,tipo:"quadro_conoscitivo"}}))),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom "},i.a.createElement(Qi,Object.assign({},Zo,{placeholder:i.a.createElement("span",null,"Programma delle attivit\xe0 di informazione e di partecipazione",i.a.createElement(_e,{dataTip:"art. 17, lett.e, L.R. 65/2014"})),risorsa:O,variables:{codice:n,tipo:"programma_attivita"}}))),i.a.createElement(To,null,"ALTRI ALLEGATI"),i.a.createElement(Ji,Object.assign({},Zo,{risorse:h,variables:{codice:n,tipo:"altri_allegati_avvio"}})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(Lo,null,"GARANTE DELL'INFORMAZIONE E DELLA PARTECIPAZIONE"),i.a.createElement(bo,{getInput:qo(n,"garanteNominativo"),mutation:Kn,disabled:!1,className:"my-3 rounded-pill size-10",placeholder:"Nominativo",onChange:void 0,value:c,type:"text"}),i.a.createElement(bo,{getInput:qo(n,"garantePec"),mutation:Kn,disabled:!1,className:"mb-3 rounded-pill size-10",placeholder:"Indirizzo Pec",onChange:void 0,value:s,type:"email"}),i.a.createElement("div",{className:"action-uploader  align-self-start border-bottom "},i.a.createElement(Qi,Object.assign({},Zo,{placeholder:i.a.createElement("span",null,"Individuazione del garante dell\u2019informazione e della partecipazione",i.a.createElement(_e,{dataTip:"art. 17, lett.f, L.R. 65/2014"})),risorsa:C,variables:{codice:n,tipo:"individuazione_garante_informazione"}}))),i.a.createElement(Lo,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"TERMINI SCADENZA PER LA RISPOSTA"),i.a.createElement(ki,{minDate:Object(B.a)(new Date,1),popperPlacement:"left",selected:r?new Date(r):void 0,getInput:qo(n,"dataScadenzaRisposta"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Kn})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(Lo,null,"SCELTA SOGGETTI ISTITUZIONALI"),i.a.createElement("div",{className:"font-weight-light pb-1 size-8"},i.a.createElement(_e,{text:"Soggetti istituzionali a cui si chiede il contributo tecnico",dataTip:"art. 17, lett.c, L.R. 65/2014"})),i.a.createElement(ko,{hideTitle:!0,contacts:I}),i.a.createElement("div",{className:"mt-4 pl-4 pb-4"},i.a.createElement(l.b,{mutation:Sn,onError:ce},function(e){return i.a.createElement(lo,{selected:I.map(function(e){var a=e.ufficio;return(a=void 0===a?{}:a).uuid}),query:Ba,getList:ue,variables:{tipo:Ee},onChange:function(a,t){var n=t.tipologia,i=t.uuid,o=v.map(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio,a=(e=void 0===e?{}:e).qualifica,t=e.ufficio;return{qualifica:a,ufficioUuid:(t=void 0===t?{}:t).uuid}});(o=o.filter(function(e){return e.ufficioUuid!==i})).length===v.length&&(o=o.concat({qualifica:n,ufficioUuid:i})),e({variables:{input:{pianoOperativo:{soggettiOperanti:o},codice:f}}})},size:"lg",label:"SOGGETTI ISTITUZIONALI",btn:function(e){return i.a.createElement("div",{className:"row"},i.a.createElement(ke,{fontSize:"size-8",iconSize:"icon-13",classNameLabel:"py-0",onClick:e,className:"rounded-pill",color:"serapide",icon:"add_circle",label:"Seleziona soggetti istituzionali"}))}})})),i.a.createElement("hr",{className:"w-100 m-0 mt-3"}),i.a.createElement(Lo,null,i.a.createElement(_e,{text:"RICHIESTA CONFERENZA DI COPIANIFICAZIONE",dataTip:"art. 25 L.R. 65/2014"})),i.a.createElement("div",{className:"row pl-2"},i.a.createElement("div",{className:"col-12 pt-2 size-13"},'Se si seleziona l\'opzione "Si" viene inviata a Regione Toscana la RICHIESTA di convocazione della Conferenza di Copianificazione.',i.a.createElement("br",null),'Se si seleziona l\'opzione "Non Adesso" il sistema inserisce nella lista delle attivit\xe0 la Conferenza di Copianificazione come attivit\xe0 da espletare.',i.a.createElement("br",null),'Se si seleziona l\'opzione "Non necessaria" il sistema invier\xe0 i documenti al Genio Civile per il deposito e nella lista delle attivit\xe0 verr\xe0 indicata la Ricezione del Protocollo dal Genio Civile come attivit\xe0 in attesa di risposta.')),i.a.createElement(l.b,{mutation:Kn,onError:ce},function(e){var a=function(a){e({variables:{input:{proceduraAvvio:{conferenzaCopianificazione:a.target.value.toLowerCase()},uuid:n}}})};return i.a.createElement("div",{className:"d-flex flex-column mt-4 pl-2 size-10"},i.a.createElement("div",{className:"d-flex"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(_e,{dataTip:"art. 25, comma 3 bis L.R. 65/2014",text:"SI"})),i.a.createElement("input",{onChange:a,value:"NECESSARIA",checked:"NECESSARIA"===o,className:"form-check-input position-static",type:"checkbox"})),i.a.createElement("div",{className:"d-flex"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(_e,{dataTip:"art. 25, comma 3 bis L.R. 65/2014",text:"NON ADESSO"})),i.a.createElement("input",{onChange:a,value:"POSTICIPATA",checked:"POSTICIPATA"===o,className:"form-check-input position-static",type:"checkbox"})),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("span",{style:{minWidth:"13.3333rem"}},i.a.createElement(_e,{dataTip:"art.88, comma 7, lett. c,  e art. 90 comma 7, lett.b, L.R. 65/2014",text:"NON NECESSARIA"})),i.a.createElement("input",{onChange:a,value:"NON_NECESSARIA",checked:"NON_NECESSARIA"===o,className:"form-check-input position-static",type:"checkbox"}),i.a.createElement("i",{className:"ml-3 material-icons icon-13 ".concat("NON_NECESSARIA"===o?"text-serapide":"")},"check_circle_outline"),i.a.createElement("span",{className:"pl-1 ".concat("NON_NECESSARIA"===o?"text-serapide":"text-gray")},"NOTIFICA AL GENIO CIVILE")))}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:b,variables:{codice:n},mutation:ei,canCommit:z&&A&&C&&O&&I.length>0&&r&&c&&s})))}),Go=function(e){return i.a.createElement(l.c,{query:Da,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(Bo,Object.assign({},e,{proceduraAvvio:l}))})},Wo=Ce("checked","toggleSwitch",!1)(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.checked,d=e.toggleSwitch,u=de(l,"parere_sca"),m=l.filter(function(e){return"documento_preliminare_vas"===e.node.tipo}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Avvia Esame Pareri SCA"),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"DOCUMENTO PRELIMINARE"),i.a.createElement(Gi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",icon:"attach_file",resource:m}),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"PARERI SCA"),i.a.createElement("div",{className:Ne()(" mb-5",{"border-bottom-2":u.length>0})},Object(G.map)(u,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},oe(e[0].user))),e.map(function(e){return i.a.createElement(Gi,{icon2Size:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))})),i.a.createElement("div",{className:"d-flex align-items-center switch-small "},i.a.createElement("i",{className:"material-icons text-serapide icon-15 pr-2"},"email"),i.a.createElement("div",{className:"bg-serapide px-2 size-12"},"Avvia Esame Pareri"),i.a.createElement(eo,{labelClassName:"col-auto",checked:s,toggleSwitch:d,ignoreChecked:!0})),i.a.createElement("div",{className:"pt-2 size-13 text-justify"},"Nota: Selezionare l'opzione Avvia Esame Pareri non comporta nessuna comunicazione agli altri attori coinvolti nel procedimento VAS e nessuna scadenza predefinita. E' solo una funzione per tenere traccia e evidenziare lo stato di avanzamento del procedimento."),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,mutation:_n,variables:{uuid:o},canCommit:s})))}),Ho=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Wo,Object.assign({},e,{vas:l}))})},Qo=Oe("url","onUrlChange","")(function(e){var a=e.back,t=e.qualificaRichiesta,n=e.url,o=e.onUrlChange,r=e.vas.node,c=(r=void 0===r?{}:r).uuid,l=r.risorse,s=(l=void 0===l?{}:l).edges,d=void 0===s?[]:s,u=(e.utente.attore,d.filter(function(e){var a=e.node,t=a.tipo;a.user;return"provvedimento_verifica_vas"===t}).map(function(e){return e.node}).shift()),m="AC"===t?"pubblicazioneProvvedimentoVerificaAc":"pubblicazioneProvvedimentoVerificaAp";return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Pubblicazione Provvedimento di Verifica"),i.a.createElement(Gi,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",className:"border-0 mt-5",fileSize:!1,icon:"attach_file",resource:u}),i.a.createElement("span",{className:"mt-5 d-flex align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 text-serapide pr-2"},"link"),i.a.createElement(D.f,{className:"rounded-pill size-10",placeholder:"Inserire la URL della pagina dove \xe8 stato pubblicato il provvedimento di verifica",disabled:!1,value:n,onChange:function(e){return o(e.target.value)},type:"url",name:"text"})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,mutation:Ln,variables:{input:{proceduraVas:Object($.a)({},m,n),uuid:c}},canCommit:n})))}),Xo=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Qo,Object.assign({},e,{vas:r}))})},Jo=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=(void 0===c?[]:c).filter(function(e){var a=e.node,t=a.tipo;a.user;return"rapporto_ambientale"===t}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Upload Elaborati VAS"),i.a.createElement("div",{className:"d-flex pt-2 mb-5 size-13 text-justify"},"Il comune esamina i pareri, forma il piano e redige il Rapporto Ambientale. Gli elaborati vengono caricati nella piattaforma"),i.a.createElement("div",{className:"action-uploader  py-1 align-self-start border-bottom   border-bottom border-top"},i.a.createElement(Qi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"Rapporto ambientale",mutation:ht,resourceMutation:At,disabled:!1,isLocked:!1,risorsa:l,variables:{codice:o,tipo:"rapporto_ambientale"}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{uuid:o},mutation:Dn,canCommit:l})))},Yo=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Jo,Object.assign({},e,{vas:r}))})},Ko=Ie()(function(e){var a=e.back,t=e.piano,n=(t=void 0===t?{}:t).numeroProtocolloGenioCivile,o=t.codice,r=e.proceduraAvvio,c=(r=void 0===r?{}:r).node,l=(c=void 0===c?{}:c).uuid;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Protocollo Genio Civile"),i.a.createElement(Lo,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 rounded-circle text-white bg-serapide"},"edit"),i.a.createElement("span",{className:"pl-1 text-serapide"},"INSERISCI PROTOCOLLO"))),i.a.createElement("div",{className:"px-3 mt-4"},i.a.createElement(bo,{className:"size-10",placeholder:"Numero di protocollo",getInput:function(e){return function(a){return{variables:{input:{pianoOperativo:{numeroProtocolloGenioCivile:a},codice:e}}}}}(o),mutation:Sn,disabled:!1,onChange:void 0,value:n,type:"text"})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",tipIconColor:"w",onCompleted:a,variables:{codice:l},mutation:$n,canCommit:!!n})))}),er=function(e){return i.a.createElement(l.c,{query:Da,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Ko,Object.assign({},e,{proceduraAvvio:l}))})},ar=Ie()(function(e){var a=e.back,t=e.piano,n=(t=void 0===t?{}:t).codice,o=(t.redazioneNormeTecnicheAttuazioneUrl,t.compilazioneRapportoAmbientaleUrl,t.conformazionePitPprUrl,t.monitoraggioUrbanisticoUrl,t.risorse.edges),r=(void 0===o?[]:o).filter(function(e){var a=e.node,t=a.tipo;a.user;return"norme_tecniche_attuazione"===t}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Formazione del Piano"),i.a.createElement(To,null,'Per la redazione della Disciplina del Piano \xe8 suggerito l\'utilizzo del software "Redazione Norme"'),i.a.createElement("div",{className:"action-uploader py-1 mt-3 align-self-start border-bottom"},i.a.createElement(Qi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:"DISCIPLINA DEL PIANO",mutation:Nt,resourceMutation:zt,disabled:!1,isLocked:!1,risorsa:r,variables:{codice:n,tipo:"norme_tecniche_attuazione"}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:wn,canCommit:!!r})))}),tr=function(e){return i.a.createElement(l.c,{query:qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(ar,Object.assign({},e,{vas:r}))})},nr=Ce("isChecked","toggleCheck",!1)(function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node.uuid,o=e.isChecked,r=e.toggleCheck;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Conferenza di copianificazione"),i.a.createElement(Lo,{fontWeight:"font-weight-light"},i.a.createElement("i",{className:"material-icons icon-15 pr-1"},"question_answer"),"RICHIESTA CONFERENZA COPIANIFICAZIONE"),i.a.createElement(D.e,{className:"pt-4 px-5",check:!0},i.a.createElement(D.g,{className:"size-12",check:!0},i.a.createElement(D.f,{className:"text-serapide size-11",type:"checkbox",checked:o,onChange:r}),"Selezionando questa opzione viene inviata richiesta a Regione Toscana di convocazione della Conferenza di Copianificazione.")),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:ii,canCommit:o})))}),ir=function(e){return i.a.createElement(l.c,{query:Da,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(nr,Object.assign({},e,{proceduraAvvio:l}))})},or=le("proceduraAvvio"),rr=Ie()(function(e){var a,t,n=e.back,o=e.proceduraAvvio,r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).uuid,l=r.dataScadenzaRisposta,s=r.risorse,d=(s=void 0===s?{}:s).edges,u=(void 0===d?[]:d).filter(function(e){var a=e.node,t=a.tipo;a.user;return"integrazioni"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Integrazioni Richieste"),i.a.createElement("div",{className:"d-flex mt-4 align-items-center"},i.a.createElement("i",{className:"material-icons icon-15 rounded-circle text-white bg-serapide"},"edit"),i.a.createElement("span",{className:"pl-1 text-serapide size-11"},"CARICA FILES PER L'INTEGRAZIONE")),i.a.createElement(Ji,{useLabel:!0,iconSize:"icon-15",fontSize:"size-11",className:"border-0 mt-3",risorse:u,mutation:It,resourceMutation:St,variables:{codice:c,tipo:"integrazioni"},isLocked:!1}),i.a.createElement(Lo,{className:"size-14 pb-1 d-flex justify-content-between align-items-center"},i.a.createElement("span",null,"TERMINI SCADENZA PER LA RISPOSTA"),i.a.createElement(ki,{popperPlacement:"left",minDate:(a=new Date,t=1,Object(B.a)(te(a),t)),selected:l?new Date(l):void 0,getInput:or(c,"dataScadenzaRisposta"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Kn})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:n,variables:{codice:c},mutation:ni,canCommit:u.length>0})))}),cr=function(e){return i.a.createElement(l.c,{query:Da,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(rr,Object.assign({},e,{proceduraAvvio:l}))})},lr=function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=(n.richiestaIntegrazioni,e.conferenza),c=(r=void 0===r?{}:r).node,l=(c=void 0===c?{}:c).uuid,s=c.risorse,d=(s=void 0===s?{}:s).edges,u=(void 0===d?[]:d).filter(function(e){var a=e.node,t=a.tipo;a.user;return"elaborati_conferenza"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Svolgimento Conf. Copianificazione"),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"Verbali e Allegati"),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:u,mutation:Ot,resourceMutation:Ct,variables:{codice:l,tipo:"elaborati_conferenza"},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:oi,canCommit:u.length>0})))},sr=function(e){var a=se(e);return i.a.createElement(l.c,{query:Da,variables:{codice:a},onError:ce},function(t){var n=t.loding,o=t.data,r=(o=void 0===o?{}:o).modello,s=(r=void 0===r?{}:r).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return i.a.createElement(l.c,{query:Ga,variables:{codice:a},onError:ce},function(a){var t=a.loading,o=a.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||n?i.a.createElement(jo,null):i.a.createElement(lr,Object.assign({},e,{proceduraAvvio:d,conferenza:s}))})})},dr=le("proceduraAvvio"),ur=Ie()(function(e){var a=e.back,t=e.proceduraAvvio,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.richiestaIntegrazioni,c=n.messaggioIntegrazione;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Richiesta Integrazioni"),i.a.createElement("div",{className:"d-flex pl-2 mt-4 align-items-center"},i.a.createElement("div",{className:" bg-serapide size-12 rounded-pill px-3 mr-2"},"Richiesta integrazioni"),i.a.createElement("div",{className:"ml-4 switch-small"},i.a.createElement(no,{className:"",value:!r,getInput:dr(o,"richiestaIntegrazioni"),ignoreChecked:!0,mutation:Kn,checked:r}))),i.a.createElement("div",{className:"d-flex pl-2 mt-4 "},i.a.createElement(bo,{className:"size-11",getInput:dr(o,"messaggioIntegrazione"),mutation:Kn,disabled:!1,placeholder:"Inserisci messaggio da inviare",onChange:void 0,value:c,type:"textarea"})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:ti,canCommit:!!c})))}),mr=function(e){return i.a.createElement(l.c,{query:Da,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(ur,Object.assign({},e,{proceduraAvvio:l}))})},pr=function(e,a){return e.order-a.order},vr=function(e,a){return a.filter(function(a){return a.node.tipo===e}).map(function(e){return e.node}).shift()},fr=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"picture_as_pdf";return e&&i.a.createElement(Gi,{key:a,useLabel:!0,fileSize:!1,className:"border-0 mt-3",icon:t,resource:e})},Er=function(e){var a=e.uuid,t=e.tipoPiano,n=void 0===t?"operativo":t,o=e.resources,r=e.mutation,c=e.resourceMutation,l=e.upload,s=void 0===l||l,d=e.fontSize,u=e.iconSize,m=e.vertical,p=void 0!==m&&m,v=e.useLabel,f=void 0!==v&&v,E=(K[n]||{}).testuali,g=void 0===E?[]:E,b=(K[n]||{}).cartografici,N=void 0===b?[]:b;return i.a.createElement(i.a.Fragment,null,i.a.createElement(To,{className:"size-13 mb-3"},"Elaborati Testuali"),i.a.createElement("div",{className:"container border",style:{maxHeight:200,minHeight:50,overflowY:"scroll"}},Object(G.map)(g,function(e,a){return Object(H.a)({},e,{tipo:a})}).sort(pr).map(function(e,t){var n=e.label,l=e.tooltip,m=vr(t,o);return s?i.a.createElement(Qi,{key:t,fontSize:d,iconSize:u,vertical:p,useLabel:f,mutation:r,resourceMutation:c,placeholder:i.a.createElement(_e,{text:n,dataTip:l}),risorsa:m,variables:{codice:a,tipo:t},className:"border-0",disabled:!1,isLocked:!1}):fr(m,t)})),i.a.createElement(To,{className:"size-13 my-3"},"Elaborati Cartografici"),i.a.createElement("div",{className:"container border",style:{maxHeight:200,minHeight:80,overflowY:"scroll"}},Object(G.map)(N,function(e,a){return Object(H.a)({},e,{tipo:a})}).sort(pr).map(function(e,t){var n=e.label,l=e.tooltip,m=vr(t,o);return s?i.a.createElement(Qi,{key:t,mutation:r,fontSize:d,iconSize:u,vertical:p,useLabel:f,resIcon:"map",fileType:"application/zip,application/x-zip-compressed,.zip",resourceMutation:c,placeholder:i.a.createElement(_e,{text:n,dataTip:l}),risorsa:vr(t,o),variables:{codice:a,tipo:t},className:"border-0",disabled:!1,isLocked:!1}):fr(m,t,"map")})))},gr=function(e){var a=e.soggettiOperanti,t=void 0===a?[]:a,n=e.containerClass,o=void 0===n?"col-6 pt-3 mb-3":n,r=e.titleClass,c=void 0===r?"mb-3":r,l=e.elementClass,s=void 0===l?"col-12 px-0 py-1":l;return i.a.createElement("div",{className:o},i.a.createElement("div",{className:c},"SOGGETTI ISTITUZIONALI"),ge(t).map(function(e){var a=e.qualificaUfficio,t=(a=void 0===a?{}:a).ufficio,n=(t=void 0===t?{}:t).nome,o=t.uuid,r=t.ente.nome;return i.a.createElement("div",{className:s,key:o},"".concat(r," ").concat(n))}))},br=function(e){var a=e.soggettiOperanti,t=void 0===a?[]:a,n=e.title,o=void 0===n?"SOGGETTI ISTITUZIONALI":n;return i.a.createElement(ko,{title:o,contacts:ge(t).map(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).qualificaUfficio})})},Nr=le("proceduraAdozione"),zr=function(e,a){return function(t){return{variables:{input:{pianoOperativo:Object($.a)({},a,t),codice:e}}}}},hr={className:"border-0",mutation:Pt,resourceMutation:yt,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},Ar=Ie({onUpdate:!1,log:!1,comp:"AdozioneProc"})(function(e){var a=e.vas,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).risorse,o=((n=void 0===n?{}:n).edges,e.proceduraAdozione),r=(o=void 0===o?{}:o).node,c=(r=void 0===r?{}:r).uuid,l=r.dataDeliberaAdozione,s=r.dataRicezioneOsservazioni,d=r.dataRicezionePareri,u=r.pubblicazioneBurtUrl,m=r.pubblicazioneBurtData,p=r.pubblicazioneSitoUrl,v=r.pubblicazioneSitoData,f=r.risorse,E=(f=void 0===f?{}:f).edges,g=void 0===E?[]:E,b=e.piano,N=b.codice,z=b.tipo,h=void 0===z?"":z,A=(b.redazioneNormeTecnicheAttuazioneUrl,b.conformazionePitPprUrl),O=b.monitoraggioUrbanisticoUrl,C=b.compilazioneRapportoAmbientaleUrl,I=b.soggettiOperanti,S=b.risorse,P=(S=void 0===S?{}:S).edges,y=void 0===P?[]:P,x=e.back,R=(g.filter(function(e){return"delibera_adozione"===e.node.tipo}).shift()||{}).node,L=y.filter(function(e){var a=e.node,t=a.tipo;a.user;return"norme_tecniche_attuazione"===t}).map(function(e){return e.node}).shift();return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Trasmissione Adozione"),i.a.createElement(Lo,null,"RIFERIMENTI DOCUMENTALI"),i.a.createElement(To,null,"NORME TECNICHE DI ATTUAZIONE"),i.a.createElement(Gi,{iconSize:"icon-15",fontSize:"size-11",useLabel:!0,fileSize:!1,className:"border-0 my-3",icon:"attach_file",resource:L}),i.a.createElement(To,null,"COMPILAZIONE RAPPORTO AMBIENTALE"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(bo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:zr(N,"compilazioneRapportoAmbientaleUrl"),mutation:Sn,disabled:!1,onChange:void 0,value:C,type:"text"}))),i.a.createElement(To,null,"CONFORMAZIONE AL PIT-PPR"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(bo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:zr(N,"conformazionePitPprUrl"),mutation:Sn,disabled:!1,onChange:void 0,value:A,type:"text"}))),i.a.createElement(To,null,"MONITORAGGIO URBANISTICA"),i.a.createElement("div",{className:"my-3 row d-flex align-items-center"},i.a.createElement("div",{className:"col-1 size-12"},"URL "),i.a.createElement("div",{className:"col-11 "},i.a.createElement(bo,{className:"size-10",placeholder:"copiare la URL in questo campo",getInput:zr(N,"monitoraggioUrbanisticoUrl"),mutation:Sn,disabled:!1,onChange:void 0,value:O,type:"text"}))),i.a.createElement("div",{className:"w-100 border-top m-0 mt-4"}),i.a.createElement(To,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(br,{soggettiOperanti:I}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"action-uploader  mt-5 py-1 align-self-start border-bottom"},i.a.createElement(Qi,Object.assign({},hr,{placeholder:"DELIBERA DI ADOZIONE",risorsa:R,variables:{codice:c,tipo:"delibera_adozione"}}))),i.a.createElement(Lo,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"DATA ADOZIONE"),i.a.createElement(ki,{popperPlacement:"left",placeholder:"SELEZIONA DATA ADOZIONE",selected:l?new Date(l):void 0,getInput:Nr(c,"dataDeliberaAdozione"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Mn})),i.a.createElement(Lo,null,"ELABORATI DEL PIANO"),i.a.createElement(Er,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:h.toLowerCase(),resources:g,mutation:Pt,resourceMutation:yt,uuid:c}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(Lo,null,"PUBBLICAZIONE"),i.a.createElement("div",{className:"mt-2 row d-flex align-items-center"},i.a.createElement("div",{className:"col-3 size-12"},"URL B.U.R.T"),i.a.createElement("div",{className:"col-9 "},i.a.createElement(bo,{className:"size-10",placeholder:"COPIA URL B.U.R.T.",getInput:Nr(c,"pubblicazioneBurtUrl"),mutation:Mn,disabled:!1,onChange:void 0,value:u,type:"text"})),i.a.createElement("div",{className:"col-9 mt-2 offset-3"},i.a.createElement(ki,{placeholder:"SELEZIONA DATA PUBBLICAZIONE",selected:m?new Date(m):void 0,getInput:Nr(c,"pubblicazioneBurtData"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Mn}))),i.a.createElement("div",{className:"mt-2 row d-flex align-items-center"},i.a.createElement("div",{className:"col-3 size-12"},"URL SITO"),i.a.createElement("div",{className:"col-9 "},i.a.createElement(bo,{className:"size-10",placeholder:"COPIA URL SITO",getInput:Nr(c,"pubblicazioneSitoUrl"),mutation:Mn,disabled:!1,onChange:void 0,value:p,type:"text"})),i.a.createElement("div",{className:"col-9 mt-2 offset-3"},i.a.createElement(ki,{placeholder:"SELEZIONA DATA PUBBLICAZIONE",selected:v?new Date(v):void 0,getInput:Nr(c,"pubblicazioneSitoData"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:Mn}))),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(Lo,{className:"mb-0 font-weight-light"},"INVIO A SCA E AC"),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Il sistema invier\xe0 i link ai Soggetti Compententi in materia ambientale e all'Autorit\xe0 compentente\n                    in materia ambientale (gi\xe0 selezionati nella fase di avvio) la documentazione necessaria affinch\xe9 i destinatari\n                    possano formulare i pareri entro 60gg dall'adozione"),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"row d-flex align-items-center pt-4"},i.a.createElement("div",{className:"col-1"},i.a.createElement("i",{className:"material-icons text-serapide icon-16"},"notifications_active")),i.a.createElement("div",{className:"col-7"},i.a.createElement("div",{className:"pl-1 py-1 bg-dark text-serapide size-13"},"ALERT RICEZIONI OSSERVAZIONI")),i.a.createElement("div",{className:"col-3 d-flex align-items-center p-0"},i.a.createElement("i",{className:"material-icons text-dark pr-1 icon-16"},"date_range"),i.a.createElement("span",null,s&&ne(s))),i.a.createElement("div",{className:"col-11 offset-1 size-12"},"Il sistema calcola automaticamente la data entro la quale ricevere le osservazioni sulla base della data di pubblicazione su B.U.R.T. e sul sito web")),i.a.createElement("div",{className:"row align-items-center pt-4"},i.a.createElement("div",{className:"col-1"},i.a.createElement("i",{className:"material-icons text-serapide icon-18"},"notifications_active")),i.a.createElement("div",{className:"col-7"},i.a.createElement("div",{className:"pl-1 py-1 bg-serapide size-13"},"ALERT RICEZIONI PARERI")),i.a.createElement("div",{className:"col-3 d-flex align-items-center p-0"},i.a.createElement("i",{className:"material-icons text-serapide pr-1 icon-16"},"date_range"),i.a.createElement("span",null,d&&ne(d))),i.a.createElement("div",{className:"col-11 offset-1 size-12"},"Il sistema calcola automaticamente la data entro la quale ricevere le osservazioni sulla base della data di adozione")),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:x,variables:{codice:c},mutation:Fn,canCommit:R&&l&&u&&m&&p&&v&&C&&A&&O})))}),Or=function(e){var a=se(e);return i.a.createElement(l.c,{query:qa,variables:{codice:a},onError:ce},function(t){var n=t.loadingVas,o=t.data,r=(o=void 0===o?{}:o).modello,s=(r=void 0===r?{}:r).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return i.a.createElement(l.c,{query:Ua,variables:{codice:a},onError:ce},function(a){var t=a.loading,o=a.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||n?i.a.createElement(jo,null):i.a.createElement(Ar,Object.assign({},e,{vas:d,proceduraAdozione:s}))})})},Cr=Ie()(function(e){var a=e.disableSave,t=void 0!==a&&a,n=e.hideSave,o=void 0!==n&&n,r=e.showData,c=void 0===r||r,l=e.filterByUser,s=void 0===l||l,d=e.back,u=e.proceduraAdozione.node,m=(u=void 0===u?{}:u).uuid,p=u.dataRicezionePareri,v=u.risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=e.utente,b=(g=void 0===g?{}:g).fiscalCode,N=e.titolo,z=void 0===N?"Osservazioni Privati":N,h=e.tipo,A=void 0===h?"osservazioni_privati":h,O=e.label,C=void 0===O?"CARICA I FILES DELLE OSSERVAZIONI DEI PRIVATI":O,I=e.saveMutation,S=void 0===I?qn:I,P=E.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===A&&(!s||b===(void 0===n?{}:n).fiscalCode)}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,z),c&&i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-18 pr-3"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-14"},i.a.createElement("span",null,p&&ne(p,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale inviare le osservazioni"))),i.a.createElement(Lo,{fontWeight:"font-weight-light"},C),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:P,mutation:Pt,resourceMutation:yt,variables:{codice:m,tipo:A},isLocked:!1}),!o&&i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:d,variables:{codice:m},mutation:S,canCommit:P.length>0&&!t})))}),Ir=function(e){return i.a.createElement(l.c,{query:Ua,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(Cr,Object.assign({},e,{proceduraAdozione:l}))})},Sr=le("proceduraAdozione"),Pr=Ie()(function(e){var a=e.back,t=e.proceduraAdozione.node,n=(t=void 0===t?{}:t).uuid,o=t.osservazioniConcluse,r=e.piano.conformazionePitPprUrl;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Osservazione della Regione Toscana"),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"Redazione delle Osservazioni"),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras venenatis risus quis blandit feugiat.\n                        Nunc pulvinar auctor sapien, a tincidunt nunc dignissim id. Fusce facilisis augue vel imperdiet molestie.\n                        Nulla a nisl metus. In vel sapien vel lacus finibus malesuada eget et mi.\n                        Praesent scelerisque dapibus tortor, a iaculis diam eleifend ac.  "),i.a.createElement("div",{className:"mt-3 row d-flex border-bottom"},i.a.createElement("div",{className:"col-12 align-items-center d-flex"},i.a.createElement("i",{className:"material-icons icon-15 text-serapide"},"link"),i.a.createElement("a",{href:r,target:"_balnk",className:"pl-1 text-serapide size-12  pointer"},r))),i.a.createElement("div",{className:"pt-3 text-justify size-13"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras venenatis risus quis blandit feugiat.\n                        Nunc pulvinar auctor sapien, a tincidunt nunc dignissim id. Fusce facilisis augue vel imperdiet molestie.\n                        Nulla a nisl metus. In vel sapien vel lacus finibus malesuada eget et mi.\n                        Praesent scelerisque dapibus tortor, a iaculis diam eleifend ac.  "),i.a.createElement(no,{ignoreChecked:!0,value:!o,labelClassName:"col-auto text-serapide",className:"switch-small mt-4",checked:o,label:"OSSERVAZIONI CONCLUSE",mutation:Mn,getInput:Sr(n,"osservazioniConcluse")}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:n},mutation:qn,canCommit:o})))}),yr=function(e){return i.a.createElement(l.c,{query:Ua,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(Pr,Object.assign({},e,{proceduraAdozione:l}))})},xr=le("proceduraAdozione"),Rr=function(e){var a=e.pianoContro,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).uuid,o=t.risorse,r=(o=void 0===o?{}:o).edges,c=void 0===r?[]:r,l=e.proceduraAdozione,s=(l=void 0===l?{}:l).node,d=(s=void 0===s?{}:s).uuid,u=s.richiestaConferenzaPaesaggistica,m=e.piano.tipo,p=void 0===m?"":m,v=e.back;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Piano Controdedotto"),i.a.createElement(Er,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:p.toLowerCase(),resources:c,mutation:xt,resourceMutation:Rt,uuid:n}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"row d-flex align-items-center pt-5"},i.a.createElement(no,{className:"switch-small col-2 offset-1",value:!0,mutation:Mn,getInput:xr(d,"richiestaConferenzaPaesaggistica"),checked:u}),i.a.createElement("div",{className:"col-9 bg-serapide mb-2"},i.a.createElement("div",{className:"px-1 py-1 size-14 "},"Richiesta Conferenza Paseaggistica")),i.a.createElement("div",{className:"col-11 offset-1 text-justify size-13"},"In base all'ART. 21 - Accordo Regione Toscana-MIBACT il Comune richiede a Regione Toscana di convocare la Conferenza Paesaggistica prima dell'Approvazione del Piano. della data di pubblicazione su B.U.R.T. e sul sito web")),i.a.createElement("div",{className:"row d-flex align-items-center pt-4"},i.a.createElement(no,{className:"switch-small col-2 offset-1",value:!1,mutation:Mn,getInput:xr(d,"richiestaConferenzaPaesaggistica"),checked:!u}),i.a.createElement("div",{className:"col-9 bg-serapide mb-2 "},i.a.createElement("div",{className:"pl-1 py-1 size-14"},"Approvazione")),i.a.createElement("div",{className:"col-11 offset-1 text-justify size-13"},"Il Comune richiede direttamente l'Approvazione del Piano.")),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:v,variables:{codice:d},mutation:Gn,canCommit:!0})))},Lr=function(e){var a=se(e);return i.a.createElement(l.c,{query:Wa,variables:{codice:a},onError:ce},function(t){var n=t.loadingContro,o=t.data,r=(o=void 0===o?{}:o).modello,s=(r=void 0===r?[]:r).edges;s=void 0===s?[]:s;var d=Object(c.a)(s,1)[0];return i.a.createElement(l.c,{query:Ua,variables:{codice:a},onError:ce},function(a){var t=a.loading,o=a.data,r=(o=void 0===o?{}:o).modello,l=(r=void 0===r?[]:r).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||n?i.a.createElement(jo,null):i.a.createElement(Rr,Object.assign({},e,{pianoContro:d,proceduraAdozione:s}))})})},jr=Ie()(function(e){var a=e.disableSave,t=void 0!==a&&a,n=e.showData,o=void 0===n||n,r=e.back,c=e.proceduraAdozione,l=(c=void 0===c?{}:c).node,s=(l=void 0===l?{}:l).uuid,d=l.dataRicezionePareri,u=l.risorse,m=(u=void 0===u?{}:u).edges,p=void 0===m?[]:m,v=e.utente,f=(v=void 0===v?{}:v).fiscalCode,E=e.titolo,g=void 0===E?"Osservazioni Privati":E,b=e.tipo,N=void 0===b?"osservazioni_privati":b,z=e.label,h=void 0===z?"CARICA I FILES DELLE OSSERVAZIONI DEI PRIVATI":z,A=e.filterByUser,O=void 0===A||A,C=e.saveMutation,I=void 0===C?qn:C,S=p.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===N&&(!O||f===(void 0===n?{}:n).fiscalCode)}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,g),o&&i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide icon-18 pr-3"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-14"},i.a.createElement("span",null,d&&ne(d,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale inviare le osservazioni"))),i.a.createElement(Lo,{fontWeight:"font-weight-light"},h),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:S,mutation:Pt,resourceMutation:yt,variables:{codice:s,tipo:N},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:r,variables:{codice:s},mutation:I,canCommit:S.length>0&&!t})))}),Tr=function(e){return i.a.createElement(l.c,{query:Ua,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return t?i.a.createElement(jo,null):i.a.createElement(jr,Object.assign({},e,{proceduraAdozione:l}))})},kr=function(e){var a=e.back,t=e.saveM,n=void 0===t?Zn:t,o=e.uploadM,r=void 0===o?Pt:o,c=e.deleteM,l=void 0===c?yt:c,s=e.procedura,d=(s=void 0===s?{}:s).node,u=(d=void 0===d?{}:d).uuid,m=d.risorse,p=(m=void 0===m?{}:m).edges,v=(void 0===p?[]:p).filter(function(e){var a=e.node,t=a.tipo;a.user;return"elaborati_conferenza_paesaggistica"===t}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Esisto Conferenza Paesaggistica"),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"Verbali e Allegati"),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:v,mutation:r,resourceMutation:l,variables:{codice:u,tipo:"elaborati_conferenza_paesaggistica"},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:u},mutation:n,canCommit:v.length>0})))},wr=function(e){var a=e.getM,t=void 0===a?Ua:a,n=Object(w.a)(e,["getM"]);return i.a.createElement(l.c,{query:t,variables:{codice:se(n)},onError:ce},function(e){var a=e.loading,t=e.data,o=(t=void 0===t?{}:t).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0];return a?i.a.createElement(jo,null):i.a.createElement(kr,Object.assign({},n,{procedura:l}))})},_r=function(e){var a=e.back,t=e.deleteRes,n=void 0===t?jt:t,o=e.uploadRes,r=void 0===o?Lt:o,c=e.saveM,l=void 0===c?Wn:c,s=e.procedura,d=(s=void 0===s?{}:s).node,u=(d=void 0===d?{}:d).uuid,m=e.piano.tipo,p=void 0===m?"":m,v=e.elab,f=(v=void 0===v?{}:v).node,E=(f=void 0===f?{}:f).uuid,g=f.risorse,b=(g=void 0===g?{}:g).edges,N=void 0===b?[]:b;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Revisione Piano post C.P."),i.a.createElement(Lo,{fontWeight:"font-weight-light"},"ELABORATI DEL PIANO"),i.a.createElement(Er,{conSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:p.toLowerCase(),resources:N,mutation:r,resourceMutation:n,uuid:E}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:u},mutation:l,canCommit:!0})))},Dr=function(e){var a=e.outerQuery,t=void 0===a?Ua:a,n=e.query,o=void 0===n?Ha:n,r=Object(w.a)(e,["outerQuery","query"]),s=se(r);return i.a.createElement(l.c,{query:t,variables:{codice:s},onError:ce},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).modello,d=(n=void 0===n?[]:n).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return i.a.createElement(l.c,{query:o,variables:{codice:s},onError:ce},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).modello,l=(o=void 0===o?[]:o).edges;l=void 0===l?[]:l;var s=Object(c.a)(l,1)[0];return t||a?i.a.createElement(jo,null):i.a.createElement(_r,Object.assign({},r,{procedura:u,elab:s}))})})},Ur=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,c=(r=void 0===r?{}:r).edges,l=void 0===c?[]:c,s=e.utente,d=(s=void 0===s?{}:s).fiscalCode,u=e.scadenza,m=e.tipo,p=void 0===m?"parere_adozione_sca":m,v=e.label,f=void 0===v?"Pareri":v,E=e.saveMutation,g=void 0===E?Xn:E,b=l.filter(function(e){var a=e.node,t=a.tipo,n=a.user;return t===p&&d===(void 0===n?{}:n).fiscalCode}).map(function(e){return e.node});return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Pareri SCA"),i.a.createElement(Ro,{fontSize:"size-11",iconSize:"icon-15",scadenza:u&&ie(u,30)}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,u&&ne(u,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(Lo,{fontWeight:"font-weight-light"},f),i.a.createElement(Ji,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,risorse:b,mutation:Tt,resourceMutation:kt,variables:{codice:o,tipo:p},isLocked:!1}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:g,canCommit:b.length>0})))},Vr=function(e){return i.a.createElement(l.c,{query:Qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(Ur,Object.assign({},e,{vas:r}))})},$r=Ie()(function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=e.utente,u=((d=void 0===d?{}:d).fiscalCode,e.scadenza),m=e.tipo,p=void 0===m?"parere_motivato":m,v=e.label,f=void 0===v?"PARERE MOTIVATO AC":v,E=e.saveMutation,g=void 0===E?Jn:E,b=s.filter(function(e){var a=e.node,t=a.tipo;a.user;return t===p}),N=Object(c.a)(b,1)[0],z=(N=void 0===N?{}:N).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Pareri Motivato AC"),i.a.createElement(Ro,{fontSize:"size-11",iconSize:"icon-15",scadenza:u&&ie(u,30)}),i.a.createElement("div",{className:"mt-4 border-bottom-2 pb-3 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide pr-3 icon-15"},"event_busy"),i.a.createElement("div",{className:"d-flex flex-column size-11"},i.a.createElement("span",null,u&&ne(u,"dd MMMM yyyy")),i.a.createElement("span",null,"Data entro la quale ricevere i pareri"))),i.a.createElement(Lo,{fontWeight:"font-weight-light"},f),i.a.createElement("div",{className:"action-uploader  py-2 align-self-start border-bottom"},i.a.createElement(Qi,{className:"border-0",iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,placeholder:"Upload file parere",mutation:Tt,resourceMutation:kt,disabled:!1,isLocked:!1,risorsa:z,variables:{codice:o,tipo:p}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:g,canCommit:z})))}),Mr=function(e){return i.a.createElement(l.c,{query:Qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?[]:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement($r,Object.assign({},e,{vas:r}))})},Fr={className:"border-0",mutation:Tt,resourceMutation:kt,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},qr=function(e){var a=e.back,t=e.vas,n=(t=void 0===t?{}:t).node,o=(n=void 0===n?{}:n).uuid,r=n.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=s.filter(function(e){return"documento_sintesi"===e.node.tipo}),u=Object(c.a)(d,1)[0],m=(u=void 0===u?{}:u).node,p=s.filter(function(e){return"rapporto_ambientale"===e.node.tipo}),v=Object(c.a)(p,1)[0],f=(v=void 0===v?{}:v).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Upload Elaborati VAS"),i.a.createElement("div",{className:"action-uploader mt-4 py-1 align-self-start border-bottom"},i.a.createElement(Qi,Object.assign({},Fr,{placeholder:"Documento di sintesi",risorsa:m,variables:{codice:o,tipo:"documento_sintesi"}}))),i.a.createElement("div",{className:"action-uploader mt-4 py-1 align-self-start border-bottom"},i.a.createElement(Qi,Object.assign({},Fr,{placeholder:"Rapporto ambientale",risorsa:f,variables:{codice:o,tipo:"rapporto_ambientale"}}))),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:o},mutation:Yn,canCommit:f&&m})))},Zr=function(e){return i.a.createElement(l.c,{query:Qa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];a.error;return t?i.a.createElement(jo,null):i.a.createElement(qr,Object.assign({},e,{vas:r}))})},Br=le("proceduraApprovazione"),Gr={className:"border-0",mutation:wt,resourceMutation:_t,disabled:!1,isLocked:!1,iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0},Wr=Ie({onUpdate:!1,log:!1,comp:"ApprovazioneProc"})(function(e){var a=e.proceduraApprovazione,t=(a=void 0===a?{}:a).uuid,n=a.dataDeliberaApprovazione,o=a.urlPianoPubblicato,r=a.risorse,l=(r=void 0===r?{}:r).edges,s=void 0===l?[]:l,d=e.piano,u=d.tipo,m=void 0===u?"":u,p=d.soggettiOperanti,v=void 0===p?[]:p,f=e.back,E=s.filter(function(e){return"delibera_approvazione"===e.node.tipo}),g=Object(c.a)(E,1)[0],b=(g=void 0===g?{}:g).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,"Trasmissione Approvazione"),i.a.createElement("div",{className:"action-uploader  mt-5 py-1 align-self-start"},i.a.createElement(Qi,Object.assign({},Gr,{placeholder:"DELIBERA DI APPROVAZIONE",risorsa:b,variables:{codice:t,tipo:"delibera_approvazione"}}))),i.a.createElement(Lo,{className:"pb-1 d-flex justify-content-between size-14"},i.a.createElement("span",{className:"my-auto"},"DATA APPROVAZIONE"),i.a.createElement(ki,{popperPlacement:"left",placeholder:"SELEZIONA DATA APPROVAZIONE",selected:n?new Date(n):void 0,getInput:Br(t,"dataDeliberaApprovazione"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:ri})),i.a.createElement(Lo,null,"ELABORATI DEL PIANO"),i.a.createElement(Er,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,tipoPiano:m.toLowerCase(),resources:s,mutation:wt,resourceMutation:_t,uuid:t}),i.a.createElement(Lo,null,"PUBBLICAZIONE"),i.a.createElement("div",{className:"mt-4 row d-flex align-items-center"},i.a.createElement("div",{className:"col-2 size-12"},"URL "),i.a.createElement("div",{className:"col-9 "},i.a.createElement(bo,{className:"size-10",placeholder:"COPIA URL PUBBLICAZIONE",getInput:Br(t,"urlPianoPubblicato"),mutation:ri,disabled:!1,onChange:void 0,value:o,type:"url"}))),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(Lo,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(br,{soggettiOperanti:v}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-5"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:f,variables:{codice:t},mutation:ci,canCommit:b&&n&&o})))}),Hr=function(e){return i.a.createElement(l.c,{query:Xa,variables:{codice:se(e)},onError:ce},function(a){var t=a.loading,n=a.data,o=(n=void 0===n?{}:n).modello,r=(o=void 0===o?[]:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=(l=void 0===l?{}:l).node;return t?i.a.createElement(jo,null):i.a.createElement(Wr,Object.assign({},e,{proceduraApprovazione:s}))})},Qr=function(e){var a=e.back,t=e.fileType,n=void 0===t?"rapporto_ambientale":t,o=e.title,r=void 0===o?"Upload file":o,l=e.subTitle,s=e.closeAction,d=e.placeholder,u=void 0===d?"Documento":d,m=e.uploadRes,p=e.deleteRes,v=e.modello,f=(v=void 0===v?{}:v).node,E=(f=void 0===f?{}:f).uuid,g=f.risorse,b=(g=void 0===g?{}:g).edges,N=(void 0===b?[]:b).filter(function(e){var a=e.node,t=a.tipo;a.user;return t===n}),z=Object(c.a)(N,1)[0],h=(z=void 0===z?{}:z).node;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,r),i.a.createElement(To,{className:"size-13 pb-1 pt-5"},l),i.a.createElement("div",{className:"action-uploader mt-4 align-self-start border-bottom border-top"},i.a.createElement(Qi,{iconSize:"icon-15",fontSize:"size-11",vertical:!0,useLabel:!0,className:"border-0",placeholder:u,mutation:m,resourceMutation:p,disabled:!1,isLocked:!1,risorsa:h,variables:{codice:E,tipo:n}})),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:E},mutation:s,canCommit:h})))},Xr=function(e){var a=e.query,t=Object(w.a)(e,["query"]);return i.a.createElement(l.c,{query:a,variables:{codice:se(t)},onError:ce},function(e){var a=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return a?i.a.createElement(jo,null):i.a.createElement(Qr,Object.assign({},t,{modello:r}))})},Jr=function(e){var a=e.back,t=e.title,n=void 0===t?"Pubblicazione Piano":t,o=e.subTitle,r=e.procedura,c=void 0===r?"proceduraApprovazione":r,l=e.closeAction,s=e.urlLabel,d=void 0===s?"URL SITO":s,u=e.placeholder,m=void 0===u?"COPIA URL PIANO":u,p=e.updateM,v=e.piano.soggettiOperanti,f=void 0===v?[]:v,E=e.modello,g=(E=void 0===E?{}:E).node,b=(g=void 0===g?{}:g).uuid,N=g.pubblicazioneUrl,z=g.pubblicazioneUrlData,h=le(c);return i.a.createElement(i.a.Fragment,null,i.a.createElement(xo,null,n),i.a.createElement("p",{className:"mt-2"},o),i.a.createElement("div",{className:"mt-4 row d-flex align-items-center mb-1"},i.a.createElement("div",{className:"col-3 size-12"},d),i.a.createElement("div",{className:"col-9 "},i.a.createElement(bo,{className:"size-10",placeholder:m,getInput:h(b,"pubblicazioneUrl"),mutation:p,disabled:!1,onChange:void 0,value:N,type:"text"}))),i.a.createElement(Lo,{fontWeight:"font-weight-light",className:"pb-1 d-flex justify-content-between size-12"},i.a.createElement("span",{className:"my-auto"},"DATA PUBBLICAZIONE"),i.a.createElement(ki,{popperPlacement:"left",placeholder:"SELEZIONA DATA",selected:z?new Date(z):void 0,getInput:h(b,"pubblicazioneUrlData"),className:"py-0 ml-2 rounded-pill size-8 icon-13",mutation:p})),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement(Lo,{className:"pt-4 font-weight-light"},"DESTINATARI"),i.a.createElement(br,{soggettiOperanti:f}),i.a.createElement("div",{className:"w-100 border-top mt-3"}),i.a.createElement("div",{className:"align-self-center mt-7"},i.a.createElement(mo,{fontSize:"size-8",onCompleted:a,variables:{codice:b},mutation:l,canCommit:N&&z})))},Yr=function(e){var a=e.query,t=Object(w.a)(e,["query"]);return i.a.createElement(l.c,{query:a,variables:{codice:se(t)},onError:ce},function(e){var a=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0];return a?i.a.createElement(jo,null):i.a.createElement(Jr,Object.assign({},t,{modello:r}))})},Kr={avvioConsultazioniSca:function(e){return i.a.createElement(Do,e)},pareriVerificaVas:function(e){return i.a.createElement(Vo,e)},pareriSca:function(e){return i.a.createElement(Vo,Object.assign({tipo:"parere_sca",saveMutation:Tn,tipoVas:"documento_preliminare_vas",label:"Pareri SCA"},e))},emissioneProvvedimentoVerifica:function(e){return i.a.createElement(Fo,e)},pubblicazioneProvvedimentoVerifica:function(e){return i.a.createElement(Xo,e)},avvioProcedimento:function(e){return i.a.createElement(Go,e)},avvioEsamePareriSca:function(e){return i.a.createElement(Ho,e)},uploadElaboratiVas:function(e){return i.a.createElement(Yo,e)},protocolloGenioCivile:function(e){return i.a.createElement(er,e)},formazioneDelPiano:function(e){return i.a.createElement(tr,e)},richiestaConferenzaCopianificazione:function(e){return i.a.createElement(ir,e)},esitoConferenzaCopianificazione:function(e){return i.a.createElement(sr,e)},richiestaIntegrazioni:function(e){return i.a.createElement(mr,e)},integrazioniRichieste:function(e){return i.a.createElement(cr,e)},trasmissioneAdozione:function(e){return i.a.createElement(Or,e)},uploadOsservazioniPrivati:function(e){return i.a.createElement(Ir,e)},osservazioniEnti:function(e){return i.a.createElement(Ir,Object.assign({hideSave:!0,disableSave:!0,label:"OSSERVAZIONI",titolo:"Osservazioni Ente",filterByUser:!1,tipo:"osservazioni_enti"},e))},controdeduzioni:function(e){return i.a.createElement(Tr,Object.assign({filterByUser:!1,saveMutation:Bn,showData:!1,label:"Carica Files",titolo:"CONTRODEDUZIONI",tipo:"controdeduzioni"},e))},osservazioniRegione:function(e){return i.a.createElement(yr,e)},pianoControdedotto:function(e){return i.a.createElement(Lr,e)},esitoConferenzaPaesaggistica:function(e){return i.a.createElement(wr,e)},revPianoPostCp:function(e){return i.a.createElement(Dr,e)},pareriAdozioneSca:function(e){return i.a.createElement(Vr,e)},parereMotivatoAc:function(e){return i.a.createElement(Mr,e)},uploadElaboratiAdozioneVas:function(e){return i.a.createElement(Zr,e)},trasmissioneApprovazione:function(e){return i.a.createElement(Hr,e)},esitoConferenzaPaesaggisticaAp:function(e){return i.a.createElement(wr,Object.assign({getM:Xa,saveM:li,uploadM:wt,deleteM:_t},e))},pubblicazioneApprovazione:function(e){return i.a.createElement(Yr,Object.assign({title:"Pubblicazione Approvazione",query:Xa,closeAction:Hn,updateM:ri},e))},attribuzioneConformitaPit:function(e){return i.a.createElement(Xr,Object.assign({title:"Conformit\xe0 PIT",placeholder:"Documento di conformit\xe0 Pit",fileType:"conformita-pit",subTitle:"Caricare il file di conformit\xe0",query:Xa,deleteRes:_t,uploadRes:wt,closeAction:Qn},e))},pubblicazionePiano:function(e){return i.a.createElement(Yr,Object.assign({title:"Pubblicazione Piano",procedura:"proceduraPubblicazione",query:Ja,updateM:si,closeAction:di},e))},contributiTecnici:function(e){return i.a.createElement(Xr,Object.assign({title:"Contributi Tecnici",placeholder:"Contributi Tecnici",fileType:"contributi_tecnici",subTitle:"Caricare il file dei contributi tecnici",query:Da,deleteRes:St,uploadRes:It,closeAction:ai},e))}},ec=Se(1e4),ac=Object.keys(Kr).reduce(function(e,a){return Object(H.a)({},e,Object($.a)({},a,ec(Kr[a])))},{}),tc=function(){return i.a.createElement("div",{className:"p-6"},"Azione non implementata")},nc=function(e){function a(){return Object(Ci.a)(this,a),Object(Si.a)(this,Object(Pi.a)(a).apply(this,arguments))}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){var e=this.props,a=e.match,t=(a=void 0===a?{}:a).url,n=a.path,o=e.location,r=(o=void 0===o?{}:o).pathname,c=e.history,l=e.utente,s=void 0===l?{attore:""}:l,m=e.piano,p=void 0===m?{}:m,v=e.azioni,f=void 0===v?[]:v,E=e.startPolling,g=e.stopPolling,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(e,"").split("/").filter(function(e){return""!==e}).shift()}(t,r),N=f.filter(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tipologia;return(void 0===e?"":e).toLowerCase().replace(" ","_")===b}).map(function(e){return e.data}).shift(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;c.push("".concat(t,"/").concat(e.toLowerCase().replace(" ","_"),"/").concat(a))},h=p.fase,A=function(){c.push(t)};return i.a.createElement("div",{className:"d-flex flex-column pb-4"},i.a.createElement("div",{className:"legenda-azioni bg-white pb-4 border-piano border-bottom"},i.a.createElement("div",{className:"d-flex border-serapide border-top border-bottom py-4 justify-content-around legenda-azioni"},i.a.createElement("span",{className:"my-auto"},"LEGENDA"),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_add"),i.a.createElement("span",{className:"size-13 align-self-center"},"E\u2019 richiesta un\u2019azione")),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_on"),i.a.createElement("span",{className:"size-13 align-self-center"},"In attesa di risposta da altri attori")),i.a.createElement("span",{className:"d-flex"},i.a.createElement("i",{className:"material-icons text-serapide mr-2"},"alarm_off"),i.a.createElement("span",{className:"size-13 align-self-center"},"Nessuna azione richiesta")))),i.a.createElement("div",{className:"d-flex home-container "},i.a.createElement("div",{className:Ne()("lista-azioni bg-white border  d-flex flex-column flex-1",{"flex-fill":!b})},ve(h)&&i.a.createElement(So,{initValue:"APPROVAZIONE"===h,fase:"pubblicazione",goToSection:function(){return c.push(t.replace("home","pubblicazione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(Io,{azioni:f,filtroFase:"approvazione",onExecute:z}))),pe(h)&&i.a.createElement(So,{initValue:"ADOZIONE"===h,fase:"approvazione",goToSection:function(){return c.push(t.replace("home","approvazione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(Io,{azioni:f,filtroFase:"adozione",onExecute:z}))),me(h)&&i.a.createElement(So,{initValue:"AVVIO"===h,fase:"adozione",goToSection:function(){return c.push(t.replace("home","adozione"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(Io,{azioni:f,filtroFase:"avvio",onExecute:z}))),i.a.createElement(So,{initValue:"ANAGRAFICA"===h,fase:"avvio",goToSection:function(){return c.push(t.replace("home","avvio"))}},i.a.createElement("div",{className:"py-4"},i.a.createElement(Io,{azioni:f,onExecute:z})))),i.a.createElement("div",{className:Ne()("d-flex flex-column",{"action-container flex-1 border  border-piano overflow-auto bg-white":b})},b&&i.a.createElement("div",{className:"mb-3 close  align-self-end",onClick:function(){return c.push(t)}},"x"),i.a.createElement(d.a,null,f.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.uuid,o=e.tipologia,r=void 0===o?"":o,c=(e.label,e.attore,e.qualificaRichiesta),l=e.eseguibile,d=void 0!==l&&l,m=r.toLowerCase(),v=ac[Object(G.camelCase)(m)];return v&&i.a.createElement(u.a,{exact:!0,key:m,path:"".concat(n,"/").concat(m,"/").concat(a)},d?i.a.createElement(v,{startPolling:E,stopPolling:g,piano:p,back:A,qualificaRichiesta:c,utente:s,scadenza:N}):i.a.createElement(Oo.a,{to:t}))}),b&&i.a.createElement(u.a,{path:n},i.a.createElement(tc,null))))))}}]),a}(i.a.PureComponent),ic=function(e){window.open(e,"_blank")},oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.utente,t=((a=void 0===a?{}:a).attore,e.piano),n=((t=void 0===t?{}:t).redazioneNormeTecnicheAttuazioneUrl,t.compilazioneRapportoAmbientaleUrl),o=t.conformazionePitPprUrl,r=t.monitoraggioUrbanisticoUrl,c=t.risorse.edges,l=(void 0===c?[]:c).filter(function(e){return"norme_tecniche_attuazione"===e.node.tipo}).map(function(e){return e.node}).shift(),s=l&&l.downloadUrl;return i.a.createElement(zo,null,i.a.createElement(ho,{icon:"build",title:"STRUMENTI PER LA FORMAZIONE DEL PIANO"}),i.a.createElement("div",{className:"m-auto p-5 text-center",style:{maxWidth:1e3}},"Selezionando uno dei riquadri si accede agli strumenti operativi per la redazione della disciplina del Piano, la valutazione ambientale, la conformazione al PIT-PPR ed il monitoraggio del dimensionamento. del consumo di suolo e del recupero urbano."),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-auto d-flex flex-column py-2 m-auto"},i.a.createElement(D.b,{disabled:!s,onClick:function(){return ic(s)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"REDAZIONE DISCIPINA"),i.a.createElement("span",null,"DEL PIANO"),i.a.createElement("span",null,"[Minerva]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},s))),i.a.createElement("div",{className:"col-auto d-flex flex-column m-auto"},i.a.createElement(D.b,{disabled:!n,onClick:function(){return ic(n)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"VALUTAZIONE E MONITORAGGIO"),i.a.createElement("span",null,"DEGLI EFFETTI AMBIENTALI"),i.a.createElement("span",null,"[Minerva]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},n)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto d-flex flex-column py-2 m-auto"},i.a.createElement(D.b,{disabled:!o,onClick:function(){return ic(o)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"CONFORMAZIONE"),i.a.createElement("span",null,"AL PIT-PPR"),i.a.createElement("span",null,"[Crono]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},o))),i.a.createElement("div",{className:"col-auto d-flex flex-column m-auto"},i.a.createElement(D.b,{disabled:!r,onClick:function(){return ic(r)},className:"margin-auto align-self-center",style:{minWidth:"20rem",maxWidth:"20rem"},size:"lg",color:"serapide"},i.a.createElement("div",{className:"d-flex flex-column size-16"},i.a.createElement("span",null,"MONITORAGGIO"),i.a.createElement("span",null,"URBANISTICO"),i.a.createElement("span",null,"[Input]"))),i.a.createElement("div",{className:"mt-3 mb-4"},i.a.createElement("span",null,"URL"),i.a.createElement("div",{className:"border p-2 overflow-hidden size-12",style:{width:"25rem",textOverflow:"ellipsis"}},r)))))},rc=Oe("section","toggleSection","vas")(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.procedureAvvio,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).dataScadenzaRisposta,o=t.garanteNominativo,r=t.garantePec,s=t.risorse,d=(s=void 0===s?{}:s).edges,u=void 0===d?[]:d,m=e.vas,p=(m=void 0===m?{}:m).node,v=(p=void 0===p?{}:p).risorse,f=(v=void 0===v?{}:v).edges,E=void 0===f?[]:f,g=e.piano,b=(g=void 0===g?{}:g).codice,N=g.numeroProtocolloGenioCivile,z=g.dataProtocolloGenioCivile,h=g.soggettiOperanti,A=void 0===h?[]:h,O=g.risorse.edges,C=void 0===O?[]:O,I=g.dataDelibera,S=g.numeroDelibera,P=e.toggleSection,y=e.section,x=(C.filter(function(e){return"delibera"===e.node.tipo}).shift()||{}).node,R=(u.filter(function(e){return"obiettivi_piano"===e.node.tipo}).shift()||{}).node,L=(u.filter(function(e){return"quadro_conoscitivo"===e.node.tipo}).shift()||{}).node,j=(u.filter(function(e){return"programma_attivita"===e.node.tipo}).shift()||{}).node,T=(u.filter(function(e){return"individuazione_garante_informazione"===e.node.tipo}).shift()||{}).node,k=(u.filter(function(e){return"contributi_tecnici"===e.node.tipo}).shift()||{}).node,w=u.filter(function(e){return"altri_allegati_avvio"===e.node.tipo}).map(function(e){return e.node}),_=u.filter(function(e){return"integrazioni"===e.node.tipo}).map(function(e){return e.node}),U=E.filter(function(e){return"rapporto_ambientale"===e.node.tipo}),V=Object(c.a)(U,1)[0],$=(V=void 0===V?{}:V).node;return i.a.createElement(zo,null,i.a.createElement(ho,{icon:"dashboard",title:"AVVIO DEL PROCEDIMENTO"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ne(I),"  \xa0 N\xb0 ",null!==S&&void 0!==S?S:"N\xb0 delibera non selezionato"," "),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:x,isLocked:!0})),i.a.createElement("div",{className:"col-12 pt-4 pb-2"},"ELABORATI DEL PIANO"),R&&L&&j&&T?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:R,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:L,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:j,isLocked:!0})),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:T,isLocked:!0}))):i.a.createElement("div",{className:"col-12 py-2"},"Nessun elaborato presente"),i.a.createElement("div",{className:"col-12 pt-4"},"ALTRI ALLEGATI",w.length>0?w.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 px-0 py-2"},i.a.createElement(Gi,{fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 px-0 py-2"},"Nessun allegato presente")),_.length>0&&i.a.createElement("div",{className:"col-12 pt-4"},"INTEGRAZIONI",_.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 px-0 py-2"},i.a.createElement(Gi,{fileSize:!1,resource:e,isLocked:!0}))})),i.a.createElement("div",{className:"col-12 pt-4 pb-2"},"CONTRIBUTI TECNICI"),k&&i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:k,isLocked:!0})),i.a.createElement("div",{className:"col-12 pt-4"},"GARANTE DELL'INFORMAZIONE E DELLA PARTECIAPZIONE",i.a.createElement("div",{className:"col-12 pt-2 pb-1"},o),i.a.createElement("div",{className:"col-12"},r)),i.a.createElement("div",{className:"col-12 d-flex align-items-center pt-4"},"TERMINI SCADENZA PER LA PROPOSTA",n&&i.a.createElement("span",{className:"p-2 ml-4 border bg-serapide"},i.a.createElement("i",{className:"material-icons pr-1"},"date_range"),i.a.createElement("span",{style:{verticalAlign:"super"}},ne(n)))),i.a.createElement(gr,{soggettiOperanti:A})),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"}),i.a.createElement(D.n,{tabs:!0},i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"vas"===y}]),onClick:function(){P("vas")}},"VAS")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"conferenza"===y}]),onClick:function(){P("conferenza")}},"CONFERENZA COPIANIFICAZIONE")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"genio"===y}]),onClick:function(){P("genio")}},"GENIO"))),i.a.createElement(D.q,{activeTab:y},i.a.createElement(D.r,{tabId:"vas"},"vas"===y&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 pt-4"},i.a.createElement(Eo,{codice:b,canUpdate:!1,isLocked:!0}),i.a.createElement("div",{className:"row pt-2"},i.a.createElement("div",{className:"col-12 pt-4"},"RAPPORTO AMBIENTALE"),i.a.createElement("div",{className:"col-12 pt-1"},$?i.a.createElement(Gi,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:$,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun rapporto ")))))),i.a.createElement(D.r,{tabId:"conferenza"},"conferenza"===y&&i.a.createElement(l.c,{query:Ga,variables:{codice:b},onError:ce},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0],l=void 0===r?{}:r;e.error;if(a)return i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")));var s=l.node,d=(s=void 0===s?{}:s).dataRichiestaConferenza,u=s.risorse,m=(u=void 0===u?{}:u).edges,p=(void 0===m?[]:m).filter(function(e){return"elaborati_conferenza"===e.node.tipo}).map(function(e){return e.node});return i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-8 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},"check_circle"),i.a.createElement("span",{className:"pl-1"},"RICHIESTA CONFERENZA DI COPIANIFICAZIONE")),i.a.createElement("div",{className:"col-4"},d?ne(d):"Nessuna richiesta"),i.a.createElement("div",{className:"w-100 border-top my-3 border-serapide"}),i.a.createElement("div",{className:"col-12 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},"check_circle"),i.a.createElement("span",{className:"pl-1 pb-2"},"ESITO")),i.a.createElement("div",{className:"col-auto smoll mb-2"},"Allegati e Verbali"),p.length>0?p.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12 px-0 py-2"},i.a.createElement(Gi,{className:"border-0",fileSize:!1,resource:e,isLocked:!0}))}):i.a.createElement("div",{className:"col-12 px-0 py-2"},"Nessun documento presente"))})),i.a.createElement(D.r,{tabId:"genio"},i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-12 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},"check_circle"),i.a.createElement("span",{className:"pl-1"},"NOTIFICA DEL GENIO CIVILE"))),!!N&&i.a.createElement("div",{className:"row pt-4"},i.a.createElement("div",{className:"col-12 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide self-align-center"},"check_circle"),i.a.createElement("span",{className:"pl-1"},"RICEZIONE PROTOCOLLO DAL GENIO CIVILE")),i.a.createElement("div",{className:"col-12 pt-3 pl-4 text-serapide"},N),i.a.createElement("div",{className:"col-12 pt-3 pl-4  text-serapide"},!!z&&ne(z))))))}),cc=function(e){e.back;var a=e.piano;return i.a.createElement(l.c,{query:Ka,variables:{codice:a.codice},onError:ce},function(e){var t=e.loading,n=e.data,o=(n=void 0===n?{}:n).procedureAvvio,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.procedureVas,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0];return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(rc,{procedureAvvio:l,vas:u,piano:a})})},lc=Oe("section","toggleSection","adozione")(function(e){var a=e.risorseAdozione,t=void 0===a?[]:a,n=e.risorseControdeduzioni,o=void 0===n?[]:n,r=e.risorsePostCP,c=void 0===r?[]:r,l=e.section,s=e.toggleSection;return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.n,{tabs:!0},i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()({active:"adozione"===l}),onClick:function(){s("adozione")}},"TRASMISSIONE")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()({active:"controdedotto"===l}),onClick:function(){s("controdedotto")}},"CONTRODEDOTTO")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()({active:"revisionePostCp"===l}),onClick:function(){s("revisionePostCp")}},"POST C.P."))),i.a.createElement(D.q,{activeTab:l},i.a.createElement(D.r,{tabId:"adozione"},i.a.createElement(Er,{upload:!1,resources:t})),i.a.createElement(D.r,{tabId:"controdedotto"},i.a.createElement(Er,{upload:!1,resources:o})),i.a.createElement(D.r,{tabId:"revisionePostCp"},i.a.createElement(Er,{upload:!1,resources:c}))))}),sc=Oe("section","toggleSection","art")(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.proceduraAdozione,t=(a=void 0===a?{}:a).node,n=(t=void 0===t?{}:t).dataDeliberaAdozione,o=t.pubblicazioneBurtUrl,r=t.pubblicazioneBurtData,l=t.pubblicazioneSitoUrl,s=t.pubblicazioneSitoData,d=t.richiestaConferenzaPaesaggistica,u=t.risorse,m=(u=void 0===u?{}:u).edges,p=void 0===m?[]:m,v=e.pianoContro,f=(v=void 0===v?{}:v).node,E=(f=void 0===f?{}:f).risorse,g=(E=void 0===E?{}:E).edges,b=void 0===g?[]:g,N=e.pianoRev,z=(N=void 0===N?{}:N).node,h=(z=void 0===z?{}:z).risorse,A=(h=void 0===h?{}:h).edges,O=void 0===A?[]:A,C=e.vas,I=(C=void 0===C?{}:C).node,S=(I=void 0===I?{}:I).risorse,P=(S=void 0===S?{}:S).edges,y=void 0===P?[]:P,x=e.piano,R=(x=void 0===x?{}:x).soggettiOperanti,L=void 0===R?[]:R,j=e.toggleSection,T=e.section,k=p.filter(function(e){var a=e.node,t=a.tipo;a.user;return"controdeduzioni"===t}).map(function(e){return e.node}),w=p.filter(function(e){return"delibera_adozione"===e.node.tipo}),_=Object(c.a)(w,1)[0],U=(_=void 0===_?{}:_).node,V=de(p,"osservazioni_enti"),$=de(y,"parere_sca"),M=y.filter(function(e){return"parere_motivato"===e.node.tipo}),F=Object(c.a)(M,1)[0],q=(F=void 0===F?{}:F).node,Z=y.filter(function(e){return"documento_sintesi"===e.node.tipo}),B=Object(c.a)(Z,1)[0],W=(B=void 0===B?{}:B).node,H=y.filter(function(e){return"rapporto_ambientale"===e.node.tipo}),Q=Object(c.a)(H,1)[0],X=(Q=void 0===Q?{}:Q).node,J=p.filter(function(e){return"elaborati_conferenza_paesaggistica"===e.node.tipo}).map(function(e){return e.node});return i.a.createElement(zo,null,i.a.createElement(ho,{icon:"library_add",title:"ADOZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ne(n)),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:U,isLocked:!0})),i.a.createElement("div",{className:"col-12 pt-4"},i.a.createElement(lc,{upload:!1,risorseAdozione:p,risorseControdeduzioni:b,risorsePostCP:O})),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(gr,{soggettiOperanti:L}),i.a.createElement("div",{className:"border-top w-100 my-4"}),i.a.createElement("div",{className:"col-4 pb-2"},"PUBBLICAZIONE B.U.R.T."),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},o)),i.a.createElement("div",{className:"col-2"},ne(r)),i.a.createElement("div",{className:"col-4"},"PUBBLICAZIONE SITO WEB"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},l)),i.a.createElement("div",{className:"col-2"},ne(s)),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"})),i.a.createElement(D.n,{tabs:!0},i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"art"===T,"text-serapide":"art"===T}]),onClick:function(){j("art")}},"ART. 19")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"vas"===T,"text-serapide":"vas"===T}]),onClick:function(){j("vas")}},"VAS")),i.a.createElement(D.o,null,i.a.createElement(D.p,{className:Ne()(["pointer",{active:"cpAnte"===T,"text-serapide":"cpAnte"===T}]),onClick:function(){j("cpAnte")}},"CONFERENZA PAESAGGISTICA ANTE"))),i.a.createElement(D.q,{activeTab:T},i.a.createElement(D.r,{tabId:"art"},"art"===T&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"OSSERVAZIONI ENTI"),i.a.createElement("div",{className:"col-12 pt-1"},Object(G.isEmpty)(V)?i.a.createElement("div",{className:"col-12 samll"},"Nessuna Osservazione "):Object(G.map)(V,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},oe(e[0].user))),e.map(function(e){return i.a.createElement(Gi,{key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))})),i.a.createElement("div",{className:"col-auto pt-4"},"OSSERVAZIONI PRIVATI"),p.filter(function(e){return"osservazioni_privati"===e.node.tipo}).map(function(e){var a=e.node;return i.a.createElement("div",{key:a.uuid,className:"col-12"},i.a.createElement(Gi,{className:"border-0 mt-2",resource:a}))}),i.a.createElement("div",{className:"col-auto pt-4"},"CONTRODEDUZIONI"),k.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Gi,{className:"border-0 mt-2",resource:e}))}))),i.a.createElement(D.r,{tabId:"vas"},"vas"===T&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"PARERI SCA"),i.a.createElement("div",{className:"col-12 pt-1"},$?Object(G.map)($,function(e){return i.a.createElement("div",{key:e[0].user.fiscalCode,className:"mb-4"},i.a.createElement("div",{className:"d-flex text-serapide"},i.a.createElement("i",{className:"material-icons"},"perm_identity"),i.a.createElement("span",{className:"pl-2"},oe(e[0].user))),e.map(function(e){return i.a.createElement(Gi,{key:e.uuid,className:"border-0 mt-2",icon:"attach_file",resource:e})}))}):i.a.createElement("div",{className:"col-12 samll"},"Nessun parere ")),i.a.createElement("div",{className:"col-auto pt-4"},"PARERERE MOTIVATO"),i.a.createElement("div",{className:"col-12 pt-1"},q?i.a.createElement(Gi,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:q,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun parere ")),i.a.createElement("div",{className:"col-auto pt-4"},"DOCUMENTI DI SINTESI"),i.a.createElement("div",{className:"col-12 pt-1"},W?i.a.createElement(Gi,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:W,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun documento ")),i.a.createElement("div",{className:"col-auto pt-4"},"RAPPORTO AMBIENTALE"),i.a.createElement("div",{className:"col-12 pt-1"},X?i.a.createElement(Gi,{className:"border-0 mt-2",fileSize:!1,useLabel:!0,resource:X,isLocked:!0}):i.a.createElement("div",{className:"col-12 samll"},"Nessun rapporto ")))),i.a.createElement(D.r,{tabId:"cpAnte"},d?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"ELABORATI CONFERENZA PAESAGGISTICA ANTE"),J.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Gi,{className:"border-0 mt-2",resource:e}))})):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"CONFERENZA PAESAGGISTICA ANTE NON RICHIESTA")))))}),dc=function(e){var a=e.piano;return i.a.createElement(l.c,{query:Ya,variables:{codice:a.codice},onError:ce},function(e){var t=e.loading,n=e.data,o=n.pianoControdedotto,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=n.pianoRevPostCp,d=(s=void 0===s?{}:s).edges;d=void 0===d?[]:d;var u=Object(c.a)(d,1)[0],m=n.procedureAdozione,p=(m=void 0===m?{}:m).edges;p=void 0===p?[]:p;var v=Object(c.a)(p,1)[0],f=n.procedureAdozioneVas,E=(f=void 0===f?{}:f).edges;E=void 0===E?[]:E;var g=Object(c.a)(E,1)[0];return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(sc,{vas:g,proceduraAdozione:v,pianoRev:u,pianoContro:l,piano:a})})},uc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.approvazione,t=(a=void 0===a?{}:a).dataDeliberaApprovazione,n=a.urlPianoPubblicato,o=a.pubblicazioneUrl,r=a.pubblicazioneUrlData,l=a.risorse,s=(l=void 0===l?{}:l).edges,d=void 0===s?[]:s,u=e.adozione,m=(u=void 0===u?{}:u).richiestaConferenzaPaesaggistica,p=e.piano,v=(p=void 0===p?{}:p).soggettiOperanti,f=void 0===v?[]:v,E=d.filter(function(e){return"delibera_approvazione"===e.node.tipo}),g=Object(c.a)(E,1)[0],b=(g=void 0===g?{}:g).node,N=d.filter(function(e){return"elaborati_conferenza_paesaggistica"===e.node.tipo}).map(function(e){return e.node});return i.a.createElement(zo,null,i.a.createElement(ho,{icon:"library_add",title:"APPROVAZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-12 py-2"},"DELIBERA DEL ",ne(t)),i.a.createElement("div",{className:"col-12 py-2"},i.a.createElement(Gi,{fileSize:!1,useLabel:!0,resource:b,isLocked:!0})),i.a.createElement("div",{className:"col-12 mt-3 py-2"},"ELABORATI PIANO"),i.a.createElement("div",{className:"col-12 pt-3"},i.a.createElement(Er,{upload:!1,resources:d})),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(gr,{soggettiOperanti:f}),i.a.createElement("div",{className:"border-top w-100 my-4"}),i.a.createElement("div",{className:"col-5"},"PUBBLICAZIONE SITO WEB"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},n)),i.a.createElement("div",{className:"col-2"}),i.a.createElement("div",{className:"col-5"},"PUBBLICAZIONE APPROVAZIONE"),i.a.createElement("div",{className:"col-5 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},o)),i.a.createElement("div",{className:"col-2"},ne(r)),i.a.createElement("div",{className:"border-serapide border-top w-100 my-4"})),m?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"CONFERENZA PAESAGGISTICA IN ADOZIONE")):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-auto pt-4"},"ELABORATI CONFERENZA PAESAGGISTICA"),N.map(function(e){return i.a.createElement("div",{key:e.uuid,className:"col-12"},i.a.createElement(Gi,{className:"border-0 mt-2",resource:e}))})))},mc=function(e){var a=e.piano;return i.a.createElement(l.c,{query:et,variables:{codice:a.codice},onError:ce},function(e){var t=e.loading,n=e.data,o=n.pianoRevPostCp,r=(o=void 0===o?{}:o).edges;r=void 0===r?[]:r;var l=Object(c.a)(r,1)[0],s=(l=void 0===l?{}:l).node,d=n.procedureApprovazione,u=(d=void 0===d?{}:d).edges;u=void 0===u?[]:u;var m=Object(c.a)(u,1)[0],p=(m=void 0===m?{}:m).node,v=n.procedureAdozione,f=(v=void 0===v?{}:v).edges;f=void 0===f?[]:f;var E=Object(c.a)(f,1)[0],g=(E=void 0===E?{}:E).node;return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(uc,{adozione:g,approvazione:p,pianoRev:s,piano:a})})},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.pubblicazione,t=(a=void 0===a?{}:a).pubblicazioneUrl,n=a.pubblicazioneUrlData,o=e.piano,r=(o=void 0===o?{}:o).soggettiOperanti,c=void 0===r?[]:r;return i.a.createElement(zo,null,i.a.createElement(ho,{icon:"turned_in",title:"PUBBLICAZIONE"}),i.a.createElement("div",{className:"row pt-5"},i.a.createElement("div",{className:"col-auto py-2"},"PUBBLICATOI IL ",ne(n)),i.a.createElement("div",{className:"col-auto py-2"},"URL"),i.a.createElement("div",{className:"col-auto py-2 d-flex"},i.a.createElement("i",{className:"material-icons text-serapide"},"link"),i.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"pl-1 text-secondary"},t)),i.a.createElement("div",{className:"border-top w-100 my-5"}),i.a.createElement("div",{className:"col-12 pt-3"},"DESTINATARI"),i.a.createElement(gr,{soggettiOperanti:c}),i.a.createElement("div",{className:"border-top w-100 my-4"})))},vc=function(e){var a=e.piano;return i.a.createElement(l.c,{query:Ja,variables:{codice:a.codice},onError:ce},function(e){var t=e.loading,n=e.data.modello,o=(n=void 0===n?{}:n).edges;o=void 0===o?[]:o;var r=Object(c.a)(o,1)[0],l=(r=void 0===r?{}:r).node;return t?i.a.createElement("div",{className:"flex-fill d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):i.a.createElement(pc,{pubblicazione:l,piano:a})})},fc=function(e){return e instanceof Element?e:document.getElementById(e)},Ec=function(e){function a(e){var t;return Object(Ci.a)(this,a),(t=Object(Si.a)(this,Object(Pi.a)(a).call(this,e))).el=fc(e.el),t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"render",value:function(){return this.el?r.a.createPortal(this.props.children,this.el):null}}]),a}(i.a.PureComponent),gc=t(446),bc=Object(gc.a)(function(e){var a=e.title,t=e.subtitle,n=e.icon,o=(e.disabled,e.iconColor),r=e.active,c=void 0!==r&&r,l=e.locked,s=void 0!==l&&l,d=e.className,u=void 0===d?"":d,m=e.expanded,p=void 0!==m&&m,v=e.children,f=e.href,E=e.history;return i.a.createElement("li",{onClick:function(){f&&!s&&E.push(f)},className:Ne()("list-group-item",u,{"text-serapide":c,active:c,locked:s,collapsed:!p})},i.a.createElement("div",{"data-for":"sidebar-tooltip","data-tip-disable":p,"data-tip":a,className:"d-flex align-items-center icons"},s&&p&&i.a.createElement("i",{className:"material-icons icon-12"},"lock"),i.a.createElement("i",{className:Ne()("material-icons",{"icon-15":!p},o)},n)),p&&i.a.createElement("div",{className:"d-flex flex-column"},i.a.createElement("span",{className:"title"},a),i.a.createElement("span",{className:"sub-title"},t)),p&&v)}),Nc=function(e){var a=e.piano,t=void 0===a?{}:a,n=e.expanded,o=e.url,r=e.active,c=e.toggleOpen;e.unreadMessages;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ae.a,{id:"sidebar-tooltip"}),n?i.a.createElement("div",{className:"sidebar-header"},i.a.createElement("span",{className:"close text-serapide",onClick:c},i.a.createElement("i",{className:"material-icons"},"close")),i.a.createElement("div",{className:"d-flex flex-column pt-2"},i.a.createElement("div",{className:"title-portale"},"PORTALE DEL TERRITORIO"),i.a.createElement("div",{className:"piano-title text-capitalize"},"".concat(t.codice)))):i.a.createElement("div",{className:"sidebar-header collapsed",onClick:c},i.a.createElement("i",{className:"material-icons pointer"},"reorder")),i.a.createElement("ul",{className:"list-group"},i.a.createElement(bc,{href:"home"!==r&&"".concat(o,"/home"),active:"home"===r,title:"HOME PIANO",icon:"home",expanded:n}),i.a.createElement(bc,{href:"".concat(o,"/anagrafica"),active:"anagrafica"===r,title:"ANAGRAFICA",icon:"assignment",expanded:n}),i.a.createElement(bc,{className:"border-bottom-3",href:"".concat(o,"/formazione"),active:"formazione"===r,title:"FORMAZIONE PIANO",subtitle:"Accesso agli strumenti",icon:"build",expanded:n}),i.a.createElement(bc,{href:"".concat(o,"/avvio"),active:"avvio"===r,title:"AVVIO",subtitle:"Avvio del Procedimento",icon:"dashboard",expanded:n}),i.a.createElement(bc,{locked:!me(t.fase),href:"".concat(o,"/adozione"),active:"adozione"===r,title:"ADOZIONE",icon:"library_add",expanded:n}),i.a.createElement(bc,{locked:!pe(t.fase),href:"".concat(o,"/approvazione"),active:"approvazione"===r,title:"APPROVAZIONE",icon:"offline_pin",expanded:n}),i.a.createElement(bc,{locked:!ve(t.fase),href:"".concat(o,"/pubblicazione"),active:"pubblicazione"===r,title:"PUBBLICAZIONE",icon:"turned_in",expanded:n})))},zc=Ce("expanded","toggleOpen",!0),hc=zc(function(e){function a(){return Object(Ci.a)(this,a),Object(Si.a)(this,Object(Pi.a)(a).apply(this,arguments))}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.stopPolling(1e4)}},{key:"render",value:function(){var e=this.props,a=e.piano,t=e.url,n=e.path,o=e.location,r=(o=void 0===o?{}:o).pathname,c=e.utente,l=void 0===c?{}:c,s=e.startPolling,m=e.stopPolling,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(e,"").split("/").filter(function(e){return""!==e}).shift()}(t,r);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ec,{el:"serapide-sidebar"},i.a.createElement(Nc,{url:t,piano:a,active:p,expanded:this.props.expanded,toggleOpen:this.props.toggleOpen,unreadMessages:l.unreadThreadsCount})),i.a.createElement("div",{className:"".concat(this.props.expanded?"sidebar-open":"sidebar-closed"," d-flex flex-column ")},i.a.createElement("div",{className:"bg-white pt-5 pb-5 d-flex justify-content-between align-items-center piano-header"},i.a.createElement("div",{className:"flex-grow-1 pr-4"},i.a.createElement("h4",{className:"text-uppercase h-pre mb-0"},ee(a.ente)),i.a.createElement("div",{className:"text-capitalize h-title"},"".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"VARIANTE"===e?e.toLowerCase():"piano ".concat(e.toLowerCase())}(a.tipo)," ").concat(a.codice)),i.a.createElement("div",{className:"h-sub"},a.descrizione)),i.a.createElement(Pe,{className:"stato-progress-xxl",stato:a.fase,legend:!0})),i.a.createElement(d.a,null,i.a.createElement(u.a,{path:"".concat(n,"/anagrafica"),component:Ao}),i.a.createElement(u.a,{path:"".concat(n,"/formazione")},i.a.createElement(oc,{utente:l,piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/avvio")},i.a.createElement(cc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/adozione")},i.a.createElement(dc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/approvazione")},i.a.createElement(mc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/pubblicazione")},i.a.createElement(vc,{piano:a})),i.a.createElement(u.a,{path:"".concat(n,"/home"),render:function(e){return i.a.createElement(nc,Object.assign({startPolling:s,stopPolling:m,utente:l,azioni:a.azioni,piano:a},e))}}),i.a.createElement(u.a,{path:n},i.a.createElement("div",{className:"p-6"},i.a.createElement("h1",null," Works in progress "),i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))))))))}}]),a}(i.a.PureComponent)),Ac=function(e){var a=e.match,t=(a=void 0===a?{}:a).url,n=a.path,o=a.params,r=(o=void 0===o?{}:o).code,s=e.history,d=Object(w.a)(e,["match","history"]);return i.a.createElement(l.c,{query:Fa,pollInterval:1e4,variables:{codice:r}},function(e){var a=e.loading,o=e.data,l=(o=void 0===o?{}:o).piani,u=(l=void 0===l?{}:l).edges;u=void 0===u?[]:u;var m=Object(c.a)(u,1)[0],p=(m=void 0===m?{}:m).node,v=(e.error,e.networkStatus),f=Object(w.a)(e,["loading","data","error","networkStatus"]);return a&&6!==v?i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))):p?i.a.createElement(hc,Object.assign({},d,f,{piano:p,url:t,path:n})):(_.toast.error("Impossibile trovare il piano: ".concat(r),{autoClose:!0,onClose:function(){return s.back()}}),i.a.createElement("div",null))})},Oc=function(e){var a=e.disabled,t=void 0!==a&&a,n=e.link,o=e.icon,r=void 0===o?"":o,c=e.iconColor,l=void 0===c?"":c,s=e.label,d=void 0===s?"":s,u=e.className,m=void 0===u?"":u,p=e.withBadge,v=void 0!==p&&p,f=e.badge,E=void 0===f?"":f,g=n?"a":"span";return i.a.createElement(g,{className:"".concat(m," link-icon nav-link"),href:t?"":n},v?i.a.createElement("span",{className:"d-inline-flex align-items-center"},i.a.createElement("i",{className:"material-icons ".concat(l)},r),i.a.createElement(D.a,{className:"nav-btn-badge",color:"light"},E)):i.a.createElement("i",{className:"material-icons ".concat(l)},r),i.a.createElement("div",{className:"link-icon-label"},d))},Cc=function(e){e.disabled;var a=e.messaggi,t=void 0===a?[]:a;return i.a.createElement(D.t,{tag:"li",className:"first menumessaggi text-white",inNavbar:!0},i.a.createElement(D.d,{tag:"span"},i.a.createElement(Oc,{className:"vertical-divider-right",icon:"email",iconColor:"text-serapide",withBadge:!0,badge:t.length,label:"Messaggi"})),i.a.createElement(D.c,{right:!0,className:"shadow"},t.map(function(e){var a=e.sentAt,t=(e.content,e.thread),n=(t=void 0===t?{}:t).id,o=t.absoluteUrl,r=t.subject,c=e.sender,l=(c=void 0===c?{}:c).email,s=c.firstName,d=c.lastName;return i.a.createElement("div",{key:n,className:"d-flex message-item pointer",onClick:function(){return window.location.href=o}},i.a.createElement("i",{className:"material-icons text-serapide"},"fiber_manual_record"),i.a.createElement("span",{className:"d-inline-flex flex-column"},i.a.createElement("span",{className:"text-nowrap"},"".concat(s," ").concat(d)),i.a.createElement("span",{className:"text-nowrap text-uppercase"},l),i.a.createElement("span",{className:"py-2"},"".concat(r," -- ").concat(ne(a)))))}),0===t.length?i.a.createElement("span",null,"Nessun messaggio"):i.a.createElement("a",{href:"/users/messages/inbox/",className:"d-block pt-4 text-center"},"Vai a utti i messagi")))},Ic=Ce("isOpen","toggle",!1)(function(e){var a=e.canCreatePiano,t=void 0!==a&&a,n=(e.attore,e.isOpen,e.toggle,e.user,e.messaggi),o=void 0===n?[]:n,r=e.alertsCount,c=void 0===r?0:r;return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.o,{className:"first"},i.a.createElement(Oc,{className:"vertical-divider-left disabled",icon:"find_in_page",label:"Ricerca",link:"/serapide/#/search",disabled:!0})),i.a.createElement(D.o,{className:"first"},i.a.createElement(Oc,{className:"disabled",icon:"view_list",label:"Archivio Piani",link:"/serapide/#/archivio",disabled:!0})),i.a.createElement(D.o,{className:"first"},i.a.createElement(Oc,{className:Ne()("vertical-divider-right",{disabled:!t}),disabled:!t,icon:"note_add",label:"Crea Nuovo Piano",link:"/serapide/#/nuovo_piano"})),i.a.createElement(D.o,{className:"first"},i.a.createElement(Oc,{className:"vertical-divider-right disabled",disabled:!0,icon:"today",label:"Calendario"})),i.a.createElement(D.o,{className:"first"},i.a.createElement(Oc,{className:"default",link:"./#/",icon:"notification_important",iconColor:"text-danger",withBadge:!0,badge:c,label:"Alert"})),i.a.createElement(Cc,{className:"first",messaggi:o}))}),Sc={_attore_attivo:"",_ruolo:""},Pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Sc[e]=a},yc=function(e){function a(e){var t;return Object(Ci.a)(this,a),(t=Object(Si.a)(this,Object(Pi.a)(a).call(this,e))).inject=function(e){document.body.classList.contains(e)||t.el.classList.add(e)},t.el=document.body,t}return Object(yi.a)(a,e),Object(Ii.a)(a,[{key:"componentDidMount",value:function(){this.props.themeClass&&this.inject(this.props.themeClass)}},{key:"componentDidUpdate",value:function(){this.props.themeClass&&this.inject(this.props.themeClass)}},{key:"componentWillUnmount",value:function(){this.el=null}},{key:"render",value:function(){return null}}]),a}(i.a.PureComponent),xc=document.getElementById("only-nav-bar");xc?r.a.render(i.a.createElement(function(){return i.a.createElement(l.a,{client:k},i.a.createElement(l.c,{query:Ma,pollInterval:1e4},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).utenti,o=(n=void 0===n?{}:n).edges,r=void 0===o?[{}]:o,c=(e.error,r[0].node),l=void 0===c?{}:c,s=l.attore,d=l.role,u=(d=void 0===d?{}:d).type;return a?null:(Sc._attore_attivo=s,Sc._ruolo=u,i.a.createElement(i.a.Fragment,null,i.a.createElement(yc,{themeClass:s}),i.a.createElement(Ec,{el:"user-navbar-list"},i.a.createElement(Ic,{messaggi:l.unreadMessages,alertsCount:l.alertsCount,attore:l.attore,roleType:u}))))}))},null),xc):r.a.render(i.a.createElement(function(){return i.a.createElement(l.a,{client:k},i.a.createElement(_.ToastContainer,null),i.a.createElement(l.c,{query:Ma},function(e){var a=e.loading,t=e.data,n=(t=void 0===t?{}:t).auth,o=(n=void 0===n?{}:n).profili,r=void 0===o?[]:o,l=t.utenti,m=(l=void 0===l?{}:l).edges;m=void 0===m?[]:m;var p=Object(c.a)(m,1)[0],v=(p=void 0===p?{}:p).node,f=void 0===v?{}:v,E=(e.error,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return fe(e).length>0}(r)),g=fe(r);return Pc("utente",f),Pc("profile",r),Pc("isAdminEnte",E),Pc("entiAdmin",g),a?i.a.createElement("div",{className:"serapide-content pt-5 pb-5 pX-md px-1 serapide-top-offset position-relative overflow-x-scroll"},i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"spinner-grow ",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(Ec,{el:"user-navbar-list"},i.a.createElement(Ic,{messaggi:f.unreadMessages,alertsCount:f.alertsCount,attore:f.attore,canCreatePiano:!0})),i.a.createElement(Ae.a,null),i.a.createElement("div",{className:"serapide-content serapide-top-offset position-relative overflow-auto"},i.a.createElement(s.a,null,i.a.createElement(d.a,null,i.a.createElement(u.a,{path:"/piano/:code",render:function(e){return i.a.createElement(Ac,Object.assign({utente:f},e))}}),i.a.createElement(u.a,{path:"/crea_anagrafica/:code",component:No}),i.a.createElement(u.a,{path:"/nuovo_piano/"},E&&i.a.createElement(Oi,{enti:g})),i.a.createElement(u.a,{path:"/",render:function(e){return i.a.createElement(vi,Object.assign({canCreatePiano:!0,utente:f},e))}})))))}))},null),document.getElementById("serapide"))}},[[188,2,1]]]);
//# sourceMappingURL=main.2ee15d9f.chunk.js.map